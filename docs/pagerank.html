<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - PageRank Prestige Scoring</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - PageRank Prestige Scoring">
<meta property="og:description" content="The model of status distribution implied by the Eigenvector Centrality approach implies that each actor distributes the same amount of status independently of the number of connections they have.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">PageRank Prestige Scoring</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Lecture Notes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ego.html" class="sidebar-item-text sidebar-link">Analyzing Ego Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eigen.html" class="sidebar-item-text sidebar-link">Matrix Eigendecomposition</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Centrality and Prestige</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./centrality.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Centrality Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-centrality.html" class="sidebar-item-text sidebar-link">Centrality in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pagerank.html" class="sidebar-item-text sidebar-link active">PageRank Prestige Scoring</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hits.html" class="sidebar-item-text sidebar-link">Hubs and Authorities</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige in Two Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Equivalence and Similarity</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structequiv.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./similarity.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random-walk.html" class="sidebar-item-text sidebar-link">Random Walk Concepts in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-similarity.html" class="sidebar-item-text sidebar-link">Similarity and Equivalence in Two-Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Communities and Clustering</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./community.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spectral.html" class="sidebar-item-text sidebar-link">Community Detection Using Spectral Clustering</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-community-ca.html" class="sidebar-item-text sidebar-link">Community Detection in Two-Mode Networks Using CA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-spectral.html" class="sidebar-item-text sidebar-link">Spectral Clustering of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">Two-Mode Networks</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-basic.html" class="sidebar-item-text sidebar-link">Analyzing Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-duality.html" class="sidebar-item-text sidebar-link">The Duality of Persons and Groups</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-ca.html" class="sidebar-item-text sidebar-link">Correspondence Analysis (CA) of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-reflections.html" class="sidebar-item-text sidebar-link">The Method of Reflections in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-fitness.html" class="sidebar-item-text sidebar-link">Fitness and Complexity in Two Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-null.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./backbone.html" class="sidebar-item-text sidebar-link">Extracting the Backbone of Bipartite Projections Using Two-Mode Graph Ensembles</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">Statistical Models</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./swap.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qap.html" class="sidebar-item-text sidebar-link">Network Regression Using Permutation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm1.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models I</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm2.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models II</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">Data Management</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./loading.html" class="sidebar-item-text sidebar-link">Loading Network Data from a File</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network-lists.html" class="sidebar-item-text sidebar-link">Handling Graph Objects in Lists</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subgraph-select.html" class="sidebar-item-text sidebar-link">Selecting a Subgraph Based on Edge Conditions</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#a-degree-normalized-model-of-status" id="toc-a-degree-normalized-model-of-status" class="nav-link active" data-scroll-target="#a-degree-normalized-model-of-status">A Degree-Normalized Model of Status</a></li>
  <li><a href="#pagerank-as-a-markov-difussion-model" id="toc-pagerank-as-a-markov-difussion-model" class="nav-link" data-scroll-target="#pagerank-as-a-markov-difussion-model">PageRank as a Markov Difussion Model</a></li>
  <li><a href="#pagerank-with-damping-and-teleportation-in-directed-graphs" id="toc-pagerank-with-damping-and-teleportation-in-directed-graphs" class="nav-link" data-scroll-target="#pagerank-with-damping-and-teleportation-in-directed-graphs">PageRank with Damping and Teleportation in Directed Graphs</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/pagerank.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">PageRank Prestige Scoring</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>The model of status distribution implied by the <a href="./prestige.html">Eigenvector Centrality approach</a> implies that each actor distributes the same amount of status <em>independently</em> of the number of connections they have. Status just replicates indefinitely. Thus, a node with a 100 friends has 100 status units to distribute to each of them and a node with a 10 friends has 10 units.</p>
<p>This is why the eigenvector idea rewards nodes who are connected to popular others more. Even though everyone begins with a single unit of status, well-connected nodes by degree end up having more of it to distribute.</p>
<section id="a-degree-normalized-model-of-status" class="level2">
<h2 class="anchored" data-anchor-id="a-degree-normalized-model-of-status">A Degree-Normalized Model of Status</h2>
<p>But what if status propagated in the network proportionately to the number of connections one had? For instance, if someone has 100 friends and they only had so much time or energy, they would only have a fraction of status to distribute to others than a person with 10 friends.</p>
<p>In that case, the node with a hundred friends would only have 1/100 of status units to distribute to each of their connections while the node with 10 friends would have 1/10 units. Under this formulation, being connected to <em>discerning</em> others, that is people who only connect to a few, is better than being connected to others who connect to everyone else indiscriminately.</p>
<p>How would we implement this model? First, let’s create a variation of the undirected friendship nomination adjacency matrix called the <span class="math inline">\(\mathbf{P}\)</span> matrix. It is defined like this:</p>
<p><span class="math display">\[
\mathbf{P} = \mathbf{D}_{out}^{-1}\mathbf{A}
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{A}\)</span> is our old friend the adjacency matrix, and <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> is a matrix containing the <em>inverse</em> of each node outdegree along the diagonals and zeroes in every other cell.</p>
<p>In <code>R</code> we can create the <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> matrix using the native <code>diag</code> function like this (using an undirected version of the Krackhardt high-tech managers friendship network):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   <span class="fu">library</span>(networkdata)</span>
<span id="cb1-2"><a href="#cb1-2"></a>   <span class="fu">library</span>(igraph)</span>
<span id="cb1-3"><a href="#cb1-3"></a>   g <span class="ot">&lt;-</span> <span class="fu">as_undirected</span>(ht_friends, <span class="at">mode =</span> <span class="st">"collapse"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb1-5"><a href="#cb1-5"></a>   D.o <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Recalling that the function <code>rowSums</code> gives us the row sums of the adjacency matrix, which is the same as each node’s outdegree.</p>
<p>We can check out that the <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> indeed contains the quantities we seek by looking at its first few rows and columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   <span class="fu">round</span>(D.o[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 0.11  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [2,] 0.00  0.1 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [3,] 0.00  0.0 0.17 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [4,] 0.00  0.0 0.00 0.14  0.0 0.00 0.00  0.0 0.00  0.00
 [5,] 0.00  0.0 0.00 0.00  0.1 0.00 0.00  0.0 0.00  0.00
 [6,] 0.00  0.0 0.00 0.00  0.0 0.14 0.00  0.0 0.00  0.00
 [7,] 0.00  0.0 0.00 0.00  0.0 0.00 0.33  0.0 0.00  0.00
 [8,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.2 0.00  0.00
 [9,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.17  0.00
[10,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.12</code></pre>
</div>
</div>
<p>We can then create the <span class="math inline">\(\mathbf{P}\)</span> matrix corresponding to the undirected version of the Krackhardt friendship network using matrix multiplication like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   P <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Recalling that <code>%*%</code> is the <code>R</code> matrix multiplication operator.</p>
<p>So the resulting <span class="math inline">\(\mathbf{P}\)</span> is the original adjacency matrix, in which each non-zero entry is equal to one divided by the outdegree of the corresponding node in each row.</p>
<p>Here are the first 10 rows and columns of the new matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>   <span class="fu">round</span>(P[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 0.00 0.11 0.00 0.11 0.00 0.00 0.00 0.11 0.00  0.00
 [2,] 0.10 0.00 0.00 0.10 0.10 0.10 0.00 0.00 0.00  0.00
 [3,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.17
 [4,] 0.14 0.14 0.00 0.00 0.00 0.00 0.00 0.14 0.00  0.00
 [5,] 0.00 0.10 0.00 0.00 0.00 0.00 0.00 0.00 0.10  0.10
 [6,] 0.00 0.14 0.00 0.00 0.00 0.00 0.14 0.00 0.14  0.00
 [7,] 0.00 0.00 0.00 0.00 0.00 0.33 0.00 0.00 0.00  0.00
 [8,] 0.20 0.00 0.00 0.20 0.00 0.00 0.00 0.00 0.00  0.20
 [9,] 0.00 0.00 0.00 0.00 0.17 0.17 0.00 0.00 0.00  0.17
[10,] 0.00 0.00 0.12 0.00 0.12 0.00 0.00 0.12 0.12  0.00</code></pre>
</div>
</div>
<p>Note that the entries are now numbers between zero and one and the matrix is <em>asymmetric</em>; that is, <span class="math inline">\(p_{ij}\)</span> is not necessarily equal to <span class="math inline">\(p_{ji}\)</span>. In fact <span class="math inline">\(p_{ij}\)</span> will only be equal to <span class="math inline">\(p_{ji}\)</span> when <span class="math inline">\(k_i = k_j\)</span> (nodes have the same degree). Each cell in the matrix is thus equal to <span class="math inline">\(1/k_i\)</span> where <span class="math inline">\(k_i\)</span> is the degree of the node in row <span class="math inline">\(i\)</span>.</p>
<p>Moreover the rows of <span class="math inline">\(\mathbf{P}\)</span> sum to one:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>   <span class="fu">rowSums</span>(P)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>Which means that the <span class="math inline">\(\mathbf{P}\)</span> matrix is <strong>row stochastic</strong>. That is the “outdegree” of each node in the matrix is forced to sum to a fixed number. Substantively this means that we are equalizing the total amount of prestige or status that each node can distribute in the system to a fixed quantity.</p>
<p>This means that nodes with a lot of out-neighbors will dissipate this quantity by distributing it across a larger number of recipients (hence their corresponding non-zero entries in the rows of <span class="math inline">\(\mathbf{P}\)</span>) will be a small number) and nodes with a few out-neighbors will have more to distribute.</p>
<p>Another thing to note is that while the sums of the <span class="math inline">\(\mathbf{P}\)</span> matrix sum to a fixed number (1.0) the sums of the <em>columns</em> of the same matrix do not:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>   <span class="fu">round</span>(<span class="fu">colSums</span>(P), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.11 1.34 0.63 0.86 1.56 1.06 0.37 0.51 0.61 1.21 2.33 0.92 0.17 0.87 1.08
[16] 0.53 2.73 0.54 1.21 0.60 0.77</code></pre>
</div>
</div>
<p>This means that inequalities in the system will be tied to the <em>indegree</em> of each node in the <span class="math inline">\(\mathbf{P}\)</span> matrix, which is given by either the column sums of the matrix (as we just saw) or the <em>row sums</em> of the <em>transpose</em> of the same matrix <span class="math inline">\(\mathbf{P}^T\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>   <span class="fu">round</span>(<span class="fu">rowSums</span>(<span class="fu">t</span>(P)), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.11 1.34 0.63 0.86 1.56 1.06 0.37 0.51 0.61 1.21 2.33 0.92 0.17 0.87 1.08
[16] 0.53 2.73 0.54 1.21 0.60 0.77</code></pre>
</div>
</div>
<p>This will come in handy in a second.</p>
<p>The <span class="math inline">\(\mathbf{P}\)</span> matrix has many interpretations, but here it just quantifies the idea that the amount of centrality each node can distribute is proportional to their degree, and that the larger the degree, the less there is to distribute (the smaller each cell <span class="math inline">\(p_{ij}\)</span> will be). Meanwhile, it is clear that nodes that are pointed to by many other nodes who themselves don’t point to many others have a larger indegree in <span class="math inline">\(\mathbf{P}\)</span>.</p>
<p>Now we can just adapt the the model of status distribution we used for <a href="./prestige.html">eigenvector centrality</a> but this time using the <span class="math inline">\(\mathbf{P}\)</span> rather than the <span class="math inline">\(\mathbf{A}\)</span> matrix. Note that because we are interested in the status that comes <strong>into</strong> each node we use the <em>transpose</em> of <span class="math inline">\(\mathbf{P}\)</span> rather than <span class="math inline">\(\mathbf{P}\)</span>, just like we did for the <span class="citation" data-cites="bonacich72">Bonacich (<a href="#ref-bonacich72" role="doc-biblioref">1972</a>)</span> status score.</p>
<p>Here’s our old status game function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>   status1 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb13-2"><a href="#cb13-2"></a>      x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">nrow</span>(w), <span class="fu">nrow</span>(w)) <span class="co">#initial status vector set to one over the number of nodes</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>      d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initial delta</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>      <span class="cf">while</span> (d <span class="sc">&gt;</span> <span class="fl">1e-10</span>) {</span>
<span id="cb13-5"><a href="#cb13-5"></a>            o.x <span class="ot">&lt;-</span> x <span class="co">#old status scores</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>            x <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.x <span class="co">#new scores a function of old scores and adjacency matrix</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>            x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">norm</span>(x, <span class="at">type =</span> <span class="st">"E"</span>) <span class="co">#normalizing new status scoress</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>            d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(x) <span class="sc">-</span> <span class="fu">abs</span>(o.x))) <span class="co">#delta between new and old scores</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>         }  <span class="co">#end while loop</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>      <span class="fu">return</span>(<span class="fu">as.vector</span>(x))</span>
<span id="cb13-11"><a href="#cb13-11"></a>      }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>At each step, the status of a node is equivalent to the sum of the status scores of their in-neighbors, with more discerning in-neighbors passing along more status than less discerning ones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>   s2 <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(P))</span>
<span id="cb14-2"><a href="#cb14-2"></a>   s2 <span class="ot">&lt;-</span> s2<span class="sc">/</span><span class="fu">max</span>(s2)</span>
<span id="cb14-3"><a href="#cb14-3"></a>   <span class="fu">round</span>(s2, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>What if I told you that these numbers are the same as the leading eigenvector of <span class="math inline">\(\mathbf{P}^T\)</span>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>   s2 <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">eigen</span>(<span class="fu">t</span>(P))<span class="sc">$</span>vector[, <span class="dv">1</span>])</span>
<span id="cb16-2"><a href="#cb16-2"></a>   s2 <span class="ot">&lt;-</span> s2<span class="sc">/</span><span class="fu">max</span>(s2)</span>
<span id="cb16-3"><a href="#cb16-3"></a>   <span class="fu">round</span>(s2, <span class="dv">3</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>And, of course, the (normalized) scores produced by this approach are identical to those computed by the <code>page_rank</code> function in <code>igraph</code> with “damping factor” (to be explained in a second ) set to 1.0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>   pr <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(g, <span class="at">damping =</span> <span class="dv">1</span>, <span class="at">algo =</span> <span class="st">"arpack"</span>)<span class="sc">$</span>vector</span>
<span id="cb18-2"><a href="#cb18-2"></a>   <span class="fu">round</span>(pr<span class="sc">/</span><span class="fu">max</span>(pr), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>So the distributional model of status is the same one implemented in the PageRank algorithm!</p>
</section>
<section id="pagerank-as-a-markov-difussion-model" class="level2">
<h2 class="anchored" data-anchor-id="pagerank-as-a-markov-difussion-model">PageRank as a Markov Difussion Model</h2>
<p>Remember how we just said that there are multiple ways of thinking about <span class="math inline">\(\mathbf{P}\)</span>? Another way of thinking about the <span class="math inline">\(\mathbf{P}\)</span> matrix is as characterizing the behavior of a <strong>random walker</strong> in the graph. At any time point <span class="math inline">\(t\)</span> the walker (a piece of information, a virus, or status itself) sits on node <span class="math inline">\(i\)</span> and the with probability <span class="math inline">\(p_{ij}\)</span> jumps to <span class="math inline">\(j\)</span>, who is one of node <span class="math inline">\(i\)</span>’s out-neighbors. The probabilities for each <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> combination are stored in the matrix <span class="math inline">\(\mathbf{P}\)</span>.</p>
<p>So our status game can best be understood as a special case of a <strong>diffusion</strong> game, where what’s being diffused through the network is status itself. Let’s see how this would work.</p>
<p>Imagine we want to spread something through the Krackhardt managers friendship network like a rumor or a piece of information. We start with a seed node <span class="math inline">\(i\)</span> and then track “where” the rumor is at each time step in the network (where the location is a person in the network). The rules of the game are the Markov diffusion model we described above. At each time step the rumor sits on some <span class="math inline">\(j\)</span> and it diffuses to one of <span class="math inline">\(j\)</span>’s neighbors <span class="math inline">\(k\)</span> with probability <span class="math inline">\(p_{jk}\)</span>. Where the rumor has been before that time step does not affect where it goes in the present.</p>
<p>This sequence of transmission events is called a <strong>markov chain</strong>, and when it happens in a graph it is called a <strong>random walk</strong> on the graph. The node at which the rumor sits at a given time <span class="math inline">\(t\)</span> is called the <strong>state</strong> of the markov chain at <span class="math inline">\(t\)</span>. For instance, the following function prints out <em>every</em> state of the markov chain for some series of steps <span class="math inline">\(q\)</span>, given a network transition matrix <span class="math inline">\(\mathbf{P}\)</span> (the <code>w</code> argument in the function):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>   markov.chain1 <span class="ot">&lt;-</span> <span class="cf">function</span>(w, <span class="at">seed =</span> <span class="dv">1</span>, <span class="at">q =</span> <span class="dv">100</span>) {</span>
<span id="cb20-2"><a href="#cb20-2"></a>      state <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing state vector</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>      i <span class="ot">&lt;-</span> seed <span class="co">#setting seed node</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>      <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>q) {</span>
<span id="cb20-5"><a href="#cb20-5"></a>         state[t] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(w), <span class="dv">1</span>, <span class="at">prob =</span> w[i, ]) <span class="co">#new state of the chain</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>         i <span class="ot">&lt;-</span> state[t] <span class="co">#new source node</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>      }</span>
<span id="cb20-8"><a href="#cb20-8"></a>   <span class="fu">return</span>(state)</span>
<span id="cb20-9"><a href="#cb20-9"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function above sets the “seed” node to that given in the argument <code>seed</code> (by default, node 1) in line 2. Then, in line 4, it enters the <code>for</code> loop to run <code>q</code> times (in this case 100 times). In line 6 the <code>state</code> vector at <code>t</code> is set to a random node <span class="math inline">\(j\)</span> sampled from the <span class="math inline">\(\mathbf{P}\)</span> matrix with probability equal to the entry <span class="math inline">\(p_{ij}\)</span> in the <span class="math inline">\(i^{th}\)</span> row of the matrix.</p>
<p>For instance when it comes to first node that row looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>   <span class="fu">round</span>(P[<span class="dv">1</span>, ], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.00 0.11 0.00 0.11 0.00 0.00 0.00 0.11 0.00 0.00 0.11 0.11 0.00 0.00 0.11
[16] 0.11 0.11 0.00 0.11 0.00 0.00</code></pre>
</div>
</div>
<p>Which means that nodes {2, 4, 8, 11, 12, 15, 16, 17, 19} (the neighbors of node 1) have an 11% chance each of being sampled in line 6 and the other ones have no chance. Then in line 7 the new source node is set to whatever neighbor of <span class="math inline">\(i\)</span> was sampled in line 6.</p>
<p>Here’s a markov chain state sequence of length 100 from the managers friendship network, starting with node 1 as the seed:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>   <span class="fu">markov.chain1</span>(P)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 12 17  7 17  7 14 15 14  3 17 14 15  9 11 19 15  5  9 10 16  4  2  1  2  5
 [26]  2 17 19 15  1  4  1 15  1 16  1  2 21 17  3 10  3 14  7 14 17 19 20 19  1
 [51] 17  2 11  9 17 16 10 12 21  2  6 21  6  7 17 20 11 18 20 17 16  2  4 17 16
 [76] 17 19 17 15 17  5 11  3 19  1 16 17  7 17  9 15  1 17 15 14  3 19  5 17  7</code></pre>
</div>
</div>
<p>We can of course create a longer one by changing the <code>q</code> argument while setting the seed node to 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>   <span class="fu">markov.chain1</span>(P, <span class="at">q =</span> <span class="dv">500</span>, <span class="at">seed =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 21  5 13  5 10  3 15 17 15  1 15  3 10  9 15 11  3 10  8 17  2  1  8 11  9
 [26]  6 21  6 17  7  6  2  4 17 19  5 17  9  6  9 11  9  6 21  5  9 10  8  4  8
 [51] 11  1  2 18  2 17 19  3 19 12 19  5 21 18  2 11 13  5 15 11  2  4 12  1 12
 [76]  1 12 19  5  2 21  2  6 21 18 11  4 12 10 16 10  9 15  6  7 17 21 12  6  9
[101] 17 14 15 14 19 12 21  6 17 21  5 13 11  8 17 12 19 17 16  2 19 20 10 12 11
[126]  8 17 21 18 21  6  7  6  9  5 10 12  4 12  4 16  1  8 11  5  9 17  8  4  8
[151] 17  1  8 11 18  2  1  8 11  3 15  6  2  4 17 19 14  5 19  2  1 16  2 11  4
[176]  1 17 12  4 11 13  5  9 11  5 14  7 17  7 14 19 15  1 16 17 20 11  8  4  8
[201]  4 11 15  1  8 17  1 12  1 17  8 10 17  9 11  4 11 19  2  6 12 11 17  4 17
[226] 20 11  3 17 19  1  8  1 16  1 11  2  6 15 19 14 19 17  5 10 17 19 17 10 12
[251] 11 18 21 12 19  3 10  5 21 12 17  7 17  3 14 15  9 17 21 18 21 12 21  2 21
[276] 12 19 12 10 17 11 12  6  7 14 19  5 14  7 14  3 11 15 11 20 19  3 17 21 12
[301] 17  3 10 16 17  6  2  5 21 12 17 11 17  3 14 19 15 14  5 14  5 13  5 11 12
[326] 10 17  2  4  8 11 19  1 17 16  4 16 10 17  4  1 19  1  4  1 11  1 15  1 17
[351]  3 17 14 19 11 12 11 18 21 17  4 17  8 17  9 10  3 19  1 17 12 11 19 11  3
[376] 11 20 18 21  2 21 18  2 21  6  7 17  8  4  1 17 21  2  6  2 21  5 11  3 14
[401]  5 15  5 10  8  1 15  1  4 17  4 12  1 17 10 17 20 18 20 19  2 21  2  6 21
[426] 17  6 12 21 18 20 17 14  7  6 21 17  8  1 12  4 17 15  3 14  5 10  5 10  8
[451] 11  3 15 14 17  4 17  2 19  2 17  5 10 12  6 17 15 19 11 20 18  2 11  9  6
[476] 12 21  5  9 10  5 13  5 19 14  5  2 21 12  1 11 19 11 20 11  5 13  5 19 12</code></pre>
</div>
</div>
<p>Note that one thing that happens here is that the rumor goes through some nodes more often than others. Another thing that you may be thinking is that the odds that a node will keep repeating itself in this chain has to do with how many neighbors they have since that increases the chances that they will be chosen in the <code>sample</code> line of the function. If you think that, you will be right!</p>
<p>One thing we can do with the long vector of numbers above is compute the <em>probability</em> that the chain will be in some state or another after a number of steps <span class="math inline">\(q\)</span>. To do that, all we have to do is find out the number of times each of the numbers (from one through twenty one) repeats itself, and then divide by the total number of steps.</p>
<p>In <code>R</code> we can do that like this, using <code>q = 50000</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>   states <span class="ot">&lt;-</span> <span class="fu">markov.chain1</span>(P, <span class="at">q =</span> <span class="dv">50000</span>, <span class="at">seed =</span> <span class="dv">1</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a>   count <span class="ot">&lt;-</span> <span class="fu">table</span>(states)</span>
<span id="cb27-3"><a href="#cb27-3"></a>   p <span class="ot">&lt;-</span> count<span class="sc">/</span><span class="fu">length</span>(states)</span>
<span id="cb27-4"><a href="#cb27-4"></a>   <span class="fu">names</span>(p) <span class="ot">&lt;-</span> <span class="fu">names</span>(count)</span>
<span id="cb27-5"><a href="#cb27-5"></a>   <span class="fu">round</span>(p, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
0.06 0.06 0.04 0.04 0.07 0.04 0.02 0.03 0.04 0.05 0.09 0.05 0.01 0.04 0.06 0.03 
  17   18   19   20   21 
0.11 0.02 0.06 0.03 0.04 </code></pre>
</div>
</div>
<p>Line 1 computes the states of the markov chain after 50000 iterations using our <code>markov.chain1</code> function. Then line 2 uses the native <code>R</code> function <code>table</code> as a handy trick to compute how many times each node shows up in the chain stored in the <code>count</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>   count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>states
   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
2842 3117 1911 2150 3252 2219  935 1568 1901 2545 4445 2531  679 1880 2856 1575 
  17   18   19   20   21 
5749 1222 3196 1580 1847 </code></pre>
</div>
</div>
<p>Finally, line 4 divides these numbers by the length of the chain to get the probability.</p>
<p>Note that the numbers stored in the <code>p</code> vector are readily interpretable. For instance, the <code>0.06</code> in the first spot tells us that if we were to run this chain many times and check where the rumor is at step fifty-thousand, there is 6% chance that the rumor will be sitting on node 1, while there is a 11% chance that it would be sitting on node 17, a 3% chance that it will be on node 18, and so forth.</p>
<p>Like well behaved probabilities, these numbers sum to 1.0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>   <span class="fu">sum</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>We can incorporate these steps in to a new and improved function like thus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>   markov.chain2 <span class="ot">&lt;-</span> <span class="cf">function</span>(w, <span class="at">seed =</span> <span class="dv">1</span>, <span class="at">q =</span> <span class="dv">100</span>) {</span>
<span id="cb33-2"><a href="#cb33-2"></a>      state <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>      i <span class="ot">&lt;-</span> seed</span>
<span id="cb33-4"><a href="#cb33-4"></a>      <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>q) {</span>
<span id="cb33-5"><a href="#cb33-5"></a>         state[t] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(w), <span class="dv">1</span>, <span class="at">prob =</span> w[i, ])</span>
<span id="cb33-6"><a href="#cb33-6"></a>         i <span class="ot">&lt;-</span> state[t]</span>
<span id="cb33-7"><a href="#cb33-7"></a>      }</span>
<span id="cb33-8"><a href="#cb33-8"></a>   count <span class="ot">&lt;-</span> <span class="fu">table</span>(states)</span>
<span id="cb33-9"><a href="#cb33-9"></a>   p <span class="ot">&lt;-</span> count<span class="sc">/</span><span class="fu">length</span>(states)</span>
<span id="cb33-10"><a href="#cb33-10"></a>   <span class="fu">names</span>(p) <span class="ot">&lt;-</span> <span class="fu">names</span>(count)</span>
<span id="cb33-11"><a href="#cb33-11"></a>   <span class="fu">return</span>(p)</span>
<span id="cb33-12"><a href="#cb33-12"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Which now does everything in one step:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>   <span class="fu">markov.chain2</span>(P, <span class="at">q =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9      10 
0.05684 0.06234 0.03822 0.04300 0.06504 0.04438 0.01870 0.03136 0.03802 0.05090 
     11      12      13      14      15      16      17      18      19      20 
0.08890 0.05062 0.01358 0.03760 0.05712 0.03150 0.11498 0.02444 0.06392 0.03160 
     21 
0.03694 </code></pre>
</div>
</div>
<p>There is another way to compute these probabilities more directly from the <span class="math inline">\(\mathbf{P}\)</span> matrix. The basic idea is that at any time <span class="math inline">\(t\)</span>, the distribution of probabilities across nodes in the network stored in the vector <span class="math inline">\(\mathbf{x}\)</span> is given by:</p>
<p><span class="math display">\[
\mathbf{x}(t) = \mathbf{P}^T\mathbf{x}(t-1)
\]</span></p>
<p>With the initial probability vector given by:</p>
<p><span class="math display">\[
\mathbf{x}(0) = \mathbf{e}^{(i)}
\]</span></p>
<p>Where <span class="math inline">\(e^{(i)}\)</span> is a vector containing all zeros except for the <span class="math inline">\(i^{th}\)</span> spot, where it contains a one, indicating the initial seed node.</p>
<p>Here’s an <code>R</code> function that implements this idea:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>   markov.chain3 <span class="ot">&lt;-</span> <span class="cf">function</span>(w, <span class="at">init =</span> <span class="dv">1</span>, <span class="at">steps =</span> <span class="dv">100</span>) {</span>
<span id="cb36-2"><a href="#cb36-2"></a>      x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">nrow</span>(w))</span>
<span id="cb36-3"><a href="#cb36-3"></a>      x[init] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>      P.t <span class="ot">&lt;-</span> <span class="fu">t</span>(w)</span>
<span id="cb36-5"><a href="#cb36-5"></a>      <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>steps) {</span>
<span id="cb36-6"><a href="#cb36-6"></a>         x <span class="ot">&lt;-</span> P.t <span class="sc">%*%</span> x</span>
<span id="cb36-7"><a href="#cb36-7"></a>         }</span>
<span id="cb36-8"><a href="#cb36-8"></a>   x <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(x)</span>
<span id="cb36-9"><a href="#cb36-9"></a>   <span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(w)</span>
<span id="cb36-10"><a href="#cb36-10"></a>   <span class="fu">return</span>(x)</span>
<span id="cb36-11"><a href="#cb36-11"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And we can see what it spits out:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>   p3 <span class="ot">&lt;-</span> <span class="fu">markov.chain3</span>(P)</span>
<span id="cb37-2"><a href="#cb37-2"></a>   <span class="fu">round</span>(p3, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
0.06 0.06 0.04 0.04 0.06 0.04 0.02 0.03 0.04 0.05 0.09 0.05 0.01 0.04 0.06 0.03 
  17   18   19   20   21 
0.11 0.03 0.06 0.03 0.04 </code></pre>
</div>
</div>
<p>Which are the same as our more complicated function above.</p>
<p>Now you may have noticed this already, but these are the same numbers produced by the the PageRank status game!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>   <span class="fu">names</span>(pr) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>   <span class="fu">round</span>(pr, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
0.06 0.06 0.04 0.04 0.06 0.04 0.02 0.03 0.04 0.05 0.09 0.05 0.01 0.04 0.06 0.03 
  17   18   19   20   21 
0.11 0.03 0.06 0.03 0.04 </code></pre>
</div>
</div>
<p>This gives us another (and perhaps) more intuitive interpretation of what the PageRank prestige ranking is all about. Nodes have more prestige if they are more “central” in a network where something is spreading via a random walk process. Higher ranked nodes will be visited more often by the random walker, less-highly-ranked nodes less.</p>
<p>Note that if a random walker is just a <em>web surfer</em> then it makes sense that a more highly visited page should be more prestigious (and show up toward the top in your Google search) than a less frequently visited page <span class="citation" data-cites="brin_page98">(<a href="#ref-brin_page98" role="doc-biblioref">Brin and Page 1998</a>)</span>.</p>
</section>
<section id="pagerank-with-damping-and-teleportation-in-directed-graphs" class="level2">
<h2 class="anchored" data-anchor-id="pagerank-with-damping-and-teleportation-in-directed-graphs">PageRank with Damping and Teleportation in Directed Graphs</h2>
<p>PageRank of course was designed to deal with <strong>directed graphs</strong> (like the World Wide Web). So let’s load up the version of the Krackhardt’s Managers data that contains the <strong>advice network</strong> which is an unambiguously directed relation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>   g <span class="ot">&lt;-</span> ht_advice</span>
<span id="cb41-2"><a href="#cb41-2"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A plot of the advice network is shown in <a href="#fig-krack">Figure&nbsp;1</a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-krack" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="pagerank_files/figure-html/fig-krack-1.png" class="img-fluid figure-img" width="768"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Krackhardt’s managers network</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We then compute the <span class="math inline">\(\mathbf{P}\)</span> matrix corresponding to this network:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>   D.o <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span>
<span id="cb42-2"><a href="#cb42-2"></a>   P <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>One issue that arises in computing the <span class="math inline">\(\mathbf{P}\)</span> for directed graphs is that there could be nodes with no out-neighbors (so-called sink nodes) or like node 6 in <a href="#fig-krack">Figure&nbsp;1</a>, who has just one out-neighbor (e.g., seeks advice from just one person), in which case the probability is 1.0 that if the random walker is at node 6 it will go to node 21.</p>
<p>To avoid this issue the original designers of the PageRank algorithm <span class="citation" data-cites="brin_page98">(<a href="#ref-brin_page98" role="doc-biblioref">Brin and Page 1998</a>)</span> added a “fudge” factor: That is, with probability <span class="math inline">\(\alpha\)</span> the random walker should hop from node to node following the directed links in the graph. But once in a while with probability <span class="math inline">\(1-\alpha\)</span> the walker should decide to “teleport” (with uniform probability) to <em>any</em> node in the graph whether it is an out-neighbor of the current node or not.</p>
<p>How do we do that? Well we need to “fix” the <span class="math inline">\(\mathbf{P}\)</span> matrix to allow for such behavior. So instead of <span class="math inline">\(\mathbf{P}\)</span> we estimate our distributive status model on the matrix <span class="math inline">\(\mathbf{G}\)</span> (yes, for <strong>G</strong>oogle):</p>
<p><span class="math display">\[
   \mathbf{G} = \alpha \mathbf{P} + (1 - \alpha) \mathbf{E}
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{E}\)</span> is a matrix of the same dimensions as <span class="math inline">\(\mathbf{P}\)</span> but containing <span class="math inline">\(1/n\)</span> in every cell indicating that every node has an equal chance of being “teleported” to.</p>
<p>So, fixing <span class="math inline">\(\alpha = 0.85\)</span> (the standard value chosen by <span class="citation" data-cites="brin_page98">Brin and Page (<a href="#ref-brin_page98" role="doc-biblioref">1998</a>)</span> in their original paper) our <span class="math inline">\(\mathbf{G}\)</span> matrix would be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>   n <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g)</span>
<span id="cb43-2"><a href="#cb43-2"></a>   E <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">/</span>n, n, n)</span>
<span id="cb43-3"><a href="#cb43-3"></a>   G <span class="ot">&lt;-</span> (<span class="fl">0.85</span> <span class="sc">*</span> P) <span class="sc">+</span> (<span class="fl">0.15</span> <span class="sc">*</span> E)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And then we just play our status distribution game on the transpose of <span class="math inline">\(\mathbf{G}\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>   s3 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">status1</span>(<span class="fu">t</span>(G)), <span class="dv">3</span>)</span>
<span id="cb44-2"><a href="#cb44-2"></a>   <span class="fu">round</span>(s3<span class="sc">/</span><span class="fu">max</span>(s3), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.302 0.573 0.165 0.282 0.100 0.437 0.635 0.255 0.092 0.180 0.237 0.242
[13] 0.087 0.268 0.097 0.168 0.258 0.440 0.087 0.200 1.000</code></pre>
</div>
</div>
<p>Which is the same answer you would get from the <code>igraph</code> function <code>page_rank</code> by setting the “damping” parameter to 0.85:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>   pr <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(g, <span class="at">damping =</span> <span class="fl">0.85</span>, <span class="at">algo =</span> <span class="st">"arpack"</span>)<span class="sc">$</span>vector</span>
<span id="cb46-2"><a href="#cb46-2"></a>   <span class="fu">round</span>(pr<span class="sc">/</span><span class="fu">max</span>(pr), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.302 0.573 0.165 0.281 0.100 0.437 0.635 0.256 0.091 0.180 0.237 0.242
[13] 0.086 0.269 0.097 0.169 0.258 0.440 0.086 0.200 1.000</code></pre>
</div>
</div>
<p>We can see therefore that the damping parameter simply controls the extent to which the PageRank ranking is driven by the directed connectivity of the <span class="math inline">\(\mathbf{P}\)</span> matrix, versus a stochastic or random component.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-bonacich72" class="csl-entry" role="doc-biblioentry">
Bonacich, Phillip. 1972. <span>“Factoring and Weighting Approaches to Status Scores and Clique Identification.”</span> <em>Journal of Mathematical Sociology</em> 2 (1): 113–20.
</div>
<div id="ref-brin_page98" class="csl-entry" role="doc-biblioentry">
Brin, Sergey, and Lawrence Page. 1998. <span>“The Anatomy of a Large-Scale Hypertextual Web Search Engine.”</span> <em>Computer Networks and ISDN Systems</em> 30 (1-7): 107–17.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>