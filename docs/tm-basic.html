<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - Analyzing Two-Mode Networks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - Analyzing Two-Mode Networks">
<meta property="og:description" content="This lecture deals with the network analysis of two-mode networks. Note that in the literature there is some terminological slippage. Two-mode networks are a type of social network.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Analyzing Two-Mode Networks</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Lecture Notes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ego.html" class="sidebar-item-text sidebar-link">Analyzing Ego Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eigen.html" class="sidebar-item-text sidebar-link">Matrix Eigendecomposition</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Centrality and Prestige</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./centrality.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Centrality Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-centrality.html" class="sidebar-item-text sidebar-link">Centrality in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige in Two Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Equivalence and Similarity</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structequiv.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./similarity.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random-walk.html" class="sidebar-item-text sidebar-link">Random Walk Concepts in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-similarity.html" class="sidebar-item-text sidebar-link">Similarity and Equivalence in Two-Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Communities and Clustering</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./community.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spectral.html" class="sidebar-item-text sidebar-link">Community Detection Using Spectral Clustering</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-community-ca.html" class="sidebar-item-text sidebar-link">Community Detection in Two-Mode Networks Using CA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-spectral.html" class="sidebar-item-text sidebar-link">Spectral Clustering of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Two-Mode Networks</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-basic.html" class="sidebar-item-text sidebar-link active">Analyzing Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-duality.html" class="sidebar-item-text sidebar-link">The Duality of Persons and Groups</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-ca.html" class="sidebar-item-text sidebar-link">Correspondence Analysis (CA) of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-fitness.html" class="sidebar-item-text sidebar-link">Fitness and Complexity in Two Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-null.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./backbone.html" class="sidebar-item-text sidebar-link">Extracting the Backbone of Bipartite Projections Using Two-Mode Graph Ensembles</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">Statistical Models</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./swap.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qap.html" class="sidebar-item-text sidebar-link">Network Regression Using Permutation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm1.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models I</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm2.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models II</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">Data Management</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./loading.html" class="sidebar-item-text sidebar-link">Loading Network Data from a File</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network-lists.html" class="sidebar-item-text sidebar-link">Handling Graph Objects in Lists</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subgraph-select.html" class="sidebar-item-text sidebar-link">Selecting a Subgraph Based on Edge Conditions</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#bipartite-graphs" id="toc-bipartite-graphs" class="nav-link active" data-scroll-target="#bipartite-graphs">Bipartite Graphs</a></li>
  <li><a href="#the-biadjacency-affiliation-matrix" id="toc-the-biadjacency-affiliation-matrix" class="nav-link" data-scroll-target="#the-biadjacency-affiliation-matrix">The Biadjacency (Affiliation) Matrix</a></li>
  <li><a href="#the-bipartite-adjacency-matrix" id="toc-the-bipartite-adjacency-matrix" class="nav-link" data-scroll-target="#the-bipartite-adjacency-matrix">The Bipartite Adjacency Matrix</a></li>
  <li><a href="#bipartiteness-as-anti-community" id="toc-bipartiteness-as-anti-community" class="nav-link" data-scroll-target="#bipartiteness-as-anti-community">Bipartiteness as “Anti-Community”</a></li>
  <li><a href="#basic-two-mode-network-statistics" id="toc-basic-two-mode-network-statistics" class="nav-link" data-scroll-target="#basic-two-mode-network-statistics">Basic Two-Mode Network Statistics</a>
  <ul class="collapse">
  <li><a href="#number-of-nodes-and-edges" id="toc-number-of-nodes-and-edges" class="nav-link" data-scroll-target="#number-of-nodes-and-edges">Number of Nodes and Edges</a></li>
  <li><a href="#density" id="toc-density" class="nav-link" data-scroll-target="#density">Density</a></li>
  </ul></li>
  <li><a href="#degree-based-statistics" id="toc-degree-based-statistics" class="nav-link" data-scroll-target="#degree-based-statistics">Degree-Based Statistics</a>
  <ul class="collapse">
  <li><a href="#degree-centrality" id="toc-degree-centrality" class="nav-link" data-scroll-target="#degree-centrality">Degree Centrality</a></li>
  <li><a href="#average-nearest-neighbor-degree" id="toc-average-nearest-neighbor-degree" class="nav-link" data-scroll-target="#average-nearest-neighbor-degree">Average Nearest Neighbor Degree</a></li>
  <li><a href="#degree-correlation" id="toc-degree-correlation" class="nav-link" data-scroll-target="#degree-correlation">Degree Correlation</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/tm-basic.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Analyzing Two-Mode Networks</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This lecture deals with the network analysis of two-mode networks. Note that in the literature there is some terminological slippage. Two-mode networks are a type of social network. By definition two-mode networks can be represented using rectangular adjacency matrices (sometimes called <strong>affiliation matrices</strong> in sociology).</p>
<p>In this case, two-mode networks fall under the general category of “two-mode data.” Any data set that has information on two types of objects (e.g., people and variables) is two-mode data so two-mode networks are just a special case of two-mode data.</p>
<p>In this sense, there is a useful a distinction, due to <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>)</span>. This is that between the “modes” and the “ways” of a data matrix. So most data matrices are two-ways, in that they have at least two dimensions (e.g., the row and column dimensions).</p>
<p>But some data matrices (like the usual adjacency matrix in regular network data) only collect information on a single type of entity, so they are “one mode, two ways.” But sometimes we have network data on two sets of objects, in which case, we use a data matrix that has “two-modes” (sets of nodes) <em>and</em> “two ways” (rows and columns).</p>
<p>So what makes a network a “two-mode network”? Well, a two-mode network is different from a regular network, because it has two sets of nodes not just one. So instead of <span class="math inline">\(V\)</span> now we have <span class="math inline">\(V_1\)</span> and <span class="math inline">\(V_2\)</span>. Moreover, the edges in a two-mode network only go from nodes in one set to nodes in the other set; there are no within-node-set edges.</p>
<section id="bipartite-graphs" class="level2">
<h2 class="anchored" data-anchor-id="bipartite-graphs">Bipartite Graphs</h2>
<p>This restriction makes the graph that represents a two-mode network a special kind of graph called a <strong>bipartite graph</strong>. A graph is bipartite if the set of nodes in the graph can be divided into two groups, such that relations go from nodes in one set to nodes in the other set.</p>
<p>Note that bipartite graphs can be be used to represent both two-mode and regular one mode networks, as long as the above condition holds. For instance, a dating network with 100% heterosexual people will yield a bipartite graph based on the dating relation, with men in one set and women on the other node set, even though it’s a one-mode network.</p>
<p>So whether or not a graph is bipartite is something you can check for.</p>
<p>Let’s see how that works. Let us load the most famous two-mode network data set (kind of the Drosophila of two-mode network analysis; one of the most repeatedly analyzed social structures in history: For a classic sampling of such analyses see <a href="https://www.csc2.ncsu.edu/faculty/mpsingh/local/Social/f16/wrap/readings/Freeman-social-groups.pdf">here</a>) a network composed of eighteen women from the social elite of a tiny town in the south in the 1930s who attended fourteen social events <span class="citation" data-cites="breiger74">(<a href="#ref-breiger74" role="doc-biblioref">Breiger 1974</a>)</span>, otherwise know as the Southern Women (SW) data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   <span class="fu">library</span>(igraph)</span>
<span id="cb1-2"><a href="#cb1-2"></a>   <span class="fu">library</span>(networkdata)</span>
<span id="cb1-3"><a href="#cb1-3"></a>   g <span class="ot">&lt;-</span> southern_women</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we already know this is a bipartite graph. However, let’s say you are new and you’ve never heard of these data. You can check whether the graph you loaded up is bipartite or not by using the <code>igraph</code> function <code>is_bipartite</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   <span class="fu">is_bipartite</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Which returns <code>TRUE</code> as an answer. Had we loaded up any old non-bipartite graph, the answer would have been:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   g.whatever <span class="ot">&lt;-</span> movie_45</span>
<span id="cb4-2"><a href="#cb4-2"></a>   <span class="fu">is_bipartite</span>(g.whatever)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Which makes sense because that’s just a regular old graph.</p>
<p>Note that if we check the bipartite graph object, it looks like any other <code>igraph</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 1074643 UN-B 32 89 -- 
+ attr: type (v/l), name (v/c)
+ edges from 1074643 (vertex names):
 [1] EVELYN   --6/27 EVELYN   --3/2  EVELYN   --4/12 EVELYN   --9/26
 [5] EVELYN   --2/25 EVELYN   --5/19 EVELYN   --9/16 EVELYN   --4/8 
 [9] LAURA    --6/27 LAURA    --3/2  LAURA    --4/12 LAURA    --2/25
[13] LAURA    --5/19 LAURA    --3/15 LAURA    --9/16 THERESA  --3/2 
[17] THERESA  --4/12 THERESA  --9/26 THERESA  --2/25 THERESA  --5/19
[21] THERESA  --3/15 THERESA  --9/16 THERESA  --4/8  BRENDA   --6/27
[25] BRENDA   --4/12 BRENDA   --9/26 BRENDA   --2/25 BRENDA   --5/19
[29] BRENDA   --3/15 BRENDA   --9/16 CHARLOTTE--4/12 CHARLOTTE--9/26
+ ... omitted several edges</code></pre>
</div>
</div>
<p>But we can tell that the graph is a two-mode network because we have links starting with people with old southern lady names from the 1930s (which are also the names of a bunch of young girls in middle school today) and ending with events that have dates in them. So the (undirected) edge is <span class="math inline">\(person-event\)</span>.</p>
<p>The graph is undirected because the “membership” or “attendance” relation between a person and an organization/event doesn’t have a natural directionality:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>   <span class="fu">is_directed</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Another way of checking the “bipartiteness” of a graph in <code>igraph</code> is by using the <code>bipartite_mapping</code> function.</p>
<p>Let’s see what it does:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>   <span class="fu">bipartite_mapping</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$res
[1] TRUE

$type
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
    FALSE     FALSE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
     TRUE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE </code></pre>
</div>
</div>
<p>This function takes the candidate bipartite graph as input and returns two objects: <code>res</code> is just a check to see if the graph is actually bipartite (<code>TRUE</code> in this case), <code>type</code> is a logical vector of dimensions <span class="math inline">\(M + N\)</span> (where <span class="math inline">\(M\)</span> is the number of nodes in the person set and <span class="math inline">\(N\)</span> is the number of nodes in the event set) dividing the nodes into two groups. Here people get <code>FALSE</code> and events get <code>TRUE</code>, but this designations are arbitrary (a kind of dummy coding; <code>FALSE</code> = 0 and <code>TRUE</code> = 1).</p>
<p>We can add this as a node attribute to our graph so that way we know which node is in which set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>   <span class="fu">V</span>(g)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">bipartite_mapping</span>(g)<span class="sc">$</span>type</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-biadjacency-affiliation-matrix" class="level2">
<h2 class="anchored" data-anchor-id="the-biadjacency-affiliation-matrix">The Biadjacency (Affiliation) Matrix</h2>
<p>Once you have your bipartite graph loaded up, you may want (if the graph is small enough) to check out the graph’s affiliation matrix <span class="math inline">\(A\)</span>.</p>
<p>This works just like before, except that now we use the <code>as_biadjacency_matrix</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_biadjacency_matrix</span>(g))</span>
<span id="cb13-2"><a href="#cb13-2"></a>   A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          6/27 3/2 4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
EVELYN       1   1    1    1    1    1    0    1   1    0    0   0     0   0
LAURA        1   1    1    0    1    1    1    1   0    0    0   0     0   0
THERESA      0   1    1    1    1    1    1    1   1    0    0   0     0   0
BRENDA       1   0    1    1    1    1    1    1   0    0    0   0     0   0
CHARLOTTE    0   0    1    1    1    0    1    0   0    0    0   0     0   0
FRANCES      0   0    1    0    1    1    0    1   0    0    0   0     0   0
ELEANOR      0   0    0    0    1    1    1    1   0    0    0   0     0   0
PEARL        0   0    0    0    0    1    0    1   1    0    0   0     0   0
RUTH         0   0    0    0    1    0    1    1   1    0    0   0     0   0
VERNE        0   0    0    0    0    0    1    1   1    0    0   1     0   0
MYRNA        0   0    0    0    0    0    0    1   1    1    0   1     0   0
KATHERINE    0   0    0    0    0    0    0    1   1    1    0   1     1   1
SYLVIA       0   0    0    0    0    0    1    1   1    1    0   1     1   1
NORA         0   0    0    0    0    1    1    0   1    1    1   1     1   1
HELEN        0   0    0    0    0    0    1    1   0    1    1   1     0   0
DOROTHY      0   0    0    0    0    0    0    1   1    0    0   0     0   0
OLIVIA       0   0    0    0    0    0    0    0   1    0    1   0     0   0
FLORA        0   0    0    0    0    0    0    0   1    0    1   0     0   0</code></pre>
</div>
</div>
<p>In this matrix we list one set of nodes in the rows and the other set is in the columns. Each cell <span class="math inline">\(a_{ij} = 1\)</span> if row node <span class="math inline">\(i\)</span> is affiliated with column node <span class="math inline">\(j\)</span>, otherwise <span class="math inline">\(a_{ij} = 0\)</span>.</p>
</section>
<section id="the-bipartite-adjacency-matrix" class="level2">
<h2 class="anchored" data-anchor-id="the-bipartite-adjacency-matrix">The Bipartite Adjacency Matrix</h2>
<p>Note that if we were to use the regular <code>as_adjacency_matrix</code> function on a bipartite graph, we get a curious version of the adjacency matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>   B <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb15-2"><a href="#cb15-2"></a>   B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH
EVELYN         0     0       0      0         0       0       0     0    0
LAURA          0     0       0      0         0       0       0     0    0
THERESA        0     0       0      0         0       0       0     0    0
BRENDA         0     0       0      0         0       0       0     0    0
CHARLOTTE      0     0       0      0         0       0       0     0    0
FRANCES        0     0       0      0         0       0       0     0    0
ELEANOR        0     0       0      0         0       0       0     0    0
PEARL          0     0       0      0         0       0       0     0    0
RUTH           0     0       0      0         0       0       0     0    0
VERNE          0     0       0      0         0       0       0     0    0
MYRNA          0     0       0      0         0       0       0     0    0
KATHERINE      0     0       0      0         0       0       0     0    0
SYLVIA         0     0       0      0         0       0       0     0    0
NORA           0     0       0      0         0       0       0     0    0
HELEN          0     0       0      0         0       0       0     0    0
DOROTHY        0     0       0      0         0       0       0     0    0
OLIVIA         0     0       0      0         0       0       0     0    0
FLORA          0     0       0      0         0       0       0     0    0
6/27           1     1       0      1         0       0       0     0    0
3/2            1     1       1      0         0       0       0     0    0
4/12           1     1       1      1         1       1       0     0    0
9/26           1     0       1      1         1       0       0     0    0
2/25           1     1       1      1         1       1       1     0    1
5/19           1     1       1      1         0       1       1     1    0
3/15           0     1       1      1         1       0       1     0    1
9/16           1     1       1      1         0       1       1     1    1
4/8            1     0       1      0         0       0       0     1    1
6/10           0     0       0      0         0       0       0     0    0
2/23           0     0       0      0         0       0       0     0    0
4/7            0     0       0      0         0       0       0     0    0
11/21          0     0       0      0         0       0       0     0    0
8/3            0     0       0      0         0       0       0     0    0
          VERNE MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA 6/27 3/2
EVELYN        0     0         0      0    0     0       0      0     0    1   1
LAURA         0     0         0      0    0     0       0      0     0    1   1
THERESA       0     0         0      0    0     0       0      0     0    0   1
BRENDA        0     0         0      0    0     0       0      0     0    1   0
CHARLOTTE     0     0         0      0    0     0       0      0     0    0   0
FRANCES       0     0         0      0    0     0       0      0     0    0   0
ELEANOR       0     0         0      0    0     0       0      0     0    0   0
PEARL         0     0         0      0    0     0       0      0     0    0   0
RUTH          0     0         0      0    0     0       0      0     0    0   0
VERNE         0     0         0      0    0     0       0      0     0    0   0
MYRNA         0     0         0      0    0     0       0      0     0    0   0
KATHERINE     0     0         0      0    0     0       0      0     0    0   0
SYLVIA        0     0         0      0    0     0       0      0     0    0   0
NORA          0     0         0      0    0     0       0      0     0    0   0
HELEN         0     0         0      0    0     0       0      0     0    0   0
DOROTHY       0     0         0      0    0     0       0      0     0    0   0
OLIVIA        0     0         0      0    0     0       0      0     0    0   0
FLORA         0     0         0      0    0     0       0      0     0    0   0
6/27          0     0         0      0    0     0       0      0     0    0   0
3/2           0     0         0      0    0     0       0      0     0    0   0
4/12          0     0         0      0    0     0       0      0     0    0   0
9/26          0     0         0      0    0     0       0      0     0    0   0
2/25          0     0         0      0    0     0       0      0     0    0   0
5/19          0     0         0      0    1     0       0      0     0    0   0
3/15          1     0         0      1    1     1       0      0     0    0   0
9/16          1     1         1      1    0     1       1      0     0    0   0
4/8           1     1         1      1    1     0       1      1     1    0   0
6/10          0     1         1      1    1     1       0      0     0    0   0
2/23          0     0         0      0    1     1       0      1     1    0   0
4/7           1     1         1      1    1     1       0      0     0    0   0
11/21         0     0         1      1    1     0       0      0     0    0   0
8/3           0     0         1      1    1     0       0      0     0    0   0
          4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
EVELYN       1    1    1    1    0    1   1    0    0   0     0   0
LAURA        1    0    1    1    1    1   0    0    0   0     0   0
THERESA      1    1    1    1    1    1   1    0    0   0     0   0
BRENDA       1    1    1    1    1    1   0    0    0   0     0   0
CHARLOTTE    1    1    1    0    1    0   0    0    0   0     0   0
FRANCES      1    0    1    1    0    1   0    0    0   0     0   0
ELEANOR      0    0    1    1    1    1   0    0    0   0     0   0
PEARL        0    0    0    1    0    1   1    0    0   0     0   0
RUTH         0    0    1    0    1    1   1    0    0   0     0   0
VERNE        0    0    0    0    1    1   1    0    0   1     0   0
MYRNA        0    0    0    0    0    1   1    1    0   1     0   0
KATHERINE    0    0    0    0    0    1   1    1    0   1     1   1
SYLVIA       0    0    0    0    1    1   1    1    0   1     1   1
NORA         0    0    0    1    1    0   1    1    1   1     1   1
HELEN        0    0    0    0    1    1   0    1    1   1     0   0
DOROTHY      0    0    0    0    0    1   1    0    0   0     0   0
OLIVIA       0    0    0    0    0    0   1    0    1   0     0   0
FLORA        0    0    0    0    0    0   1    0    1   0     0   0
6/27         0    0    0    0    0    0   0    0    0   0     0   0
3/2          0    0    0    0    0    0   0    0    0   0     0   0
4/12         0    0    0    0    0    0   0    0    0   0     0   0
9/26         0    0    0    0    0    0   0    0    0   0     0   0
2/25         0    0    0    0    0    0   0    0    0   0     0   0
5/19         0    0    0    0    0    0   0    0    0   0     0   0
3/15         0    0    0    0    0    0   0    0    0   0     0   0
9/16         0    0    0    0    0    0   0    0    0   0     0   0
4/8          0    0    0    0    0    0   0    0    0   0     0   0
6/10         0    0    0    0    0    0   0    0    0   0     0   0
2/23         0    0    0    0    0    0   0    0    0   0     0   0
4/7          0    0    0    0    0    0   0    0    0   0     0   0
11/21        0    0    0    0    0    0   0    0    0   0     0   0
8/3          0    0    0    0    0    0   0    0    0   0     0   0</code></pre>
</div>
</div>
<p>This bipartite adjacency matrix <span class="math inline">\(\mathbf{B}\)</span> is of dimensions <span class="math inline">\((M + N) \times (M + N)\)</span>, which is <span class="math inline">\((18 + 14) \times (18 + 14) = 32 \times 32\)</span> in the SW data; it has the following block structure <span class="citation" data-cites="fouss_etal16">(<a href="#ref-fouss_etal16" role="doc-biblioref">Fouss, Saerens, and Shimbo 2016, 12</a>)</span>:</p>
<p><span class="math display">\[
\mathbf{B} = \left[
\begin{matrix}
\mathbf{O}_{M \times M} &amp; \mathbf{A}_{M \times N} \\
\mathbf{A}^T_{N \times M} &amp; \mathbf{O}_{N \times N}
\end{matrix}
\right]
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{O}\)</span> is just the all zeros matrix of the relevant dimensions, and <span class="math inline">\(\mathbf{A}\)</span> is the biadjacency (affiliation) matrix as defined earlier. Thus, the bipartite adjacency matrix necessarily has two big diagonal “zero blocks” in it (upper-left and lower-right) corresponding to where the links between nodes in the same set would be (but necessarily aren’t because this is a two-mode network). The non-zero blocks are just the affiliation matrix (upper-right) and its transpose(lower-left).</p>
</section>
<section id="bipartiteness-as-anti-community" class="level2">
<h2 class="anchored" data-anchor-id="bipartiteness-as-anti-community">Bipartiteness as “Anti-Community”</h2>
<p>Recall from the <a href="./community.html">community structure lecture notes</a>, that community structure is defined by clusters of nodes that have more connections among themselves than they do with outsiders. If you think about it, a bipartite graph has the <em>opposite</em> of this going on. Nodes of the same type have <em>zero</em> connections among themselves, and they have <em>all</em> their connections with nodes of the other group!</p>
<p>So that means that <em>bipartite structure</em> is the mirror image of <em>community structure</em> (in the two group case). This also means that if we were to compute the modularity of a bipartite graph, using the node type as the grouping variable we should get the theoretical minimum of this measure (which you may recall is <span class="math inline">\(Q = -\frac{1}{2}\)</span>).</p>
<p>Let’s try it out, by computing the modularity from the bipartite adjacency matrix of the SW data, using node type as the grouping variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>   <span class="fu">V</span>(g)<span class="sc">$</span>comm <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">bipartite_mapping</span>(g)<span class="sc">$</span>type) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>   <span class="fu">modularity</span>(g, <span class="fu">V</span>(g)<span class="sc">$</span>comm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.5</code></pre>
</div>
</div>
<p>And indeed, we recover the theoretical minimum value of the modularity <span class="citation" data-cites="brandes07">(<a href="#ref-brandes07" role="doc-biblioref">Brandes et al. 2007, 173</a>)</span>! This also means that this method can be used to test whether a graph is bipartite, or whether any network <em>approximates</em> bipartiteness <span class="citation" data-cites="newman06b">(<a href="#ref-newman06b" role="doc-biblioref">Newman 2006, 13</a>)</span>. Values that are close to <span class="math inline">\(-0.5\)</span> would indicate that the network in question has bipartite structure.</p>
</section>
<section id="basic-two-mode-network-statistics" class="level2">
<h2 class="anchored" data-anchor-id="basic-two-mode-network-statistics">Basic Two-Mode Network Statistics</h2>
<p>We can calculate some basic network statistics from the affiliation (biadjacency) matrix. We have two number of nodes to calculate, but only one quantity for the number of edges.</p>
<section id="number-of-nodes-and-edges" class="level3">
<h3 class="anchored" data-anchor-id="number-of-nodes-and-edges">Number of Nodes and Edges</h3>
<p>The number of nodes on the people side <span class="math inline">\(N\)</span> is just the number of rows of <span class="math inline">\(A\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>   <span class="fu">nrow</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
</div>
<p>And the number of events/groups <span class="math inline">\(M\)</span> is just the number of columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>   <span class="fu">ncol</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
<p>Finally, the number of edges <span class="math inline">\(E\)</span> is just the sum of all the entries of <span class="math inline">\(A\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>   <span class="fu">sum</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
<p>Note that if you were to use the <code>igraph</code> function <code>vcount</code> on the original graph object, you get the wrong answer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>   <span class="fu">vcount</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32</code></pre>
</div>
</div>
<p>That’s because <code>vcount</code> is working with the <span class="math inline">\(32 \times 32\)</span> regular adjacency matrix, not the biadjacency matrix. Here, <code>vcount</code> is returning the <em>total</em> number of nodes in the graph summing across the two sets, which is <span class="math inline">\(M + N\)</span>.</p>
<p>If you wanted to get the right answer for each set of edges from the regular <code>igraph</code> graph object, you could use the <code>type</code> node attribute we defined earlier along with the <code>subgraph</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>   <span class="fu">vcount</span>(<span class="fu">subgraph</span>(g, <span class="fu">V</span>(g)<span class="sc">$</span>type <span class="sc">==</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
</div>
<p>Which gives us the number of women. For the events we do the same thing:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>   <span class="fu">vcount</span>(<span class="fu">subgraph</span>(g, <span class="fu">V</span>(g)<span class="sc">$</span>type <span class="sc">==</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
<p>However, because there’s only one set of edges, <code>ecount</code> still gives us the right answer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>   <span class="fu">ecount</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
<p>Which is the same as:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>   <span class="fu">sum</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
</section>
<section id="density" class="level3">
<h3 class="anchored" data-anchor-id="density">Density</h3>
<p>As we saw in the case of one-mode networks, one of the most basic network statistics that can be derived from the above quantities is the <strong>density</strong> (observed number of edges divided by maximum possible number of edges in the graph).</p>
<p>In a two-mode network, density is given by:</p>
<p><span class="math display">\[
d = \frac{|E|}{N \times M}
\]</span></p>
<p>Where <span class="math inline">\(|E|\)</span> is the number of edges in the network. In our case we can compute the density as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>   d <span class="ot">&lt;-</span> <span class="fu">sum</span>(A)<span class="sc">/</span>(<span class="fu">nrow</span>(A) <span class="sc">*</span> <span class="fu">ncol</span>(A))</span>
<span id="cb35-2"><a href="#cb35-2"></a>   d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3531746</code></pre>
</div>
</div>
</section>
</section>
<section id="degree-based-statistics" class="level2">
<h2 class="anchored" data-anchor-id="degree-based-statistics">Degree-Based Statistics</h2>
<p>Because we have two sets of degrees, all the basic degree statistics in the network double up. So we have two mean degrees, two maximum degrees, and two minimum degree to take care of:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>   mean.d.p <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb37-2"><a href="#cb37-2"></a>   mean.d.g <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">colSums</span>(A))</span>
<span id="cb37-3"><a href="#cb37-3"></a>   max.d.p <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb37-4"><a href="#cb37-4"></a>   max.d.g <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">colSums</span>(A))</span>
<span id="cb37-5"><a href="#cb37-5"></a>   min.d.p <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb37-6"><a href="#cb37-6"></a>   min.d.g <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">colSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So we have:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>   <span class="fu">round</span>(mean.d.p, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>   <span class="fu">round</span>(mean.d.g, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>   max.d.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>   max.d.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>   min.d.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>   min.d.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>However, note that because there’s only one set of undirected edges, the total number of edges incident to each node in each of the two sets is always going to be the same.</p>
<p>That means that there’s only one sum of degrees. So the sum of degrees for people:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>   <span class="fu">sum</span>(<span class="fu">rowSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
<p>Is the same as the sum of degrees of events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>   <span class="fu">sum</span>(<span class="fu">colSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
<p>Note that in a bipartite graph, therefore, the sum of degrees of nodes in each node set is equal to the <span class="math inline">\(|E|\)</span>, the number of edges in the graph!</p>
<section id="degree-centrality" class="level3">
<h3 class="anchored" data-anchor-id="degree-centrality">Degree Centrality</h3>
<p>In a two-mode network, there are two degree sets, each corresponding to one set of nodes. For the people, in this case, their degree (centrality) is just the number of events they attend, and for the groups, it’s just the number of people that attend each event.</p>
<p>As we have already seen, we can get each from the affiliation matrix. The degree of the people are just the row sums:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>   <span class="fu">rowSums</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        8         7         8         7         4         4         4         3 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
        4         4         4         6         7         8         5         2 
   OLIVIA     FLORA 
        2         2 </code></pre>
</div>
</div>
<p>And the degree of the events are just the column sums:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>   <span class="fu">colSums</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
    3     3     6     4     8     8    10    14    12     5     4     6     3 
  8/3 
    3 </code></pre>
</div>
</div>
<p>The <code>igraph</code> function <code>degree</code> will also give us the right answer, but in the form of a single vector including both people and events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>   <span class="fu">degree</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        8         7         8         7         4         4         4         3 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
        4         4         4         6         7         8         5         2 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
        2         2         3         3         6         4         8         8 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
       10        14        12         5         4         6         3         3 </code></pre>
</div>
</div>
<p>As <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>)</span> note, if we want <em>normalized</em> degree centrality measures, we need to divide by either <span class="math inline">\(M\)</span> (for people) or <span class="math inline">\(N\)</span> (for events). That is, for people we use the number of events as the norm (as this is the theoretical maximum) and for events the number of people.</p>
<p>So for people, normalized degree is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>   <span class="fu">round</span>(<span class="fu">rowSums</span>(A)<span class="sc">/</span><span class="fu">ncol</span>(A), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.571     0.500     0.571     0.500     0.286     0.286     0.286     0.214 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.286     0.286     0.286     0.429     0.500     0.571     0.357     0.143 
   OLIVIA     FLORA 
    0.143     0.143 </code></pre>
</div>
</div>
<p>And for events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>   <span class="fu">round</span>(<span class="fu">colSums</span>(A)<span class="sc">/</span><span class="fu">nrow</span>(A), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
0.167 0.167 0.333 0.222 0.444 0.444 0.556 0.778 0.667 0.278 0.222 0.333 0.167 
  8/3 
0.167 </code></pre>
</div>
</div>
<p>Or with <code>igraph</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>   <span class="fu">round</span>(<span class="fu">degree</span>(g)<span class="sc">/</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">14</span>, <span class="dv">18</span>), <span class="fu">rep</span>(<span class="dv">18</span>, <span class="dv">14</span>)), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.571     0.500     0.571     0.500     0.286     0.286     0.286     0.214 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.286     0.286     0.286     0.429     0.500     0.571     0.357     0.143 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
    0.143     0.143     0.167     0.167     0.333     0.222     0.444     0.444 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
    0.556     0.778     0.667     0.278     0.222     0.333     0.167     0.167 </code></pre>
</div>
</div>
</section>
<section id="average-nearest-neighbor-degree" class="level3">
<h3 class="anchored" data-anchor-id="average-nearest-neighbor-degree">Average Nearest Neighbor Degree</h3>
<p>For each person (group) we may also be interested in whether they connect to more or less central groups (persons). As such, we can compute the <strong>average nearest neighbor degree</strong> for persons and groups.</p>
<p>For people this is equivalent to multiplying the vector of group degrees by the entries of the affiliation matrix, and then dividing by the degrees of each person:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>   knn.p <span class="ot">&lt;-</span> A <span class="sc">*</span> <span class="fu">colSums</span>(A)</span>
<span id="cb66-2"><a href="#cb66-2"></a>   knn.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          6/27 3/2 4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
EVELYN       3   8   12    3    6   10    0    3   8    0    0   0     0   0
LAURA        3   8    5    0    4   14    6    3   0    0    0   0     0   0
THERESA      0  10    4    3    8   12    3    6  10    0    0   0     0   0
BRENDA       4   0    6    3    8    5    3    4   0    0    0   0     0   0
CHARLOTTE    0   0    3    6   10    0    3    0   0    0    0   0     0   0
FRANCES      0   0    3    0   14    6    0    8   0    0    0   0     0   0
ELEANOR      0   0    0    0   12    3    6   10   0    0    0   0     0   0
PEARL        0   0    0    0    0    3    0   14   6    0    0   0     0   0
RUTH         0   0    0    0    4    0    8   12   3    0    0   0     0   0
VERNE        0   0    0    0    0    0    8    5   3    0    0   6     0   0
MYRNA        0   0    0    0    0    0    0    4   3    8    0   3     0   0
KATHERINE    0   0    0    0    0    0    0    6   3    8    0   3     4  14
SYLVIA       0   0    0    0    0    0   12    3   6   10    0   3     8  12
NORA         0   0    0    0    0    8    5    0   4   14    6   3     8   5
HELEN        0   0    0    0    0    0    4    3   0   12    3   6     0   0
DOROTHY      0   0    0    0    0    0    0    3   8    0    0   0     0   0
OLIVIA       0   0    0    0    0    0    0    0  10    0    3   0     0   0
FLORA        0   0    0    0    0    0    0    0  14    0    3   0     0   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>   knn.p <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(knn.p)<span class="sc">/</span><span class="fu">rowSums</span>(A)</span>
<span id="cb68-2"><a href="#cb68-2"></a>   <span class="fu">round</span>(knn.p, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
     6.62      6.14      7.00      4.71      5.50      7.75      7.75      7.67 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
     6.75      5.50      4.50      6.33      7.71      6.62      5.60      5.50 
   OLIVIA     FLORA 
     6.50      8.50 </code></pre>
</div>
</div>
<p>We can see that for Flora, the average number of members of the groups she connects to is very high, while the opposite is the case for Myrna.</p>
<p>We can do the same for groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>   knn.g <span class="ot">&lt;-</span> <span class="fu">t</span>(A) <span class="sc">*</span> <span class="fu">rowSums</span>(A)</span>
<span id="cb70-2"><a href="#cb70-2"></a>   knn.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH VERNE
6/27       8     5       0      4         0       0       0     0    0     0
3/2        7     2       6      0         0       0       0     0    0     0
4/12       8     2       7      4         4       8       0     0    0     0
9/26       7     0       8      4         4       0       0     0    0     0
2/25       4     8       5      4         4       8       2     0    4     0
5/19       4     7       2      6         0       7       2     8    0     0
3/15       0     8       2      7         4       0       8     0    4     4
9/16       3     7       2      8         0       4       7     2    6     3
4/8        4     0       8      0         0       0       0     2    7     4
6/10       0     0       0      0         0       0       0     0    0     0
2/23       0     0       0      0         0       0       0     0    0     0
4/7        0     0       0      0         0       0       0     0    0     6
11/21      0     0       0      0         0       0       0     0    0     0
8/3        0     0       0      0         0       0       0     0    0     0
      MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA
6/27      0         0      0    0     0       0      0     0
3/2       0         0      0    0     0       0      0     0
4/12      0         0      0    0     0       0      0     0
9/26      0         0      0    0     0       0      0     0
2/25      0         0      0    0     0       0      0     0
5/19      0         0      0    3     0       0      0     0
3/15      0         0      7    4     4       0      0     0
9/16      7         2      8    0     4       7      0     0
4/8       4         8      5    4     0       8      2     7
6/10      4         7      2    6     3       0      0     0
2/23      0         0      0    7     4       0      8     5
4/7       3         7      2    8     4       0      0     0
11/21     0         4      8    5     0       0      0     0
8/3       0         4      7    2     0       0      0     0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>   knn.g <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(knn.g)<span class="sc">/</span><span class="fu">colSums</span>(A)</span>
<span id="cb72-2"><a href="#cb72-2"></a>   <span class="fu">round</span>(knn.g, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
 5.67  5.00  5.50  5.75  4.88  4.88  5.20  5.00  5.25  4.40  6.00  5.00  5.67 
  8/3 
 4.33 </code></pre>
</div>
</div>
</section>
<section id="degree-correlation" class="level3">
<h3 class="anchored" data-anchor-id="degree-correlation">Degree Correlation</h3>
<p>Finally, we can also compute the degree correlation between the nodes in each mode. This tell us whether people with more memberships connect to larger (positive correlation) or smaller (negative correlation) groups.</p>
<p>Here’s a function to compute the degree correlation in a two mode network from the bipartite matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>   tm.deg.corr <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb74-2"><a href="#cb74-2"></a>      d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">e =</span> <span class="fu">as.vector</span>(x), </span>
<span id="cb74-3"><a href="#cb74-3"></a>                      <span class="at">rd =</span> <span class="fu">rep</span>(<span class="fu">rowSums</span>(x), <span class="fu">ncol</span>(x)), </span>
<span id="cb74-4"><a href="#cb74-4"></a>                      <span class="at">cd =</span> <span class="fu">rep</span>(<span class="fu">colSums</span>(x), <span class="at">each =</span> <span class="fu">nrow</span>(x)),</span>
<span id="cb74-5"><a href="#cb74-5"></a>                      <span class="at">rn =</span> <span class="fu">rep</span>(<span class="fu">rownames</span>(x), <span class="fu">ncol</span>(x)),</span>
<span id="cb74-6"><a href="#cb74-6"></a>                      <span class="at">cn =</span> <span class="fu">rep</span>(<span class="fu">colnames</span>(x), <span class="at">each =</span> <span class="fu">nrow</span>(x))</span>
<span id="cb74-7"><a href="#cb74-7"></a>                      )</span>
<span id="cb74-8"><a href="#cb74-8"></a>      r <span class="ot">&lt;-</span> <span class="fu">cor</span>(d[d<span class="sc">$</span>e <span class="sc">==</span> <span class="dv">1</span>, ]<span class="sc">$</span>rd, d[d<span class="sc">$</span>e <span class="sc">==</span> <span class="dv">1</span>, ]<span class="sc">$</span>cd)</span>
<span id="cb74-9"><a href="#cb74-9"></a>      <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">r =</span> r, <span class="at">d =</span> d))</span>
<span id="cb74-10"><a href="#cb74-10"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>tm.deg.corr</code> function creates a data frame set with as many rows as there are entries in the bipartite matrix, and three columns: <code>e</code> recording whether there is a one or a zero for that particular combination of nodes (line 2), <code>rd</code> recording the degree of that node (line 3), and <code>cd</code> recording other node (line 4); lines 5 and 6 record the node labels for that dyad. Then in line 8 the function computes the Pearson correlations between the degrees of persons and groups that are connected in the data frame (e.g., <code>e = 1</code>).</p>
<p>We can now apply our function to the SW data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>   <span class="fu">tm.deg.corr</span>(B)<span class="sc">$</span>r</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.3369979</code></pre>
</div>
</div>
<p>Which tells us that there is degree <strong>anti-correlation</strong> in this network: People with more memberships tend to belong to smaller groups, and people with less memberships connect to bigger groups.</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-borgatti_everett97" class="csl-entry" role="doc-biblioentry">
Borgatti, Stephen P, and Martin G Everett. 1997. <span>“Network Analysis of 2-Mode Data.”</span> <em>Social Networks</em> 19 (3): 243–69.
</div>
<div id="ref-brandes07" class="csl-entry" role="doc-biblioentry">
Brandes, Ulrik, Daniel Delling, Marco Gaertler, Robert Gorke, Martin Hoefer, Zoran Nikoloski, and Dorothea Wagner. 2007. <span>“On Modularity Clustering.”</span> <em>IEEE Transactions on Knowledge and Data Engineering</em> 20 (2): 172–88.
</div>
<div id="ref-breiger74" class="csl-entry" role="doc-biblioentry">
Breiger, Ronald L. 1974. <span>“The Duality of Persons and Groups.”</span> <em>Social Forces</em> 53 (2): 181–90.
</div>
<div id="ref-fouss_etal16" class="csl-entry" role="doc-biblioentry">
Fouss, François, Marco Saerens, and Masashi Shimbo. 2016. <em>Algorithms and Models for Network Data and Link Analysis</em>. Cambridge University Press.
</div>
<div id="ref-newman06b" class="csl-entry" role="doc-biblioentry">
Newman, Mark EJ. 2006. <span>“Finding Community Structure in Networks Using the Eigenvectors of Matrices.”</span> <em>Physical Review E—Statistical, Nonlinear, and Soft Matter Physics</em> 74 (3): 036104.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>