<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - Two Mode Networks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - Two Mode Networks">
<meta property="og:description" content="This handout deals with the network analysis of two-mode networks. Note that in the literature there is some terminological slippage. Two-mode networks are a type of social network.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Two Mode Networks</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Handouts</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout1.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inoutdegdist.html" class="sidebar-item-text sidebar-link">Graph Degree Metrics in Directed Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout2.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout3.html" class="sidebar-item-text sidebar-link">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout4.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout5.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout6.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout7.html" class="sidebar-item-text sidebar-link active">Two Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#two-mode-networks" id="toc-two-mode-networks" class="nav-link active" data-scroll-target="#two-mode-networks">Two Mode Networks</a></li>
  <li><a href="#bipartite-graphs" id="toc-bipartite-graphs" class="nav-link" data-scroll-target="#bipartite-graphs">Bipartite Graphs</a></li>
  <li><a href="#the-affiliation-matrix" id="toc-the-affiliation-matrix" class="nav-link" data-scroll-target="#the-affiliation-matrix">The Affiliation Matrix</a></li>
  <li><a href="#basic-two-mode-network-statistics" id="toc-basic-two-mode-network-statistics" class="nav-link" data-scroll-target="#basic-two-mode-network-statistics">Basic Two Mode Network Statistics</a>
  <ul class="collapse">
  <li><a href="#degree-statistics" id="toc-degree-statistics" class="nav-link" data-scroll-target="#degree-statistics">Degree Statistics</a></li>
  <li><a href="#density" id="toc-density" class="nav-link" data-scroll-target="#density">Density</a></li>
  </ul></li>
  <li><a href="#degree-centrality" id="toc-degree-centrality" class="nav-link" data-scroll-target="#degree-centrality">Degree Centrality</a></li>
  <li><a href="#geodesic-distances" id="toc-geodesic-distances" class="nav-link" data-scroll-target="#geodesic-distances">Geodesic Distances</a></li>
  <li><a href="#closeness-centrality-in-two-mode-networks" id="toc-closeness-centrality-in-two-mode-networks" class="nav-link" data-scroll-target="#closeness-centrality-in-two-mode-networks">Closeness Centrality in Two Mode Networks</a></li>
  <li><a href="#betweenness-centrality-in-two-mode-networks" id="toc-betweenness-centrality-in-two-mode-networks" class="nav-link" data-scroll-target="#betweenness-centrality-in-two-mode-networks">Betweenness Centrality in Two Mode Networks</a></li>
  <li><a href="#the-duality-of-persons-and-groups" id="toc-the-duality-of-persons-and-groups" class="nav-link" data-scroll-target="#the-duality-of-persons-and-groups">The Duality of Persons and Groups</a></li>
  <li><a href="#normalized-vertex-similarity-metrics" id="toc-normalized-vertex-similarity-metrics" class="nav-link" data-scroll-target="#normalized-vertex-similarity-metrics">Normalized Vertex Similarity Metrics</a></li>
  <li><a href="#structural-equivalence" id="toc-structural-equivalence" class="nav-link" data-scroll-target="#structural-equivalence">Structural Equivalence</a></li>
  <li><a href="#eigenvector-status" id="toc-eigenvector-status" class="nav-link" data-scroll-target="#eigenvector-status">Eigenvector Status</a></li>
  <li><a href="#core-and-periphery" id="toc-core-and-periphery" class="nav-link" data-scroll-target="#core-and-periphery">Core and Periphery</a></li>
  <li><a href="#pagerank-status" id="toc-pagerank-status" class="nav-link" data-scroll-target="#pagerank-status">PageRank Status</a></li>
  <li><a href="#correspondence-analysis" id="toc-correspondence-analysis" class="nav-link" data-scroll-target="#correspondence-analysis">Correspondence Analysis</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/handout7.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Two Mode Networks</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="two-mode-networks" class="level2">
<h2 class="anchored" data-anchor-id="two-mode-networks">Two Mode Networks</h2>
<p>This handout deals with the network analysis of two-mode networks. Note that in the literature there is some terminological slippage. Two-mode networks are a type of social network. By definition two mode networks can be represented using rectangular adjacency matrices (sometimes called <strong>affiliation matrices</strong> in sociology).</p>
<p>In this case, two mode networks fall under the general category of “two mode data.” Any data set that has information on two types of objects (e.g., people and variables) is two-mode data so two-mode networks are just a special case of two-mode data.</p>
<p>In this sense, a useful distinction, due to Borgatti &amp; Everett, is useful. This is that between the “modes” and the “ways” of a data matrix. So most data matrices are two-ways, in that they have at least two dimensions (e.g., the row and column dimensions).</p>
<p>But some data matrices (like the usual adjacency matrix in regular network data) only collect information on a single type of entity, so they are “one mode, two ways.” But sometimes we have network data on two sets of objects, in which case, we use a data matrix that has “two modes” (sets of nodes) <em>and</em> “two ways” (rows and columns).</p>
<p>So what makes a network a “two mode network”? Well, a two mode network is different from a regular network, because it has two sets of nodes not just one. So instead of <span class="math inline">\(V\)</span> now we have <span class="math inline">\(V_1\)</span> and <span class="math inline">\(V_2\)</span>. Moreover, the edges in a two-mode network only go from nodes in one set to nodes in the other set; there are no within-node-set edges.</p>
</section>
<section id="bipartite-graphs" class="level2">
<h2 class="anchored" data-anchor-id="bipartite-graphs">Bipartite Graphs</h2>
<p>This restriction makes the graph that represents a two mode network a special kind of graph called a <strong>bipartite graph</strong>. A graph is bipartite if the set of nodes in the graph can be divided into two groups, such that relations go from nodes in one set to nodes in the other set. For instance, a dating network with 100% heterosexual people in it will yield a bipartite graph based on the dating relation, with men in one set and women on the other node set.</p>
<p>So whether or not a graph is bipartite is something you can check for.</p>
<p>Let’s see how that works. Let us load the most famous two-mode network data set (kind of the Drosophila of two-mode network analysis; one of the most repeatedly analyzed social structures in history) a network composed of eighteen women from the social elite of a tiny town in the south in the 1930s who attended fourteen social events <span class="citation" data-cites="breiger74">(<a href="#ref-breiger74" role="doc-biblioref">Breiger 1974</a>)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   <span class="fu">library</span>(igraph)</span>
<span id="cb1-2"><a href="#cb1-2"></a>   <span class="fu">library</span>(networkdata)</span>
<span id="cb1-3"><a href="#cb1-3"></a>   g <span class="ot">&lt;-</span> southern_women</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we already know this is a bipartite graph. However, let’s say you are new and you’ve never heard of these data. You can check whether the graph you loaded up is bipartite or not by using the <code>igraph</code> function <code>is_bipartite</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   <span class="fu">is_bipartite</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Which returns <code>TRUE</code> as an answer. Had we loaded up any old non-bipartite graph, the answer would have been:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   g.whatever <span class="ot">&lt;-</span> movie_45</span>
<span id="cb4-2"><a href="#cb4-2"></a>   <span class="fu">is_bipartite</span>(g.whatever)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Which makes sense because that’s just a regular old graph.</p>
<p>Note that if we check the bipartite graph object, it looks like any other <code>igraph</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 1074643 UN-B 32 89 -- 
+ attr: type (v/l), name (v/c)
+ edges from 1074643 (vertex names):
 [1] EVELYN   --6/27 EVELYN   --3/2  EVELYN   --4/12 EVELYN   --9/26
 [5] EVELYN   --2/25 EVELYN   --5/19 EVELYN   --9/16 EVELYN   --4/8 
 [9] LAURA    --6/27 LAURA    --3/2  LAURA    --4/12 LAURA    --2/25
[13] LAURA    --5/19 LAURA    --3/15 LAURA    --9/16 THERESA  --3/2 
[17] THERESA  --4/12 THERESA  --9/26 THERESA  --2/25 THERESA  --5/19
[21] THERESA  --3/15 THERESA  --9/16 THERESA  --4/8  BRENDA   --6/27
[25] BRENDA   --4/12 BRENDA   --9/26 BRENDA   --2/25 BRENDA   --5/19
[29] BRENDA   --3/15 BRENDA   --9/16 CHARLOTTE--4/12 CHARLOTTE--9/26
+ ... omitted several edges</code></pre>
</div>
</div>
<p>But we can tell that the graph is a two mode network because we have links starting with people with old lady names from the 1930s (which are also the names of a bunch of kids in middle school in 2024) and ending with events that have dates in them. So the (undirected) edge is <span class="math inline">\(person-event\)</span>.</p>
<p>The graph is undirected because the “membership” or “attendance” relation between a person and an organization/event doesn’t have a natural directionality.</p>
<p>Another way of checking the “bipartiteness” of a graph in <code>igraph</code> is by using the <code>bipartite_mapping</code> function.</p>
<p>Let’s see what it does:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>   <span class="fu">bipartite_mapping</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$res
[1] TRUE

$type
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE     FALSE 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
    FALSE     FALSE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
     TRUE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE      TRUE </code></pre>
</div>
</div>
<p>This function takes the candidate bipartite graph as input and returns to objects: <code>res</code> is just a check to see if the graph is actually bipartite (<code>TRUE</code> in this case), <code>type</code> is a logical vector of dimensions <span class="math inline">\(N + M\)</span> (where <span class="math inline">\(N\)</span> is the number of nodes in one set and <span class="math inline">\(M\)</span> is the number of nodes in the other set) dividing the nodes into two groups. Here people get <code>FALSE</code> and events get <code>TRUE</code>.</p>
<p>We can add this as a node attribute to our graph so that way we know which node is in which set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>   <span class="fu">V</span>(g)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">bipartite_mapping</span>(g)<span class="sc">$</span>type</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-affiliation-matrix" class="level2">
<h2 class="anchored" data-anchor-id="the-affiliation-matrix">The Affiliation Matrix</h2>
<p>Once you have your bipartite graph loaded up, you may want (if the graph is small enough) to check out the graph’s affiliation matrix <span class="math inline">\(A\)</span>.</p>
<p>This works just like before, except that now we use the <code>as_biadjacency_matrix</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_biadjacency_matrix</span>(g))</span>
<span id="cb11-2"><a href="#cb11-2"></a>   A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          6/27 3/2 4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
EVELYN       1   1    1    1    1    1    0    1   1    0    0   0     0   0
LAURA        1   1    1    0    1    1    1    1   0    0    0   0     0   0
THERESA      0   1    1    1    1    1    1    1   1    0    0   0     0   0
BRENDA       1   0    1    1    1    1    1    1   0    0    0   0     0   0
CHARLOTTE    0   0    1    1    1    0    1    0   0    0    0   0     0   0
FRANCES      0   0    1    0    1    1    0    1   0    0    0   0     0   0
ELEANOR      0   0    0    0    1    1    1    1   0    0    0   0     0   0
PEARL        0   0    0    0    0    1    0    1   1    0    0   0     0   0
RUTH         0   0    0    0    1    0    1    1   1    0    0   0     0   0
VERNE        0   0    0    0    0    0    1    1   1    0    0   1     0   0
MYRNA        0   0    0    0    0    0    0    1   1    1    0   1     0   0
KATHERINE    0   0    0    0    0    0    0    1   1    1    0   1     1   1
SYLVIA       0   0    0    0    0    0    1    1   1    1    0   1     1   1
NORA         0   0    0    0    0    1    1    0   1    1    1   1     1   1
HELEN        0   0    0    0    0    0    1    1   0    1    1   1     0   0
DOROTHY      0   0    0    0    0    0    0    1   1    0    0   0     0   0
OLIVIA       0   0    0    0    0    0    0    0   1    0    1   0     0   0
FLORA        0   0    0    0    0    0    0    0   1    0    1   0     0   0</code></pre>
</div>
</div>
<p>In this matrix we list one set of nodes in the rows and the other set is in the columns. Each cell <span class="math inline">\(a_{ij} = 1\)</span> if row node <span class="math inline">\(i\)</span> is affiliated with column node <span class="math inline">\(j\)</span>, otherwise <span class="math inline">\(a_{ij} = 0\)</span>.</p>
</section>
<section id="basic-two-mode-network-statistics" class="level2">
<h2 class="anchored" data-anchor-id="basic-two-mode-network-statistics">Basic Two Mode Network Statistics</h2>
<p>From the affiliation (bi-adjacency) matrix we can calculate some basic network statistics. We have two number of nodes to calculate, but only one number of edges figure.</p>
<p>The number of nodes on the people side <span class="math inline">\(N\)</span> is just the number of rows of <span class="math inline">\(A\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>   <span class="fu">nrow</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
</div>
<p>And the number of events/groups <span class="math inline">\(M\)</span> is just the number of columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>   <span class="fu">ncol</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
<p>Finally, the number of edges <span class="math inline">\(E\)</span> is just the sum of all the entries of <span class="math inline">\(A\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>   <span class="fu">sum</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 89</code></pre>
</div>
</div>
<section id="degree-statistics" class="level3">
<h3 class="anchored" data-anchor-id="degree-statistics">Degree Statistics</h3>
<p>Because we have two sets of degrees, all the basic degree statistics in the network double up. So we have two mean degrees, two maximum degrees, and two minimum degree to take care of:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>   mean.d.p <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb19-2"><a href="#cb19-2"></a>   mean.d.g <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">colSums</span>(A))</span>
<span id="cb19-3"><a href="#cb19-3"></a>   max.d.p <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb19-4"><a href="#cb19-4"></a>   max.d.g <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">colSums</span>(A))</span>
<span id="cb19-5"><a href="#cb19-5"></a>   min.d.p <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb19-6"><a href="#cb19-6"></a>   min.d.g <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="fu">colSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So we have:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>   <span class="fu">round</span>(mean.d.p, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>   <span class="fu">round</span>(mean.d.g, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>   max.d.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>   max.d.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>   min.d.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>   min.d.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="density" class="level3">
<h3 class="anchored" data-anchor-id="density">Density</h3>
<p>As we saw in the case of one-mode networks, one of the most basic network statistics that can be derived from the above quantities is the density. In a two-mode network, this is given by:</p>
<p><span class="math display">\[
d = \frac{E}{N \times M}
\]</span></p>
<p>Where <span class="math inline">\(E\)</span> is the number of edges in the network. In our case we can compute the density as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>   d <span class="ot">&lt;-</span> <span class="fu">sum</span>(A)<span class="sc">/</span>(<span class="fu">nrow</span>(A) <span class="sc">*</span> <span class="fu">ncol</span>(A))</span>
<span id="cb32-2"><a href="#cb32-2"></a>   d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3531746</code></pre>
</div>
</div>
</section>
</section>
<section id="degree-centrality" class="level2">
<h2 class="anchored" data-anchor-id="degree-centrality">Degree Centrality</h2>
<p>In a two-mode network, there are two degree sets, each corresponding to one set of nodes. For the people, in this case, their degree (centrality) is just the number of events they attend, and for the groups, it’s just the number of people that attend each event.</p>
<p>As we have already seen, we can get each from the affiliation matrix. The degree of the people are just the row sums:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>   <span class="fu">rowSums</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        8         7         8         7         4         4         4         3 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
        4         4         4         6         7         8         5         2 
   OLIVIA     FLORA 
        2         2 </code></pre>
</div>
</div>
<p>And the degree of the events are just the column sums:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>   <span class="fu">colSums</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
    3     3     6     4     8     8    10    14    12     5     4     6     3 
  8/3 
    3 </code></pre>
</div>
</div>
<p>As <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>)</span> note, if we want <em>normalized</em> degree centrality measures, we need to divide by either <span class="math inline">\(M\)</span> (for people) or <span class="math inline">\(N\)</span> (for events). That is, for people we use the number of events as the norm (as this is the theoretical maximum) and for events the number of people.</p>
<p>So for people, normalized degree is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>   <span class="fu">round</span>(<span class="fu">rowSums</span>(A)<span class="sc">/</span><span class="fu">ncol</span>(A), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.571     0.500     0.571     0.500     0.286     0.286     0.286     0.214 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.286     0.286     0.286     0.429     0.500     0.571     0.357     0.143 
   OLIVIA     FLORA 
    0.143     0.143 </code></pre>
</div>
</div>
<p>And for events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>   <span class="fu">round</span>(<span class="fu">colSums</span>(A)<span class="sc">/</span><span class="fu">nrow</span>(A), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
0.167 0.167 0.333 0.222 0.444 0.444 0.556 0.778 0.667 0.278 0.222 0.333 0.167 
  8/3 
0.167 </code></pre>
</div>
</div>
</section>
<section id="geodesic-distances" class="level2">
<h2 class="anchored" data-anchor-id="geodesic-distances">Geodesic Distances</h2>
<p>Geodesic distances work a bit different in two mode networks because of the only between-node-sets edges restriction.</p>
<p>For instance, the minimum geodesic distance <span class="math inline">\(g_{ii'}\)</span> between two people is two (a person cannot be adjacent to another person), but it is one between a person and a group (if the person is a member of the group).</p>
<p>In the same way, a group <span class="math inline">\(g\)</span> cannot be at geodesic distance less than three from a person <span class="math inline">\(p*\)</span> who is not a member, because the shortest path is <span class="math inline">\(g-p-g^*-p^*\)</span>.</p>
<p>That is, there has to be some other group <span class="math inline">\(g^*\)</span> shared between a member <span class="math inline">\(p\)</span> of the focal group <span class="math inline">\(g\)</span> and another person <span class="math inline">\(p^*\)</span> for the shortest path between <span class="math inline">\(g\)</span> and the non-member <span class="math inline">\(p^*\)</span> to exist, and that involves three links at minimum: <span class="math inline">\(g-p\)</span>, <span class="math inline">\(p-g^*\)</span>, and <span class="math inline">\(g^*-p^*\)</span>. This means that the links in paths in two-mode networks always alternate between persons and group nodes.</p>
<p>Beyond that geodesic distances work the same way. In <code>igraph</code> when we use the <code>distances</code> function on a bipartite graph, we get:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>   <span class="fu">distances</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH
EVELYN         0     2       2      2         2       2       2     2    2
LAURA          2     0       2      2         2       2       2     2    2
THERESA        2     2       0      2         2       2       2     2    2
BRENDA         2     2       2      0         2       2       2     2    2
CHARLOTTE      2     2       2      2         0       2       2     4    2
FRANCES        2     2       2      2         2       0       2     2    2
ELEANOR        2     2       2      2         2       2       0     2    2
PEARL          2     2       2      2         4       2       2     0    2
RUTH           2     2       2      2         2       2       2     2    0
VERNE          2     2       2      2         2       2       2     2    2
MYRNA          2     2       2      2         4       2       2     2    2
KATHERINE      2     2       2      2         4       2       2     2    2
SYLVIA         2     2       2      2         2       2       2     2    2
NORA           2     2       2      2         2       2       2     2    2
HELEN          2     2       2      2         2       2       2     2    2
DOROTHY        2     2       2      2         4       2       2     2    2
OLIVIA         2     4       2      4         4       4       4     2    2
FLORA          2     4       2      4         4       4       4     2    2
6/27           1     1       3      1         3       3       3     3    3
3/2            1     1       1      3         3       3       3     3    3
4/12           1     1       1      1         1       1       3     3    3
9/26           1     3       1      1         1       3       3     3    3
2/25           1     1       1      1         1       1       1     3    1
5/19           1     1       1      1         3       1       1     1    3
3/15           3     1       1      1         1       3       1     3    1
9/16           1     1       1      1         3       1       1     1    1
4/8            1     3       1      3         3       3       3     1    1
6/10           3     3       3      3         3       3       3     3    3
2/23           3     3       3      3         3       3       3     3    3
4/7            3     3       3      3         3       3       3     3    3
11/21          3     3       3      3         3       3       3     3    3
8/3            3     3       3      3         3       3       3     3    3
          VERNE MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA 6/27 3/2
EVELYN        2     2         2      2    2     2       2      2     2    1   1
LAURA         2     2         2      2    2     2       2      4     4    1   1
THERESA       2     2         2      2    2     2       2      2     2    3   1
BRENDA        2     2         2      2    2     2       2      4     4    1   3
CHARLOTTE     2     4         4      2    2     2       4      4     4    3   3
FRANCES       2     2         2      2    2     2       2      4     4    3   3
ELEANOR       2     2         2      2    2     2       2      4     4    3   3
PEARL         2     2         2      2    2     2       2      2     2    3   3
RUTH          2     2         2      2    2     2       2      2     2    3   3
VERNE         0     2         2      2    2     2       2      2     2    3   3
MYRNA         2     0         2      2    2     2       2      2     2    3   3
KATHERINE     2     2         0      2    2     2       2      2     2    3   3
SYLVIA        2     2         2      0    2     2       2      2     2    3   3
NORA          2     2         2      2    0     2       2      2     2    3   3
HELEN         2     2         2      2    2     0       2      2     2    3   3
DOROTHY       2     2         2      2    2     2       0      2     2    3   3
OLIVIA        2     2         2      2    2     2       2      0     2    3   3
FLORA         2     2         2      2    2     2       2      2     0    3   3
6/27          3     3         3      3    3     3       3      3     3    0   2
3/2           3     3         3      3    3     3       3      3     3    2   0
4/12          3     3         3      3    3     3       3      3     3    2   2
9/26          3     3         3      3    3     3       3      3     3    2   2
2/25          3     3         3      3    3     3       3      3     3    2   2
5/19          3     3         3      3    1     3       3      3     3    2   2
3/15          1     3         3      1    1     1       3      3     3    2   2
9/16          1     1         1      1    3     1       1      3     3    2   2
4/8           1     1         1      1    1     3       1      1     1    2   2
6/10          3     1         1      1    1     1       3      3     3    4   4
2/23          3     3         3      3    1     1       3      1     1    4   4
4/7           1     1         1      1    1     1       3      3     3    4   4
11/21         3     3         1      1    1     3       3      3     3    4   4
8/3           3     3         1      1    1     3       3      3     3    4   4
          4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
EVELYN       1    1    1    1    3    1   1    3    3   3     3   3
LAURA        1    3    1    1    1    1   3    3    3   3     3   3
THERESA      1    1    1    1    1    1   1    3    3   3     3   3
BRENDA       1    1    1    1    1    1   3    3    3   3     3   3
CHARLOTTE    1    1    1    3    1    3   3    3    3   3     3   3
FRANCES      1    3    1    1    3    1   3    3    3   3     3   3
ELEANOR      3    3    1    1    1    1   3    3    3   3     3   3
PEARL        3    3    3    1    3    1   1    3    3   3     3   3
RUTH         3    3    1    3    1    1   1    3    3   3     3   3
VERNE        3    3    3    3    1    1   1    3    3   1     3   3
MYRNA        3    3    3    3    3    1   1    1    3   1     3   3
KATHERINE    3    3    3    3    3    1   1    1    3   1     1   1
SYLVIA       3    3    3    3    1    1   1    1    3   1     1   1
NORA         3    3    3    1    1    3   1    1    1   1     1   1
HELEN        3    3    3    3    1    1   3    1    1   1     3   3
DOROTHY      3    3    3    3    3    1   1    3    3   3     3   3
OLIVIA       3    3    3    3    3    3   1    3    1   3     3   3
FLORA        3    3    3    3    3    3   1    3    1   3     3   3
6/27         2    2    2    2    2    2   2    4    4   4     4   4
3/2          2    2    2    2    2    2   2    4    4   4     4   4
4/12         0    2    2    2    2    2   2    4    4   4     4   4
9/26         2    0    2    2    2    2   2    4    4   4     4   4
2/25         2    2    0    2    2    2   2    4    4   4     4   4
5/19         2    2    2    0    2    2   2    2    2   2     2   2
3/15         2    2    2    2    0    2   2    2    2   2     2   2
9/16         2    2    2    2    2    0   2    2    2   2     2   2
4/8          2    2    2    2    2    2   0    2    2   2     2   2
6/10         4    4    4    2    2    2   2    0    2   2     2   2
2/23         4    4    4    2    2    2   2    2    0   2     2   2
4/7          4    4    4    2    2    2   2    2    2   0     2   2
11/21        4    4    4    2    2    2   2    2    2   2     0   2
8/3          4    4    4    2    2    2   2    2    2   2     2   0</code></pre>
</div>
</div>
<p>Which is a square matrix of dimensions <span class="math inline">\((M + N) \times (M + N)\)</span>; that’s <span class="math inline">\((18 + 14) \times (18 + 14) = 32 \times 32\)</span> in our case.</p>
<p>We can check in <code>R</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>   <span class="fu">dim</span>(<span class="fu">distances</span>(g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32 32</code></pre>
</div>
</div>
<p>As we can see in the distance matrix, distances between nodes in the same set are even <span class="math inline">\(g_{ii'|jj'} = \{2, 4, \ldots\}\)</span> but distances in nodes in different sets are odd <span class="math inline">\(g_{ij|ji} = \{1, 3, \ldots\}\)</span>. Beyond this hiccup, distances can be interpreted in the same way as one-mode networks.</p>
</section>
<section id="closeness-centrality-in-two-mode-networks" class="level2">
<h2 class="anchored" data-anchor-id="closeness-centrality-in-two-mode-networks">Closeness Centrality in Two Mode Networks</h2>
<p>This means that (unnormalized) closeness centrality works the same way as it does in regular networks:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>   <span class="fu">round</span>(<span class="fu">closeness</span>(g), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.017     0.015     0.017     0.015     0.013     0.014     0.014     0.014 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.015     0.015     0.014     0.015     0.016     0.017     0.015     0.014 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
    0.012     0.012     0.012     0.012     0.013     0.012     0.014     0.016 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
    0.017     0.019     0.018     0.013     0.012     0.013     0.012     0.012 </code></pre>
</div>
</div>
<p>Which is just the inverse of the sums of the distances matrix for people and groups counting their geodesic distances to nodes of both sets.</p>
<p>However, as <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>)</span> note, if we want <em>normalized</em> closeness centralities, we can’t use the off-the-shelf normalization for one-mode networks in <code>igraph</code> (<span class="math inline">\(n-1\)</span>) as it will give us non-sense results because now we have two sets of nodes.</p>
<p>Instead, we need to normalize the closeness score for each node set by its theoretical maximum for each node set.</p>
<p>For people, this is:</p>
<p><span class="math display">\[
N + 2(M - 1)
\]</span></p>
<p>And for groups/events this same quantity is:</p>
<p><span class="math display">\[
M + 2(N - 1)
\]</span></p>
<p>The basic idea is that nodes can be at minimum geodesic distance <span class="math inline">\(g = 1\)</span> from nodes of the other set (for people, groups; for groups, people) and at minimum distance <span class="math inline">\(g = 2\)</span> from nodes of their own set, with their own presence eliminated by subtraction <span class="citation" data-cites="borgatti_everett97">(<a href="#ref-borgatti_everett97" role="doc-biblioref">Borgatti and Everett 1997</a>)</span>.</p>
<p>In our case, we create a normalization vector with these quantities of length <span class="math inline">\(M + N\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>   M <span class="ot">&lt;-</span> <span class="fu">nrow</span>(A)</span>
<span id="cb48-2"><a href="#cb48-2"></a>   N <span class="ot">&lt;-</span> <span class="fu">ncol</span>(A)</span>
<span id="cb48-3"><a href="#cb48-3"></a>   n.p <span class="ot">&lt;-</span> N <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> (M <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb48-4"><a href="#cb48-4"></a>   n.e <span class="ot">&lt;-</span> M <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> (N <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb48-5"><a href="#cb48-5"></a>   norm.vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(n.p, M), <span class="fu">rep</span>(n.e, N))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And normalized closeness is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>   <span class="fu">round</span>(norm.vec<span class="sc">/</span><span class="fu">rowSums</span>(<span class="fu">distances</span>(g)), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.800     0.727     0.800     0.727     0.600     0.667     0.667     0.667 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.706     0.706     0.686     0.727     0.774     0.800     0.727     0.649 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
    0.585     0.585     0.524     0.524     0.564     0.537     0.595     0.688 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
    0.733     0.846     0.786     0.550     0.537     0.564     0.524     0.524 </code></pre>
</div>
</div>
<p>Which are the same numbers in <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>, table 1, column 6)</span>.</p>
</section>
<section id="betweenness-centrality-in-two-mode-networks" class="level2">
<h2 class="anchored" data-anchor-id="betweenness-centrality-in-two-mode-networks">Betweenness Centrality in Two Mode Networks</h2>
<p>As <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>)</span> also note, the normalizations for betweenness centrality in the two mode case are a bit more involved. This is because they depend on which node set is larger than the other.</p>
<p>For the larger node set, which in our case is the people, the normalization is:</p>
<p><span class="math display">\[
2(M-1)(N-1)
\]</span></p>
<p>For the smaller node set, which in our case is the groups/events, the normalization is:</p>
<p><span class="math display">\[
\frac{1}{2}(N)(N-1)+\frac{1}{2}(M-1)(M-2)+(M-1)(N-1)
\]</span></p>
<p>Remember that you have to switch this around if you are analyzing a network with more groups than people.</p>
<p>Creating the relevant vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>   n.p <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>(M<span class="dv">-1</span>)<span class="sc">*</span>(N<span class="dv">-1</span>)</span>
<span id="cb51-2"><a href="#cb51-2"></a>   n.e <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span>(N<span class="sc">*</span>(N<span class="dv">-1</span>))<span class="sc">+</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span>(M<span class="dv">-1</span>)<span class="sc">*</span>(M<span class="dv">-2</span>)<span class="sc">+</span>(M<span class="dv">-1</span>)<span class="sc">*</span>(N<span class="dv">-1</span>)</span>
<span id="cb51-3"><a href="#cb51-3"></a>   norm.vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(n.p, M), <span class="fu">rep</span>(n.e, N))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And normalized betweenness is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>   <span class="fu">round</span>(<span class="fu">betweenness</span>(g)<span class="sc">/</span>norm.vec, <span class="dv">4</span>)<span class="sc">*</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
     9.72      5.17      8.82      4.98      1.07      1.08      0.95      0.68 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
     1.69      1.58      1.65      4.77      7.22     11.42      4.27      0.20 
   OLIVIA     FLORA      6/27       3/2      4/12      9/26      2/25      5/19 
     0.51      0.51      0.22      0.21      1.84      0.78      3.80      6.56 
     3/15      9/16       4/8      6/10      2/23       4/7     11/21       8/3 
    13.07     24.60     22.75      1.15      1.98      1.83      0.23      0.23 </code></pre>
</div>
</div>
<p>Which are (with some slight differences and rounding errors) the same numbers in <span class="citation" data-cites="borgatti_everett97">Borgatti and Everett (<a href="#ref-borgatti_everett97" role="doc-biblioref">1997</a>, table 2, column 3)</span>.</p>
</section>
<section id="the-duality-of-persons-and-groups" class="level2">
<h2 class="anchored" data-anchor-id="the-duality-of-persons-and-groups">The Duality of Persons and Groups</h2>
<p>Remember that in the one-mode case, multiplying the adjacency matrix times its transpose yields the <strong>common neighbors matrix</strong> <span class="math inline">\(\mathbf{M}\)</span>:</p>
<p><span class="math display">\[
\mathbf{M} = \mathbf{A}\mathbf{A}^T
\]</span></p>
<p>As famously noted by <span class="citation" data-cites="breiger74">Breiger (<a href="#ref-breiger74" role="doc-biblioref">1974</a>)</span>, doing the same for the affiliation matrix of a two-mode network also returns the common-neighbors matrix, but because objects in one mode can only connect to objects in another mode, this also reveals the <strong>duality of persons and groups</strong>: The connections between people are made up of the groups they share, and the connections between groups are revealed by the groups they share.</p>
<p>Thus, computing the common neighbors matrix for both persons and groups (also called the <strong>projection</strong> of the two-mode network into each of its modes) produces a one-mode similarity matrix between people and groups, where the similarities are defined by the number of objects in the other mode that they share.</p>
<p>So for the people the relevant projection is:</p>
<p><span class="math display">\[
\mathbf{P} = \mathbf{A}\mathbf{A}^T
\]</span></p>
<p>And for the groups:</p>
<p><span class="math display">\[
\mathbf{G} = \mathbf{A}^T\mathbf{A}
\]</span></p>
<p>Which in our case yields:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>   P <span class="ot">&lt;-</span> A <span class="sc">%*%</span> <span class="fu">t</span>(A)</span>
<span id="cb54-2"><a href="#cb54-2"></a>   P</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH
EVELYN         8     6       7      6         3       4       3     3    3
LAURA          6     7       6      6         3       4       4     2    3
THERESA        7     6       8      6         4       4       4     3    4
BRENDA         6     6       6      7         4       4       4     2    3
CHARLOTTE      3     3       4      4         4       2       2     0    2
FRANCES        4     4       4      4         2       4       3     2    2
ELEANOR        3     4       4      4         2       3       4     2    3
PEARL          3     2       3      2         0       2       2     3    2
RUTH           3     3       4      3         2       2       3     2    4
VERNE          2     2       3      2         1       1       2     2    3
MYRNA          2     1       2      1         0       1       1     2    2
KATHERINE      2     1       2      1         0       1       1     2    2
SYLVIA         2     2       3      2         1       1       2     2    3
NORA           2     2       3      2         1       1       2     2    2
HELEN          1     2       2      2         1       1       2     1    2
DOROTHY        2     1       2      1         0       1       1     2    2
OLIVIA         1     0       1      0         0       0       0     1    1
FLORA          1     0       1      0         0       0       0     1    1
          VERNE MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA
EVELYN        2     2         2      2    2     1       2      1     1
LAURA         2     1         1      2    2     2       1      0     0
THERESA       3     2         2      3    3     2       2      1     1
BRENDA        2     1         1      2    2     2       1      0     0
CHARLOTTE     1     0         0      1    1     1       0      0     0
FRANCES       1     1         1      1    1     1       1      0     0
ELEANOR       2     1         1      2    2     2       1      0     0
PEARL         2     2         2      2    2     1       2      1     1
RUTH          3     2         2      3    2     2       2      1     1
VERNE         4     3         3      4    3     3       2      1     1
MYRNA         3     4         4      4    3     3       2      1     1
KATHERINE     3     4         6      6    5     3       2      1     1
SYLVIA        4     4         6      7    6     4       2      1     1
NORA          3     3         5      6    8     4       1      2     2
HELEN         3     3         3      4    4     5       1      1     1
DOROTHY       2     2         2      2    1     1       2      1     1
OLIVIA        1     1         1      1    2     1       1      2     2
FLORA         1     1         1      1    2     1       1      2     2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>   G <span class="ot">&lt;-</span> <span class="fu">t</span>(A) <span class="sc">%*%</span> A</span>
<span id="cb56-2"><a href="#cb56-2"></a>   G</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      6/27 3/2 4/12 9/26 2/25 5/19 3/15 9/16 4/8 6/10 2/23 4/7 11/21 8/3
6/27     3   2    3    2    3    3    2    3   1    0    0   0     0   0
3/2      2   3    3    2    3    3    2    3   2    0    0   0     0   0
4/12     3   3    6    4    6    5    4    5   2    0    0   0     0   0
9/26     2   2    4    4    4    3    3    3   2    0    0   0     0   0
2/25     3   3    6    4    8    6    6    7   3    0    0   0     0   0
5/19     3   3    5    3    6    8    5    7   4    1    1   1     1   1
3/15     2   2    4    3    6    5   10    8   5    3    2   4     2   2
9/16     3   3    5    3    7    7    8   14   9    4    1   5     2   2
4/8      1   2    2    2    3    4    5    9  12    4    3   5     3   3
6/10     0   0    0    0    0    1    3    4   4    5    2   5     3   3
2/23     0   0    0    0    0    1    2    1   3    2    4   2     1   1
4/7      0   0    0    0    0    1    4    5   5    5    2   6     3   3
11/21    0   0    0    0    0    1    2    2   3    3    1   3     3   3
8/3      0   0    0    0    0    1    2    2   3    3    1   3     3   3</code></pre>
</div>
</div>
<p>The off-diagonal entries of these square person by person (group by group) matrices is the number of groups (people) shared by each person (group) and the diagonals are the number of memberships of each person (the size of each group/event).</p>
</section>
<section id="normalized-vertex-similarity-metrics" class="level2">
<h2 class="anchored" data-anchor-id="normalized-vertex-similarity-metrics">Normalized Vertex Similarity Metrics</h2>
<p>Note that the one-mode projections are unnormalized similarity matrices just like in the case of regular networks. That means that if we have the degrees of nodes in each mode, we can transform this matrix into any of the <strong>normalized vertex similarity</strong> metrics we discussed before, including Jaccard, Cosine, Dice, LHN, and so on.</p>
<p>Thus repackaging our vertex similarity function for the two mode case, we have:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>   vertex.sim <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb58-2"><a href="#cb58-2"></a>      A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_biadjacency_matrix</span>(x))</span>
<span id="cb58-3"><a href="#cb58-3"></a>      M <span class="ot">&lt;-</span> <span class="fu">nrow</span>(A) <span class="co">#number of persons</span></span>
<span id="cb58-4"><a href="#cb58-4"></a>      N <span class="ot">&lt;-</span> <span class="fu">ncol</span>(A) <span class="co">#number of groups</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>      p.d <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(A) <span class="co">#person degrees</span></span>
<span id="cb58-6"><a href="#cb58-6"></a>      g.d <span class="ot">&lt;-</span> <span class="fu">colSums</span>(A) <span class="co">#group degrees</span></span>
<span id="cb58-7"><a href="#cb58-7"></a>      P <span class="ot">&lt;-</span> A <span class="sc">%*%</span> <span class="fu">t</span>(A) <span class="co">#person projection</span></span>
<span id="cb58-8"><a href="#cb58-8"></a>      G <span class="ot">&lt;-</span> <span class="fu">t</span>(A) <span class="sc">%*%</span> A <span class="co">#group projection</span></span>
<span id="cb58-9"><a href="#cb58-9"></a>      J.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, M, M)</span>
<span id="cb58-10"><a href="#cb58-10"></a>      J.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, N, N)</span>
<span id="cb58-11"><a href="#cb58-11"></a>      C.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, M, M)</span>
<span id="cb58-12"><a href="#cb58-12"></a>      C.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, N, N)</span>
<span id="cb58-13"><a href="#cb58-13"></a>      D.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, M, M)</span>
<span id="cb58-14"><a href="#cb58-14"></a>      D.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, N, N)</span>
<span id="cb58-15"><a href="#cb58-15"></a>      L.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, M, M)</span>
<span id="cb58-16"><a href="#cb58-16"></a>      L.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, N, N)</span>
<span id="cb58-17"><a href="#cb58-17"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>M) {</span>
<span id="cb58-18"><a href="#cb58-18"></a>         <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>M) {</span>
<span id="cb58-19"><a href="#cb58-19"></a>            <span class="cf">if</span> (i <span class="sc">&lt;</span> j) {</span>
<span id="cb58-20"><a href="#cb58-20"></a>               J.p[i,j] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(P[i,j] <span class="sc">+</span> p.d[i] <span class="sc">+</span> p.d[j])</span>
<span id="cb58-21"><a href="#cb58-21"></a>               J.p[j,i] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(P[i,j] <span class="sc">+</span> p.d[i] <span class="sc">+</span> p.d[j])</span>
<span id="cb58-22"><a href="#cb58-22"></a>               C.p[i,j] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(<span class="fu">sqrt</span>(p.d[i] <span class="sc">*</span> p.d[j]))</span>
<span id="cb58-23"><a href="#cb58-23"></a>               C.p[j,i] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(<span class="fu">sqrt</span>(p.d[i] <span class="sc">*</span> p.d[j]))</span>
<span id="cb58-24"><a href="#cb58-24"></a>               D.p[i,j] <span class="ot">&lt;-</span> (<span class="dv">2</span><span class="sc">*</span>P[i,j])<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>P[i,j] <span class="sc">+</span> p.d[i] <span class="sc">+</span> p.d[j])</span>
<span id="cb58-25"><a href="#cb58-25"></a>               D.p[j,i] <span class="ot">&lt;-</span> (<span class="dv">2</span><span class="sc">*</span>P[i,j])<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>P[i,j] <span class="sc">+</span> p.d[i] <span class="sc">+</span> p.d[j])</span>
<span id="cb58-26"><a href="#cb58-26"></a>               L.p[i,j] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(p.d[i] <span class="sc">*</span> p.d[j])</span>
<span id="cb58-27"><a href="#cb58-27"></a>               L.p[j,i] <span class="ot">&lt;-</span> P[i,j]<span class="sc">/</span>(p.d[i] <span class="sc">*</span> p.d[j])</span>
<span id="cb58-28"><a href="#cb58-28"></a>               }</span>
<span id="cb58-29"><a href="#cb58-29"></a>            }</span>
<span id="cb58-30"><a href="#cb58-30"></a>         }</span>
<span id="cb58-31"><a href="#cb58-31"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>N) {</span>
<span id="cb58-32"><a href="#cb58-32"></a>         <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>N) {</span>
<span id="cb58-33"><a href="#cb58-33"></a>            <span class="cf">if</span> (i <span class="sc">&lt;</span> j) {</span>
<span id="cb58-34"><a href="#cb58-34"></a>               J.g[i,j] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(G[i,j] <span class="sc">+</span> g.d[i] <span class="sc">+</span> g.d[j])</span>
<span id="cb58-35"><a href="#cb58-35"></a>               J.g[j,i] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(G[i,j] <span class="sc">+</span> g.d[i] <span class="sc">+</span> g.d[j])</span>
<span id="cb58-36"><a href="#cb58-36"></a>               C.g[i,j] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(<span class="fu">sqrt</span>(g.d[i] <span class="sc">*</span> g.d[j]))</span>
<span id="cb58-37"><a href="#cb58-37"></a>               C.g[j,i] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(<span class="fu">sqrt</span>(g.d[i] <span class="sc">*</span> g.d[j]))</span>
<span id="cb58-38"><a href="#cb58-38"></a>               D.g[i,j] <span class="ot">&lt;-</span> (<span class="dv">2</span><span class="sc">*</span>G[i,j])<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>G[i,j] <span class="sc">+</span> g.d[i] <span class="sc">+</span> g.d[j])</span>
<span id="cb58-39"><a href="#cb58-39"></a>               D.g[j,i] <span class="ot">&lt;-</span> (<span class="dv">2</span><span class="sc">*</span>G[i,j])<span class="sc">/</span>(<span class="dv">2</span><span class="sc">*</span>G[i,j] <span class="sc">+</span> g.d[i] <span class="sc">+</span> g.d[j])</span>
<span id="cb58-40"><a href="#cb58-40"></a>               L.g[i,j] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(g.d[i] <span class="sc">*</span> g.d[j])</span>
<span id="cb58-41"><a href="#cb58-41"></a>               L.g[j,i] <span class="ot">&lt;-</span> G[i,j]<span class="sc">/</span>(g.d[i] <span class="sc">*</span> g.d[j])</span>
<span id="cb58-42"><a href="#cb58-42"></a>               }</span>
<span id="cb58-43"><a href="#cb58-43"></a>            }</span>
<span id="cb58-44"><a href="#cb58-44"></a>         }</span>
<span id="cb58-45"><a href="#cb58-45"></a>      <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">J.p =</span> J.p, <span class="at">C.p =</span> C.p, <span class="at">D.p =</span> D.p, <span class="at">L.p =</span> L.p,</span>
<span id="cb58-46"><a href="#cb58-46"></a>                  <span class="at">J.g =</span> J.g, <span class="at">C.g =</span> C.g, <span class="at">D.g =</span> D.g, <span class="at">L.g =</span> L.g))</span>
<span id="cb58-47"><a href="#cb58-47"></a>      }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using this function to compute the Jaccard similarity between people yields:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>   J.p <span class="ot">&lt;-</span> <span class="fu">vertex.sim</span>(g)<span class="sc">$</span>J.p</span>
<span id="cb59-2"><a href="#cb59-2"></a>   <span class="fu">rownames</span>(J.p) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(A)</span>
<span id="cb59-3"><a href="#cb59-3"></a>   <span class="fu">colnames</span>(J.p) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(A)</span>
<span id="cb59-4"><a href="#cb59-4"></a>   <span class="fu">round</span>(J.p, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH
EVELYN      1.00  0.29    0.30   0.29      0.20    0.25    0.20  0.21 0.20
LAURA       0.29  1.00    0.29   0.30      0.21    0.27    0.27  0.17 0.21
THERESA     0.30  0.29    1.00   0.29      0.25    0.25    0.25  0.21 0.25
BRENDA      0.29  0.30    0.29   1.00      0.27    0.27    0.27  0.17 0.21
CHARLOTTE   0.20  0.21    0.25   0.27      1.00    0.20    0.20  0.00 0.20
FRANCES     0.25  0.27    0.25   0.27      0.20    1.00    0.27  0.22 0.20
ELEANOR     0.20  0.27    0.25   0.27      0.20    0.27    1.00  0.22 0.27
PEARL       0.21  0.17    0.21   0.17      0.00    0.22    0.22  1.00 0.22
RUTH        0.20  0.21    0.25   0.21      0.20    0.20    0.27  0.22 1.00
VERNE       0.14  0.15    0.20   0.15      0.11    0.11    0.20  0.22 0.27
MYRNA       0.14  0.08    0.14   0.08      0.00    0.11    0.11  0.22 0.20
KATHERINE   0.12  0.07    0.12   0.07      0.00    0.09    0.09  0.18 0.17
SYLVIA      0.12  0.12    0.17   0.12      0.08    0.08    0.15  0.17 0.21
NORA        0.11  0.12    0.16   0.12      0.08    0.08    0.14  0.15 0.14
HELEN       0.07  0.14    0.13   0.14      0.10    0.10    0.18  0.11 0.18
DOROTHY     0.17  0.10    0.17   0.10      0.00    0.14    0.14  0.29 0.25
OLIVIA      0.09  0.00    0.09   0.00      0.00    0.00    0.00  0.17 0.14
FLORA       0.09  0.00    0.09   0.00      0.00    0.00    0.00  0.17 0.14
          VERNE MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA
EVELYN     0.14  0.14      0.12   0.12 0.11  0.07    0.17   0.09  0.09
LAURA      0.15  0.08      0.07   0.12 0.12  0.14    0.10   0.00  0.00
THERESA    0.20  0.14      0.12   0.17 0.16  0.13    0.17   0.09  0.09
BRENDA     0.15  0.08      0.07   0.12 0.12  0.14    0.10   0.00  0.00
CHARLOTTE  0.11  0.00      0.00   0.08 0.08  0.10    0.00   0.00  0.00
FRANCES    0.11  0.11      0.09   0.08 0.08  0.10    0.14   0.00  0.00
ELEANOR    0.20  0.11      0.09   0.15 0.14  0.18    0.14   0.00  0.00
PEARL      0.22  0.22      0.18   0.17 0.15  0.11    0.29   0.17  0.17
RUTH       0.27  0.20      0.17   0.21 0.14  0.18    0.25   0.14  0.14
VERNE      1.00  0.27      0.23   0.27 0.20  0.25    0.25   0.14  0.14
MYRNA      0.27  1.00      0.29   0.27 0.20  0.25    0.25   0.14  0.14
KATHERINE  0.23  0.29      1.00   0.32 0.26  0.21    0.20   0.11  0.11
SYLVIA     0.27  0.27      0.32   1.00 0.29  0.25    0.18   0.10  0.10
NORA       0.20  0.20      0.26   0.29 1.00  0.24    0.09   0.17  0.17
HELEN      0.25  0.25      0.21   0.25 0.24  1.00    0.12   0.12  0.12
DOROTHY    0.25  0.25      0.20   0.18 0.09  0.12    1.00   0.20  0.20
OLIVIA     0.14  0.14      0.11   0.10 0.17  0.12    0.20   1.00  0.33
FLORA      0.14  0.14      0.11   0.10 0.17  0.12    0.20   0.33  1.00</code></pre>
</div>
</div>
</section>
<section id="structural-equivalence" class="level2">
<h2 class="anchored" data-anchor-id="structural-equivalence">Structural Equivalence</h2>
<p>And, of course, once we have a similarity we can cluster nodes based on approximate structural equivalence by transforming proximities to distances:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>   D <span class="ot">&lt;-</span> <span class="fu">as.dist</span>(<span class="dv">1</span><span class="sc">-</span> J.p)</span>
<span id="cb61-2"><a href="#cb61-2"></a>   hc.p <span class="ot">&lt;-</span> <span class="fu">hclust</span>(D, <span class="at">method =</span> <span class="st">"ward.D2"</span>)</span>
<span id="cb61-3"><a href="#cb61-3"></a>   <span class="fu">plot</span>(hc.p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>And for events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>   J.g <span class="ot">&lt;-</span> <span class="fu">vertex.sim</span>(g)<span class="sc">$</span>J.g</span>
<span id="cb62-2"><a href="#cb62-2"></a>   <span class="fu">rownames</span>(J.g) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(A)</span>
<span id="cb62-3"><a href="#cb62-3"></a>   <span class="fu">colnames</span>(J.g) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(A)</span>
<span id="cb62-4"><a href="#cb62-4"></a>   D <span class="ot">&lt;-</span> <span class="fu">as.dist</span>(<span class="dv">1</span><span class="sc">-</span> J.g)</span>
<span id="cb62-5"><a href="#cb62-5"></a>   hc.g <span class="ot">&lt;-</span> <span class="fu">hclust</span>(D, <span class="at">method =</span> <span class="st">"ward.D2"</span>)</span>
<span id="cb62-6"><a href="#cb62-6"></a>   <span class="fu">plot</span>(hc.g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can then derive cluster memberships for people and groups from the <code>hclust</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>   <span class="fu">library</span>(dendextend)</span>
<span id="cb63-2"><a href="#cb63-2"></a>   clus.p <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">cutree</span>(hc.p, <span class="dv">4</span>)) <span class="co">#selecting four clusters for people</span></span>
<span id="cb63-3"><a href="#cb63-3"></a>   clus.p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        1         1         1         1         1         1         1         2 
     RUTH     VERNE   DOROTHY     MYRNA KATHERINE    SYLVIA      NORA     HELEN 
        2         2         2         3         3         3         3         3 
   OLIVIA     FLORA 
        4         4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>   clus.g <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">cutree</span>(hc.g, <span class="dv">3</span>)) <span class="co">#selecting three clusters for groups</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>   clus.g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
    1     1     1     1     1     1     2     2     2     3     3     3     3 
  8/3 
    3 </code></pre>
</div>
</div>
<p>And finally we can block the original affiliation matrix, as recommended by <span class="citation" data-cites="everett_borgatti13">Everett and Borgatti (<a href="#ref-everett_borgatti13" role="doc-biblioref">2013, 210</a>, table 5)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>   <span class="fu">library</span>(ggcorrplot)</span>
<span id="cb67-2"><a href="#cb67-2"></a>   p <span class="ot">&lt;-</span> <span class="fu">ggcorrplot</span>(<span class="fu">t</span>(A[<span class="fu">names</span>(clus.p), <span class="fu">names</span>(clus.g)]), </span>
<span id="cb67-3"><a href="#cb67-3"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>)) </span>
<span id="cb67-4"><a href="#cb67-4"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb67-5"><a href="#cb67-5"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb67-6"><a href="#cb67-6"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb67-7"><a href="#cb67-7"></a>                  )</span>
<span id="cb67-8"><a href="#cb67-8"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) </span>
<span id="cb67-9"><a href="#cb67-9"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">7.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-10"><a href="#cb67-10"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">11.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-11"><a href="#cb67-11"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">16.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-12"><a href="#cb67-12"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">6.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-13"><a href="#cb67-13"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">9.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-14"><a href="#cb67-14"></a>   p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Which reveals a number of almost complete (one-blocks) and almost null (zero-blocks) in the social structure, with a reduced image matrix that looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>   <span class="fu">library</span>(kableExtra)</span>
<span id="cb68-2"><a href="#cb68-2"></a>   IM <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb68-3"><a href="#cb68-3"></a>   IM[<span class="dv">1</span>, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb68-4"><a href="#cb68-4"></a>   IM[<span class="dv">2</span>, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb68-5"><a href="#cb68-5"></a>   IM[<span class="dv">3</span>, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb68-6"><a href="#cb68-6"></a>   IM[<span class="dv">4</span>, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb68-7"><a href="#cb68-7"></a>   <span class="fu">rownames</span>(IM) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"P.Block1"</span>, <span class="st">"P.Block2"</span>, <span class="st">"P.Block3"</span>, <span class="st">"P.Block4"</span>)</span>
<span id="cb68-8"><a href="#cb68-8"></a>   <span class="fu">colnames</span>(IM) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"E.Block1"</span>, <span class="st">"E.Block2"</span>, <span class="st">"E.Block3"</span>)</span>
<span id="cb68-9"><a href="#cb68-9"></a>   <span class="fu">kbl</span>(IM, <span class="at">format =</span> <span class="st">"html"</span>, , <span class="at">align =</span> <span class="st">"c"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-10"><a href="#cb68-10"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-11"><a href="#cb68-11"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb68-12"><a href="#cb68-12"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> E.Block1 </th>
   <th style="text-align:center;"> E.Block2 </th>
   <th style="text-align:center;"> E.Block3 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> P.Block1 </td>
   <td style="text-align:center;"> 0 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> P.Block2 </td>
   <td style="text-align:center;"> 0 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> P.Block3 </td>
   <td style="text-align:center;"> 0 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> P.Block4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="eigenvector-status" class="level2">
<h2 class="anchored" data-anchor-id="eigenvector-status">Eigenvector Status</h2>
<p>Measures of status and prestige are particularly applicable to two mode networks. The reason is that the <em>reflective</em> principle behind these measures interacts nicely with the <em>duality</em> principle.</p>
<p>For instance, when it comes to <strong>eigenvector</strong>-style measures, the neat idea that <em>people are central if they belong to central groups and groups and central if their members are central people</em> (with people centrality defined by membership in central groups) can be effectively captured by these metrics <span class="citation" data-cites="bonacich91">(<a href="#ref-bonacich91" role="doc-biblioref">Bonacich 1991</a>)</span>.</p>
<p>Thus if <span class="math inline">\(x\)</span> are the status scores for people, and <span class="math inline">\(y\)</span> are the status scores for groups, then the <span class="math inline">\(x\)</span> scores should be given by the sum of the <span class="math inline">\(y\)</span> scores of the groups each person belongs, and the <span class="math inline">\(y\)</span> scores should be given by the sum of the <span class="math inline">\(x\)</span> scores of their members.</p>
<p>In mathese:</p>
<p><span class="math display">\[
x = \mathbf{A}^Ty
\]</span></p>
<p><span class="math display">\[
y = \mathbf{A}x
\]</span></p>
<p>Once again, producing another instance of a cat chasing its own tail (we need to know the values of <span class="math inline">\(y\)</span> to figure out the values of <span class="math inline">\(x\)</span> and we need to know the values of <span class="math inline">\(x\)</span> to figure out the values of <span class="math inline">\(y\)</span>).</p>
<p>How do we proceed? Well, let’s bring back our trusty status distribution game:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>   status1 <span class="ot">&lt;-</span> <span class="cf">function</span>(A) {</span>
<span id="cb69-2"><a href="#cb69-2"></a>      n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(A) <span class="co">#number of actors</span></span>
<span id="cb69-3"><a href="#cb69-3"></a>      x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, n) <span class="co">#initial status vector set to all ones</span></span>
<span id="cb69-4"><a href="#cb69-4"></a>      w <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb69-5"><a href="#cb69-5"></a>      k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb69-6"><a href="#cb69-6"></a>      <span class="cf">while</span> (w <span class="sc">&gt;</span> <span class="fl">0.0001</span>) {</span>
<span id="cb69-7"><a href="#cb69-7"></a>          o.x <span class="ot">&lt;-</span> x <span class="co">#old status scores</span></span>
<span id="cb69-8"><a href="#cb69-8"></a>          x <span class="ot">&lt;-</span> A <span class="sc">%*%</span> x <span class="co">#new scores a function of old scores and adjacency matrix</span></span>
<span id="cb69-9"><a href="#cb69-9"></a>          x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">norm</span>(x, <span class="at">type =</span> <span class="st">"E"</span>) <span class="co">#normalizing new status scores</span></span>
<span id="cb69-10"><a href="#cb69-10"></a>          w <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(x) <span class="sc">-</span> <span class="fu">abs</span>(o.x))) <span class="co">#diff. between new and old scores</span></span>
<span id="cb69-11"><a href="#cb69-11"></a>          k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span> <span class="co">#incrementing while counter</span></span>
<span id="cb69-12"><a href="#cb69-12"></a>      }</span>
<span id="cb69-13"><a href="#cb69-13"></a>   <span class="fu">return</span>(<span class="fu">as.vector</span>(x))</span>
<span id="cb69-14"><a href="#cb69-14"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then the main question is over what matrix will the status game be played for <em>both</em> people and groups?</p>
<p>As <span class="citation" data-cites="bonacich91">Bonacich (<a href="#ref-bonacich91" role="doc-biblioref">1991</a>)</span> noted, the projection matrices of <span class="citation" data-cites="breiger74">Breiger (<a href="#ref-breiger74" role="doc-biblioref">1974</a>)</span> are natural candidates for this task. Let’s try it out.</p>
<p>For people this would be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>   p.s <span class="ot">&lt;-</span> <span class="fu">status1</span>(P)</span>
<span id="cb70-2"><a href="#cb70-2"></a>   <span class="fu">names</span>(p.s) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(P)</span>
<span id="cb70-3"><a href="#cb70-3"></a>   <span class="fu">round</span>(p.s, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.335     0.309     0.371     0.313     0.168     0.209     0.228     0.180 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.236     0.218     0.187     0.220     0.277     0.264     0.201     0.131 
   OLIVIA     FLORA 
    0.070     0.070 </code></pre>
</div>
</div>
<p>And for groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>   g.s <span class="ot">&lt;-</span> <span class="fu">status1</span>(G)</span>
<span id="cb72-2"><a href="#cb72-2"></a>   <span class="fu">names</span>(g.s) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(A)</span>
<span id="cb72-3"><a href="#cb72-3"></a>   <span class="fu">round</span>(g.s, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
0.142 0.150 0.253 0.176 0.322 0.328 0.384 0.507 0.380 0.170 0.090 0.203 0.113 
  8/3 
0.113 </code></pre>
</div>
</div>
<p>Lo and behold, these are the status scores we seek. It turns out they can be computed by figuring out the leading eigenvector (what our status game does for any matrix) of the Breiger projection matrices <span class="citation" data-cites="bonacich91">(<a href="#ref-bonacich91" role="doc-biblioref">Bonacich 1991</a>)</span>:</p>
<p><span class="math display">\[
\lambda x = (\mathbf{A}\mathbf{A}^T)x
\]</span></p>
<p><span class="math display">\[
\lambda y = (\mathbf{A}^T\mathbf{A})y
\]</span></p>
<p>Neat! The scores are also readily interpretable: The most central people belong to the most central (largest membership) groups and the most central groups are the ones with the most central (highest activity) members.</p>
<p>In the Southern Women data the dual centralities are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>   <span class="fu">library</span>(kableExtra)</span>
<span id="cb74-2"><a href="#cb74-2"></a>   p.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">People =</span> <span class="fu">rownames</span>(A), <span class="at">Eig.Cent =</span> <span class="fu">round</span>(p.s, <span class="dv">3</span>))</span>
<span id="cb74-3"><a href="#cb74-3"></a>   p.dat <span class="ot">&lt;-</span> p.dat[<span class="fu">order</span>(p.dat<span class="sc">$</span>Eig.Cent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb74-4"><a href="#cb74-4"></a>   <span class="fu">kbl</span>(p.dat, <span class="at">format =</span> <span class="st">"html"</span>, , <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-5"><a href="#cb74-5"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-6"><a href="#cb74-6"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb74-7"><a href="#cb74-7"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> People </th>
   <th style="text-align:center;"> Eig.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> THERESA </td>
   <td style="text-align:center;"> 0.371 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> EVELYN </td>
   <td style="text-align:center;"> 0.335 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> BRENDA </td>
   <td style="text-align:center;"> 0.313 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> LAURA </td>
   <td style="text-align:center;"> 0.309 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> SYLVIA </td>
   <td style="text-align:center;"> 0.277 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> NORA </td>
   <td style="text-align:center;"> 0.264 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> RUTH </td>
   <td style="text-align:center;"> 0.236 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> ELEANOR </td>
   <td style="text-align:center;"> 0.228 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> KATHERINE </td>
   <td style="text-align:center;"> 0.220 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> VERNE </td>
   <td style="text-align:center;"> 0.218 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> FRANCES </td>
   <td style="text-align:center;"> 0.209 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> HELEN </td>
   <td style="text-align:center;"> 0.201 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> MYRNA </td>
   <td style="text-align:center;"> 0.187 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PEARL </td>
   <td style="text-align:center;"> 0.180 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> CHARLOTTE </td>
   <td style="text-align:center;"> 0.168 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> DOROTHY </td>
   <td style="text-align:center;"> 0.131 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> OLIVIA </td>
   <td style="text-align:center;"> 0.070 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> FLORA </td>
   <td style="text-align:center;"> 0.070 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>   g.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Groups =</span> <span class="fu">colnames</span>(A), <span class="at">Eig.Cent =</span> <span class="fu">round</span>(g.s, <span class="dv">3</span>))</span>
<span id="cb75-2"><a href="#cb75-2"></a>   g.dat <span class="ot">&lt;-</span> g.dat[<span class="fu">order</span>(g.dat<span class="sc">$</span>Eig.Cent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb75-3"><a href="#cb75-3"></a>   <span class="fu">kbl</span>(g.dat, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-4"><a href="#cb75-4"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-5"><a href="#cb75-5"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb75-6"><a href="#cb75-6"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:center;"> Eig.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9/16 </td>
   <td style="text-align:center;"> 0.507 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3/15 </td>
   <td style="text-align:center;"> 0.384 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/8 </td>
   <td style="text-align:center;"> 0.380 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5/19 </td>
   <td style="text-align:center;"> 0.328 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2/25 </td>
   <td style="text-align:center;"> 0.322 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/12 </td>
   <td style="text-align:center;"> 0.253 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/7 </td>
   <td style="text-align:center;"> 0.203 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9/26 </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6/10 </td>
   <td style="text-align:center;"> 0.170 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3/2 </td>
   <td style="text-align:center;"> 0.150 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6/27 </td>
   <td style="text-align:center;"> 0.142 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11/21 </td>
   <td style="text-align:center;"> 0.113 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8/3 </td>
   <td style="text-align:center;"> 0.113 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2/23 </td>
   <td style="text-align:center;"> 0.090 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="core-and-periphery" class="level2">
<h2 class="anchored" data-anchor-id="core-and-periphery">Core and Periphery</h2>
<p>As noted by <span class="citation" data-cites="borgatti_everett00">Borgatti and Everett (<a href="#ref-borgatti_everett00" role="doc-biblioref">2000</a>)</span>, the Bonacich Eigenvector scores are also a model of a core-periphery partition in the two mode network. This is already evident in the <em>definition</em> of the dual centralities: Popular actors (who participate in many events) make the events they participate in more central, and central events (that have many actors) become central when they attract the popular kids.</p>
<p>So the Eigenvector scores can be used to partition any two mode network into a core (popular kids, popular events) and a periphery (less popular kids, less popular events). All we need to do to see the partition is to re-order the rows and columns of the affiliation matrix according to the value of the magnitude of the Eigenvector scores for people and events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>   p <span class="ot">&lt;-</span> <span class="fu">ggcorrplot</span>(<span class="fu">t</span>(A[<span class="fu">order</span>(p.s), <span class="fu">order</span>(g.s)]), </span>
<span id="cb76-2"><a href="#cb76-2"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>)) </span>
<span id="cb76-3"><a href="#cb76-3"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb76-4"><a href="#cb76-4"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb76-5"><a href="#cb76-5"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb76-6"><a href="#cb76-6"></a>                  )</span>
<span id="cb76-7"><a href="#cb76-7"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) </span>
<span id="cb76-8"><a href="#cb76-8"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">10.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb76-9"><a href="#cb76-9"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">8.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb76-10"><a href="#cb76-10"></a>   p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here the upper-right block reveals the core actors and events in the network; namely, the events almost universally attended by the most active participants <span class="citation" data-cites="everett_borgatti13">(<a href="#ref-everett_borgatti13" role="doc-biblioref">Everett and Borgatti 2013</a>, table 2)</span>.</p>
</section>
<section id="pagerank-status" class="level2">
<h2 class="anchored" data-anchor-id="pagerank-status">PageRank Status</h2>
<p>We can, of course, also play our status game with degree-normalized versions of the affiliation matrix (a.k.a. PageRank).</p>
<p>First we need to create <strong>row stochastic</strong> versions of <span class="math inline">\(\mathbf{A}\)</span> and <span class="math inline">\(\mathbf{A}^T\)</span>. Recall that a matrix is row stochastic if their rows sum to one.</p>
<p>For the people, we can do this by taking the original affiliation matrix, and pre-multiplying it by a <strong>diagonal square matrix</strong> <span class="math inline">\(\mathbf{D}_P^{-1}\)</span> of dimensions <span class="math inline">\(M \times M\)</span> containing the <em>inverse</em> of the degrees of each person in the affiliation network along the diagonals and zeros everywhere else, yielding the row-stochastic matrix <span class="math inline">\(\mathbf{P}_P\)</span> of dimensions <span class="math inline">\(M \times N\)</span>:</p>
<p><span class="math display">\[
\mathbf{P}_P = \mathbf{D}_P^{-1}\mathbf{A}
\]</span></p>
<p>And we can do the same with the groups, except that we pre-multiply the <em>transpose</em> of the original affiliation matrix by <span class="math inline">\(\mathbf{D}_G^{-1}\)</span> which is an <span class="math inline">\(N \times N\)</span> matrix containing the inverse of the size of each group along the diagonals and zero everywhere else, this yields the matrix <span class="math inline">\(\mathbf{P}_G\)</span> of dimensions <span class="math inline">\(N \times M\)</span>:</p>
<p><span class="math display">\[
\mathbf{P}_G = \mathbf{D}_G^{-1}\mathbf{A}^T
\]</span></p>
<p>In <code>R</code> can compute <span class="math inline">\(\mathbf{P}_P\)</span> and <span class="math inline">\(\mathbf{P}_G\)</span> as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>   D.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span>
<span id="cb77-2"><a href="#cb77-2"></a>   P.p <span class="ot">&lt;-</span> D.p <span class="sc">%*%</span> A</span>
<span id="cb77-3"><a href="#cb77-3"></a>   D.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">colSums</span>(A))</span>
<span id="cb77-4"><a href="#cb77-4"></a>   P.g <span class="ot">&lt;-</span> D.g <span class="sc">%*%</span> <span class="fu">t</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And we can check that both <code>P.p</code> (for people) and <code>P.g</code> (groups) are row stochastic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>   <span class="fu">rowSums</span>(P.p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>   <span class="fu">rowSums</span>(P.g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>And that they are of the predicted dimensions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>   <span class="fu">dim</span>(P.p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>   <span class="fu">dim</span>(P.g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14 18</code></pre>
</div>
</div>
<p>Great! Now, we can obtain the <em>degree-normalized projections</em> for people by multiplying <span class="math inline">\(\mathbf{P}_P\)</span> times <span class="math inline">\(\mathbf{P}_G\)</span>:</p>
<p><span class="math display">\[
\mathbf{P}_{PP} = \mathbf{P}_P\mathbf{P}_G
\]</span></p>
<p>Which produces the matrix <span class="math inline">\(\mathbf{P}_{PP}\)</span> a square <span class="math inline">\(M \times M\)</span> matrix containing the <em>degree-normalized similarities</em> between each pair of people.</p>
<p>We then do the same for groups:</p>
<p><span class="math display">\[
\mathbf{P}_{GG} = \mathbf{P}_G\mathbf{P}_P
\]</span></p>
<p>Which produces the matrix <span class="math inline">\(\mathbf{P}_{GG}\)</span> a square <span class="math inline">\(N \times N\)</span> matrix containing the <em>degree-normalized similarities</em> between each pair of groups.</p>
<p>In <code>R</code> we obtain these matrices as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>   P.pp <span class="ot">&lt;-</span> P.p <span class="sc">%*%</span> P.g</span>
<span id="cb86-2"><a href="#cb86-2"></a>   P.gg <span class="ot">&lt;-</span> P.g <span class="sc">%*%</span> P.p</span>
<span id="cb86-3"><a href="#cb86-3"></a>   <span class="fu">rownames</span>(P.pp) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(P.pp)</span>
<span id="cb86-4"><a href="#cb86-4"></a>   <span class="fu">rownames</span>(P.gg) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(P.gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Which are still row stochastic–but now square–matrices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>   <span class="fu">rowSums</span>(P.pp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        1         1         1         1         1         1         1         1 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
        1         1         1         1         1         1         1         1 
   OLIVIA     FLORA 
        1         1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>   <span class="fu">rowSums</span>(P.gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
    1     1     1     1     1     1     1     1     1     1     1     1     1 
  8/3 
    1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>   <span class="fu">dim</span>(P.pp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18 18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>   <span class="fu">dim</span>(P.gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14 14</code></pre>
</div>
</div>
<p>Let’s peek inside one of these matrices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>   <span class="fu">round</span>(P.pp[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH
EVELYN      0.19  0.14    0.14   0.13      0.07    0.06    0.04  0.03 0.03
LAURA       0.16  0.18    0.13   0.13      0.06    0.07    0.06  0.03 0.04
THERESA     0.14  0.12    0.16   0.10      0.08    0.06    0.05  0.03 0.05
BRENDA      0.15  0.13    0.12   0.17      0.09    0.07    0.06  0.03 0.04
CHARLOTTE   0.14  0.10    0.16   0.16      0.16    0.07    0.06  0.00 0.06
FRANCES     0.12  0.12    0.12   0.12      0.07    0.12    0.08  0.05 0.05
ELEANOR     0.08  0.11    0.11   0.11      0.06    0.08    0.11  0.05 0.07
PEARL       0.09  0.07    0.09   0.07      0.00    0.07    0.07  0.09 0.05
RUTH        0.07  0.07    0.09   0.07      0.06    0.05    0.07  0.04 0.09
VERNE       0.04  0.04    0.06   0.04      0.03    0.02    0.04  0.04 0.06
          VERNE
EVELYN     0.02
LAURA      0.02
THERESA    0.03
BRENDA     0.02
CHARLOTTE  0.03
FRANCES    0.02
ELEANOR    0.04
PEARL      0.05
RUTH       0.06
VERNE      0.11</code></pre>
</div>
</div>
<p>What are these numbers? Well, they can be interpreted as <em>probabilities</em> that a random walker starting at the row node and, following any sequence of <span class="math inline">\(person-group-person'-group'\)</span> hops, will reach the column person. Thus, higher values indicate an <em>affinity</em> or <em>proximity</em> between the people (and the groups in the corresponding matrix).</p>
<p>We can now play the PageRank status game on the transpose of <span class="math inline">\(\mathbf{P}_{PP}\)</span> and <span class="math inline">\(\mathbf{P}_{GG}\)</span>, just like we did in the one-mode case, to get the scores we want:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>   pr.p <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(P.pp))</span>
<span id="cb97-2"><a href="#cb97-2"></a>   pr.g <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(P.gg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Which leads to the following PageRank centrality rankings for persons and groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>   p.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">People =</span> <span class="fu">rownames</span>(A), <span class="at">PageRank.Cent =</span> <span class="fu">round</span>(pr.p, <span class="dv">3</span>))</span>
<span id="cb98-2"><a href="#cb98-2"></a>   p.dat <span class="ot">&lt;-</span> p.dat[<span class="fu">order</span>(p.dat<span class="sc">$</span>PageRank.Cent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb98-3"><a href="#cb98-3"></a>   <span class="fu">kbl</span>(p.dat, <span class="at">format =</span> <span class="st">"html"</span>, , <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-4"><a href="#cb98-4"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-5"><a href="#cb98-5"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb98-6"><a href="#cb98-6"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> People </th>
   <th style="text-align:center;"> PageRank.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> EVELYN </td>
   <td style="text-align:center;"> 0.352 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> THERESA </td>
   <td style="text-align:center;"> 0.352 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> NORA </td>
   <td style="text-align:center;"> 0.352 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> LAURA </td>
   <td style="text-align:center;"> 0.308 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> BRENDA </td>
   <td style="text-align:center;"> 0.308 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> SYLVIA </td>
   <td style="text-align:center;"> 0.308 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> KATHERINE </td>
   <td style="text-align:center;"> 0.264 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> HELEN </td>
   <td style="text-align:center;"> 0.220 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> CHARLOTTE </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> FRANCES </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> ELEANOR </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> RUTH </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> VERNE </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> MYRNA </td>
   <td style="text-align:center;"> 0.176 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PEARL </td>
   <td style="text-align:center;"> 0.132 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> DOROTHY </td>
   <td style="text-align:center;"> 0.088 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> OLIVIA </td>
   <td style="text-align:center;"> 0.088 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> FLORA </td>
   <td style="text-align:center;"> 0.088 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>   g.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Groups =</span> <span class="fu">colnames</span>(A), <span class="at">PageRank.Cent =</span> <span class="fu">round</span>(pr.g, <span class="dv">3</span>))</span>
<span id="cb99-2"><a href="#cb99-2"></a>   g.dat <span class="ot">&lt;-</span> g.dat[<span class="fu">order</span>(g.dat<span class="sc">$</span>PageRank.Cent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb99-3"><a href="#cb99-3"></a>   <span class="fu">kbl</span>(g.dat, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb99-4"><a href="#cb99-4"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb99-5"><a href="#cb99-5"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb99-6"><a href="#cb99-6"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:center;"> PageRank.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9/16 </td>
   <td style="text-align:center;"> 0.517 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/8 </td>
   <td style="text-align:center;"> 0.444 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3/15 </td>
   <td style="text-align:center;"> 0.369 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2/25 </td>
   <td style="text-align:center;"> 0.295 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5/19 </td>
   <td style="text-align:center;"> 0.295 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/7 </td>
   <td style="text-align:center;"> 0.222 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4/12 </td>
   <td style="text-align:center;"> 0.221 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6/10 </td>
   <td style="text-align:center;"> 0.185 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2/23 </td>
   <td style="text-align:center;"> 0.148 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9/26 </td>
   <td style="text-align:center;"> 0.147 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6/27 </td>
   <td style="text-align:center;"> 0.111 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3/2 </td>
   <td style="text-align:center;"> 0.111 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11/21 </td>
   <td style="text-align:center;"> 0.111 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8/3 </td>
   <td style="text-align:center;"> 0.111 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>The PageRank two-mode scores lead to a different ranking of the nodes, because now people are central if they belong to <em>selective</em> (not just large) groups and groups are central if their members are <em>discerning</em> (not just very active) people.</p>
<p>Just like before we can use the PageRank scores to reveal a pattern in the affiliation matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>   p <span class="ot">&lt;-</span> <span class="fu">ggcorrplot</span>(<span class="fu">t</span>(A[<span class="fu">order</span>(pr.p), <span class="fu">order</span>(<span class="sc">-</span>pr.g)]), </span>
<span id="cb100-2"><a href="#cb100-2"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>)) </span>
<span id="cb100-3"><a href="#cb100-3"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb100-4"><a href="#cb100-4"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb100-5"><a href="#cb100-5"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb100-6"><a href="#cb100-6"></a>                  )</span>
<span id="cb100-7"><a href="#cb100-7"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) </span>
<span id="cb100-8"><a href="#cb100-8"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="fl">1.26</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb100-9"><a href="#cb100-9"></a>   p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In the PageRank status score setup, events are ordered (from left to right) by popularity (most popular events on the left) and actors are ordered by activity (from top to bottom; active actors on top), creating a purely triangular pattern. Core actors and core events are in the upper-right block.</p>
</section>
<section id="correspondence-analysis" class="level2">
<h2 class="anchored" data-anchor-id="correspondence-analysis">Correspondence Analysis</h2>
<p><strong>Correspondence Analysis</strong> (CA) a relatively simple way to analyze and visualize two-mode data. In fact, we have already computed most of what we need to perform a CA of the two-mode network when figuring out the PageRank Status scores. However, there are a few additional computational details to discuss.</p>
<p>First, let us review the idea of an <strong>eigendecomposition</strong> of a square matrix. Let’s say we have the following matrix <span class="math inline">\(\mathbf{B}\)</span> of dimensions <span class="math inline">\(3 \times 3\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>   <span class="fu">set.seed</span>(<span class="dv">567</span>)</span>
<span id="cb101-2"><a href="#cb101-2"></a>   B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">round</span>(<span class="fu">runif</span>(<span class="dv">9</span>), <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb101-3"><a href="#cb101-3"></a>   B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,] 0.74 0.49 0.07
[2,] 0.88 0.26 0.51
[3,] 0.63 0.24 0.59</code></pre>
</div>
</div>
<p>Most matrices like this can be decomposed into two other matrices <span class="math inline">\(\mathbf{U}\)</span> and <span class="math inline">\(\mathbf{\lambda}\)</span>, such that the following matrix multiplication equation is true:</p>
<p><span class="math display">\[
\mathbf{B} = \mathbf{U}\mathbf{\lambda}\mathbf{U}^{-1}
\]</span></p>
<p>Both <span class="math inline">\(\mathbf{U}\)</span> and <span class="math inline">\(\mathbf{\lambda}\)</span> are of the same dimensions as the original, with <span class="math inline">\(\mathbf{U}\)</span> having numbers in each cell and <span class="math inline">\(\mathbf{\lambda}\)</span> being a matrix with values along the diagonals and zeros everywhere else.</p>
<p>The column values of <span class="math inline">\(\mathbf{U}\)</span> are called the <strong>eigenvectors</strong> of <span class="math inline">\(\mathbf{B}\)</span> and the diagonal values of <span class="math inline">\(\mathbf{\lambda}\)</span> are called the <strong>eigenvalues</strong> of <span class="math inline">\(\mathbf{B}\)</span>.</p>
<p>In <code>R</code> you can find the values that yield the eigendecomposition of any square matrix (if one exists) using the function <code>eigen</code>.</p>
<p>So in our case this would be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>   eig.res <span class="ot">&lt;-</span> <span class="fu">eigen</span>(B)</span>
<span id="cb103-2"><a href="#cb103-2"></a>   eig.res</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eigen() decomposition
$values
[1]  1.4256541  0.3195604 -0.1552145

$vectors
           [,1]       [,2]       [,3]
[1,] -0.5148954 -0.4669390  0.4838633
[2,] -0.6388257  0.2808667 -0.8653808
[3,] -0.5716507  0.8384997 -0.1303551</code></pre>
</div>
</div>
<p>The function <code>eigen</code> returns a list with two components, one called <code>values</code> are the diagonal values of <span class="math inline">\(\mathbf{\lambda}\)</span>, and the other one called <code>vectors</code> is the eigenvector matrix <span class="math inline">\(\mathbf{U}\)</span>.</p>
<p>We can check that these two elements can help us reconstruct the original matrix as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>   lambda <span class="ot">&lt;-</span> <span class="fu">diag</span>(eig.res<span class="sc">$</span>values)</span>
<span id="cb105-2"><a href="#cb105-2"></a>   U <span class="ot">&lt;-</span> eig.res<span class="sc">$</span>vectors</span>
<span id="cb105-3"><a href="#cb105-3"></a>   B.rec <span class="ot">&lt;-</span> U <span class="sc">%*%</span> lambda <span class="sc">%*%</span> <span class="fu">solve</span>(U)</span>
<span id="cb105-4"><a href="#cb105-4"></a>   B.rec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,] 0.74 0.49 0.07
[2,] 0.88 0.26 0.51
[3,] 0.63 0.24 0.59</code></pre>
</div>
</div>
<p>Which are indeed the original values of <span class="math inline">\(\mathbf{B}\)</span>!</p>
<p>Now, the idea is that we can perform this eigendecomposition with any matrix, including a network adjacency matrix or a proximity matrix derived from it like the ones we used to calculate the PageRank Status scores earlier.</p>
<p>In fact, we have already done that in part many times before, because the status scores compute the first column (leading eigenvector) of the <span class="math inline">\(\mathbf{U}\)</span> matrix for any proximity or adjacency matrix you feed into it.</p>
<p>The key point is that once you have the eigendecomposition of the matrix, and the full set of eigenvectors stored in <span class="math inline">\(\mathbf{U}\)</span>, you can always choose the first few columns of <span class="math inline">\(\mathbf{U}\)</span>, which gives us the best <em>low dimensional approximation</em> of the original matrix.</p>
<p>CA is based on this principle, and it works with the eigendecomposition of the square matrices <span class="math inline">\(\mathbf{P_{PP}}\)</span> and <span class="math inline">\(\mathbf{P_{GG}}\)</span> as we defined them earlier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>   CA.p <span class="ot">&lt;-</span> <span class="fu">eigen</span>(P.pp)</span>
<span id="cb107-2"><a href="#cb107-2"></a>   CA.g <span class="ot">&lt;-</span> <span class="fu">eigen</span>(P.gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s see what we have here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>   <span class="fu">round</span>(CA.p<span class="sc">$</span>values, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.00 0.63 0.32 0.18 0.14 0.11 0.10 0.06 0.04 0.04 0.02 0.01 0.01 0.00 0.00
[16] 0.00 0.00 0.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a>   <span class="fu">round</span>(CA.g<span class="sc">$</span>values, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.00 0.63 0.32 0.18 0.14 0.11 0.10 0.06 0.04 0.04 0.02 0.01 0.01 0.00</code></pre>
</div>
</div>
<p>So the two matrices have identical eigenvalues, and the first one is 1.0. Let’s check out the first three eigenvectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>   <span class="fu">rownames</span>(CA.p<span class="sc">$</span>vectors) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(A)</span>
<span id="cb112-2"><a href="#cb112-2"></a>   <span class="fu">rownames</span>(CA.g<span class="sc">$</span>vectors) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(A)</span>
<span id="cb112-3"><a href="#cb112-3"></a>   <span class="fu">round</span>(CA.p<span class="sc">$</span>vectors[, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           [,1]  [,2]  [,3]
EVELYN    -0.24 -0.24  0.03
LAURA     -0.24 -0.25 -0.01
THERESA   -0.24 -0.20  0.02
BRENDA    -0.24 -0.26 -0.01
CHARLOTTE -0.24 -0.29 -0.01
FRANCES   -0.24 -0.24 -0.02
ELEANOR   -0.24 -0.15 -0.03
PEARL     -0.24 -0.01  0.06
RUTH      -0.24 -0.05  0.03
VERNE     -0.24  0.13 -0.04
MYRNA     -0.24  0.25 -0.10
KATHERINE -0.24  0.31 -0.22
SYLVIA    -0.24  0.26 -0.20
NORA      -0.24  0.26 -0.03
HELEN     -0.24  0.24  0.07
DOROTHY   -0.24  0.09  0.09
OLIVIA    -0.24  0.33  0.66
FLORA     -0.24  0.33  0.66</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>   <span class="fu">round</span>(CA.g<span class="sc">$</span>vectors[, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]  [,2]  [,3]
6/27  0.27 -0.30 -0.01
3/2   0.27 -0.28 -0.04
4/12  0.27 -0.30  0.00
9/26  0.27 -0.30 -0.02
2/25  0.27 -0.25  0.00
5/19  0.27 -0.16  0.00
3/15  0.27 -0.04  0.05
9/16  0.27 -0.01  0.05
4/8   0.27  0.15 -0.19
6/10  0.27  0.32  0.22
2/23  0.27  0.35 -0.79
4/7   0.27  0.29  0.20
11/21 0.27  0.34  0.35
8/3   0.27  0.34  0.35</code></pre>
</div>
</div>
<p>So this is interesting. The first eigenvector of the decomposition of both <span class="math inline">\(\mathbf{P_{PP}}\)</span> and <span class="math inline">\(\mathbf{P_{GG}}\)</span> is just the same number for each person and group. Note that this is the eigenvector that is associated with the first eigenvalue which happens to be <span class="math inline">\(\lambda_1 = 1.0\)</span>.</p>
<p>So it looks like the first eigenvector is a pretty useless quantity (a constant) so we can discard it, keeping all the other ones. Now the old second eigenvector is the first, the old third is the second, and so on:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>   eig.vec.p <span class="ot">&lt;-</span> CA.p<span class="sc">$</span>vectors[, <span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(CA.p<span class="sc">$</span>vectors)]</span>
<span id="cb116-2"><a href="#cb116-2"></a>   eig.vec.g <span class="ot">&lt;-</span> CA.g<span class="sc">$</span>vectors[, <span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(CA.g<span class="sc">$</span>vectors)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that the rest of the eigenvalues (discarding the 1.0 one) are arranged in descending order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>   <span class="fu">round</span>(CA.p<span class="sc">$</span>values[<span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.63 0.32 0.18 0.14 0.11 0.10 0.06 0.04 0.04</code></pre>
</div>
</div>
<p>The magnitude of the eigenvalue tells us how important is the related eigenvector in containing information about the original matrix. So it looks like here, the first two eigenvectors contain a good chunk of the info:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>   <span class="fu">round</span>(<span class="fu">sum</span>(CA.p<span class="sc">$</span>values[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])<span class="sc">/</span><span class="fu">sum</span>(CA.p<span class="sc">$</span>values[<span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(CA.p<span class="sc">$</span>values)]), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.57</code></pre>
</div>
</div>
<p>Because the magnitude of the eigenvectors don’t have a natural scale, it is common to normalize to have a variance of 1.0.</p>
<p>We can do this as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>   N <span class="ot">&lt;-</span> <span class="fu">sum</span>(A)</span>
<span id="cb121-2"><a href="#cb121-2"></a>   d.p <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="fu">rowSums</span>(A))</span>
<span id="cb121-3"><a href="#cb121-3"></a>   d.g <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="fu">colSums</span>(A))</span>
<span id="cb121-4"><a href="#cb121-4"></a>   eig.vec.g[, <span class="dv">2</span>] <span class="ot">&lt;-</span> eig.vec.g[, <span class="dv">2</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb121-5"><a href="#cb121-5"></a>   <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(A)<span class="sc">-</span><span class="dv">1</span>) {</span>
<span id="cb121-6"><a href="#cb121-6"></a>      norm <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">t</span>(eig.vec.p[, i]) <span class="sc">%*%</span> d.p <span class="sc">%*%</span> eig.vec.p[, i])</span>
<span id="cb121-7"><a href="#cb121-7"></a>      eig.vec.p[, i] <span class="ot">&lt;-</span> eig.vec.p[, i] <span class="sc">*</span> <span class="fu">sqrt</span>(N<span class="sc">/</span>norm)</span>
<span id="cb121-8"><a href="#cb121-8"></a>   }</span>
<span id="cb121-9"><a href="#cb121-9"></a>   <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(A)<span class="sc">-</span><span class="dv">1</span>) {</span>
<span id="cb121-10"><a href="#cb121-10"></a>      norm <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">t</span>(eig.vec.g[, j]) <span class="sc">%*%</span> d.g <span class="sc">%*%</span> eig.vec.g[, j])</span>
<span id="cb121-11"><a href="#cb121-11"></a>      eig.vec.g[, j] <span class="ot">&lt;-</span> eig.vec.g[, j] <span class="sc">*</span> <span class="fu">sqrt</span>(N<span class="sc">/</span>norm)</span>
<span id="cb121-12"><a href="#cb121-12"></a>      }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And we can use the first two normalized eigenvectors to plot the persons and groups in a common space:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a>   plot.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">rbind</span>(eig.vec.p[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], eig.vec.g[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])) <span class="sc">%&gt;%</span> </span>
<span id="cb122-2"><a href="#cb122-2"></a>      <span class="fu">cbind</span>(<span class="at">type =</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">18</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">14</span>))))</span>
<span id="cb122-3"><a href="#cb122-3"></a>   <span class="fu">library</span>(ggplot2)</span>
<span id="cb122-4"><a href="#cb122-4"></a>   <span class="co"># install.packages("ggrepel")</span></span>
<span id="cb122-5"><a href="#cb122-5"></a>   <span class="fu">library</span>(ggrepel)</span>
<span id="cb122-6"><a href="#cb122-6"></a>   p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> plot.dat, <span class="fu">aes</span>(X1, <span class="at">y =</span> X2, <span class="at">color =</span> type))</span>
<span id="cb122-7"><a href="#cb122-7"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="dv">0</span>), <span class="at">color =</span> <span class="st">"gray"</span>)</span>
<span id="cb122-8"><a href="#cb122-8"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="dv">0</span>), <span class="at">color =</span> <span class="st">"gray"</span>)</span>
<span id="cb122-9"><a href="#cb122-9"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">rownames</span>(plot.dat)), </span>
<span id="cb122-10"><a href="#cb122-10"></a>                            <span class="at">max.overlaps =</span> <span class="dv">20</span>, <span class="at">size =</span> <span class="fl">2.75</span>)</span>
<span id="cb122-11"><a href="#cb122-11"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span>
<span id="cb122-12"><a href="#cb122-12"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb122-13"><a href="#cb122-13"></a>                  <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb122-14"><a href="#cb122-14"></a>                  <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span>
<span id="cb122-15"><a href="#cb122-15"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>))</span>
<span id="cb122-16"><a href="#cb122-16"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"First Dimension"</span>, <span class="at">y =</span> <span class="st">"Second Dimension"</span>)</span>
<span id="cb122-17"><a href="#cb122-17"></a>   p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In this space, people with the most similar patterns of memberships to the most similar groups are placed close to one another. In the same way, groups with the most similar members are placed closed to one another.</p>
<p>Also like before, we can use the scores obtained from the CA analysis to re-arrange the rows and columns of the original matrix to reveal blocks of maximally similar persons and events:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>   p <span class="ot">&lt;-</span> <span class="fu">ggcorrplot</span>(<span class="fu">t</span>(A[<span class="fu">order</span>(eig.vec.p[,<span class="dv">1</span>]), <span class="fu">order</span>(eig.vec.g[,<span class="dv">1</span>])]), </span>
<span id="cb123-2"><a href="#cb123-2"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"white"</span>, <span class="st">"red"</span>)) </span>
<span id="cb123-3"><a href="#cb123-3"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>, </span>
<span id="cb123-4"><a href="#cb123-4"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb123-5"><a href="#cb123-5"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">angle =</span> <span class="dv">0</span>),</span>
<span id="cb123-6"><a href="#cb123-6"></a>                  )</span>
<span id="cb123-7"><a href="#cb123-7"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) </span>
<span id="cb123-8"><a href="#cb123-8"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb123-9"><a href="#cb123-9"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">10.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb123-10"><a href="#cb123-10"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">9.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb123-11"><a href="#cb123-11"></a>   p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">6.5</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb123-12"><a href="#cb123-12"></a>   p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="handout7_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here CA seems to have detected two separate clusters of actors who preferentially attend two distinct clusters of events!</p>
<p>The three events in the middle <span class="math inline">\(\{3/15, 9/16, 4/8\}\)</span> don’t seem to differentiate between participants in each cluster (everyone attends)–they thus appear near the origin in the CA diagram, indicating a weak association with either dimension.</p>
<p>However, the events to the left (with clusters of participants in the lower-left) and to the right of the x-axis (with clusters of participants in the upper-right) are attended preferentially by distinct groups of participants; they thus appear at the extreme left and right positions of the first dimension of the CA diagram.</p>
<p>In the same way, the four people in the middle <span class="math inline">\(\{Ruth, Dorothy, Pearl, Verne\}\)</span> only attend the undifferentiated, popular events, so that means that they are not strongly associated with either cluster of actors (and thus appear near the origin in the CA diagram). The top and bottom participants, by contrast, appear to the extreme right and left in the CA diagram, indicating a strong association with the underlying dimensions.</p>
<p>Note the similarity between this blocking and that obtained from the structural equivalence analysis.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-bonacich91" class="csl-entry" role="doc-biblioentry">
Bonacich, Phillip. 1991. <span>“Simultaneous Group and Individual Centralities.”</span> <em>Social Networks</em> 13 (2): 155–68.
</div>
<div id="ref-borgatti_everett97" class="csl-entry" role="doc-biblioentry">
Borgatti, Stephen P, and Martin G Everett. 1997. <span>“Network Analysis of 2-Mode Data.”</span> <em>Social Networks</em> 19 (3): 243–69.
</div>
<div id="ref-borgatti_everett00" class="csl-entry" role="doc-biblioentry">
———. 2000. <span>“Models of Core/Periphery Structures.”</span> <em>Social Networks</em> 21 (4): 375–95.
</div>
<div id="ref-breiger74" class="csl-entry" role="doc-biblioentry">
Breiger, Ronald L. 1974. <span>“The Duality of Persons and Groups.”</span> <em>Social Forces</em> 53 (2): 181–90.
</div>
<div id="ref-everett_borgatti13" class="csl-entry" role="doc-biblioentry">
Everett, Martin G, and Stephen P Borgatti. 2013. <span>“The Dual-Projection Approach for Two-Mode Networks.”</span> <em>Social Networks</em> 35 (2): 204–10.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>