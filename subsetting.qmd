---
title: "Subsetting the Graph According to a Node Attribute"
execute: 
  eval: true
  echo: true
  output: true
  warning: false
  message: false
format: 
   html:
      code-line-numbers: true
---



Of course we already knew from the data description that the first 36 nodes where the partners. But let's say we have a large data set and we don't know *which* nodes are the partners. A smarter way of selecting a subgraph based on a node attribute is as follows:

```{r}
   partners <- which(V(law_advice)$status == 1)
   d.g <- subgraph(law_advice, partners)
   V(d.g)
```

The first line using the native `R` vector function `which` allowing us to subset a vector based on a logical condition. The function takes a vector followed by a logical condition as input, and returns the *position* of the vector elements that meet that condition. In this case, we took the vector of values for the attribute of status and selected the node ids where status is equal to 1. We then fed that vector to the `subgraph` function in line 2. 

We could do this with any other attribute:

```{r}
   older <- which(V(law_advice)$age > 50)
   older
   og <- subgraph(law_advice, older)
   V(og)
```

Here we selected the subgraph (called "og", get it, get it) formed by the subset of nodes over the age of 50 at the firm. The values of the vector older tell us which of the 71 members meet the relevant condition. 
