<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - Hubs and Authorities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - Hubs and Authorities">
<meta property="og:description" content="Recall from previous discussions that everything doubles (sometimes quadruples like degree correlations) in directed graphs.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Hubs and Authorities</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Lecture Notes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ego.html" class="sidebar-item-text sidebar-link">Analyzing Ego Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eigen.html" class="sidebar-item-text sidebar-link">Matrix Eigendecomposition</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Centrality and Prestige</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./centrality.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Centrality Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-centrality.html" class="sidebar-item-text sidebar-link">Centrality in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pagerank.html" class="sidebar-item-text sidebar-link">PageRank Prestige Scoring</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hits.html" class="sidebar-item-text sidebar-link active">Hubs and Authorities</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-prestige.html" class="sidebar-item-text sidebar-link">Status and Prestige in Two Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Equivalence and Similarity</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structequiv.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./similarity.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random-walk.html" class="sidebar-item-text sidebar-link">Random Walk Concepts in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-similarity.html" class="sidebar-item-text sidebar-link">Similarity and Equivalence in Two-Mode Networks</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Communities and Clustering</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./community.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spectral.html" class="sidebar-item-text sidebar-link">Community Detection Using Spectral Clustering</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-community-ca.html" class="sidebar-item-text sidebar-link">Community Detection in Two-Mode Networks Using CA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-spectral.html" class="sidebar-item-text sidebar-link">Spectral Clustering of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">Two-Mode Networks</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-basic.html" class="sidebar-item-text sidebar-link">Analyzing Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-duality.html" class="sidebar-item-text sidebar-link">The Duality of Persons and Groups</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-ca.html" class="sidebar-item-text sidebar-link">Correspondence Analysis (CA) of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-reflections.html" class="sidebar-item-text sidebar-link">The Method of Reflections in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-fitness.html" class="sidebar-item-text sidebar-link">Fitness and Complexity in Two Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tm-null.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./backbone.html" class="sidebar-item-text sidebar-link">Extracting the Backbone of Bipartite Projections Using Two-Mode Graph Ensembles</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">Statistical Models</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./swap.html" class="sidebar-item-text sidebar-link">Graph Ensembles in Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qap.html" class="sidebar-item-text sidebar-link">Network Regression Using Permutation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm1.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models I</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ergm2.html" class="sidebar-item-text sidebar-link">Exponential Random Graphs Models II</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">Data Management</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./loading.html" class="sidebar-item-text sidebar-link">Loading Network Data from a File</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./network-lists.html" class="sidebar-item-text sidebar-link">Handling Graph Objects in Lists</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./subgraph-select.html" class="sidebar-item-text sidebar-link">Selecting a Subgraph Based on Edge Conditions</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#hubs-authorities-and-eigenvectors" id="toc-hubs-authorities-and-eigenvectors" class="nav-link active" data-scroll-target="#hubs-authorities-and-eigenvectors">Hubs, Authorities and Eigenvectors</a></li>
  <li><a href="#combining-pagerank-and-hits-salsa" id="toc-combining-pagerank-and-hits-salsa" class="nav-link" data-scroll-target="#combining-pagerank-and-hits-salsa">Combining PageRank and HITS: SALSA</a></li>
  <li><a href="#hits-versus-principal-components-analysis" id="toc-hits-versus-principal-components-analysis" class="nav-link" data-scroll-target="#hits-versus-principal-components-analysis">HITS versus Principal Components Analysis</a></li>
  <li><a href="#hits-and-salsa-versus-correspondence-analysis" id="toc-hits-and-salsa-versus-correspondence-analysis" class="nav-link" data-scroll-target="#hits-and-salsa-versus-correspondence-analysis">HITS and SALSA versus Correspondence Analysis</a></li>
  <li><a href="#a-hybrid-pagerankhits-approach" id="toc-a-hybrid-pagerankhits-approach" class="nav-link" data-scroll-target="#a-hybrid-pagerankhits-approach">A Hybrid PageRank/HITS Approach</a>
  <ul class="collapse">
  <li><a href="#picky-hubs" id="toc-picky-hubs" class="nav-link" data-scroll-target="#picky-hubs">Picky Hubs</a></li>
  <li><a href="#exclusive-authorities" id="toc-exclusive-authorities" class="nav-link" data-scroll-target="#exclusive-authorities">Exclusive Authorities</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/hits.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Hubs and Authorities</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Recall from <a href="./basic.html">previous discussions</a> that everything doubles (sometimes quadruples like degree correlations) in directed graphs. The same goes for status as reflected in a distributive model through the network.</p>
<p>Consider two ways of showing your status in a system governed by directed relations (like advice). You can be highly sought after by others (be an “authority”), or you can be discerning in who you seek advice from, preferably seeking out people who are also sought after (e.g., be a “hub” pointing to high-quality others).</p>
<p>These two forms of status are mutually defining <span class="citation" data-cites="bonacich_lloyd01">(<a href="#ref-bonacich_lloyd01" role="doc-biblioref">Bonacich and Lloyd 2001</a>)</span>. The top authorities are those who are sought after by the top hubs, and the top hubs are the ones who seek the top authorities!</p>
<p>So this leads to a doubling of the Bonacich prestige status accounting equation:</p>
<p><span class="math display">\[  
   x^h_i = \sum_j a_{ij} x^a_j
\]</span></p>
<p><span class="math display">\[
   x^a_i = \sum_i a_{ij} x^h_i
\]</span></p>
<p>Which says that the hub score <span class="math inline">\(x^h\)</span> of a node is the sum of the authority scores <span class="math inline">\(x^a\)</span> of the nodes they point to (sum over <span class="math inline">\(j\)</span>; the outdegree), and the authority score of a node is the sum of the hub scores of the nodes that point to it (sum over <span class="math inline">\(i\)</span>; the indegree).</p>
<p>So we need to make our <a href="./prestige.html">status game</a> a bit more complicated (but not too much) to account for this duality:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   status2 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb1-2"><a href="#cb1-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">nrow</span>(w), <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb1-6"><a href="#cb1-6"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>         h <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.a <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb1-9"><a href="#cb1-9"></a>         a <span class="ot">&lt;-</span> <span class="fu">t</span>(w) <span class="sc">%*%</span> h <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>         }</span>
<span id="cb1-14"><a href="#cb1-14"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb1-15"><a href="#cb1-15"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Everything is like <a href="./prestige.html">our previous</a> <code>status1</code> function except now we are keeping track of two mutually defining scores <code>a</code> and <code>h</code>. We first initialize the authority scores by setting them to the value of <span class="math inline">\(1/n\)</span> (where <span class="math inline">\(n\)</span> is the number of nodes or the number of rows in the adjacency matrix) in line 2. We then initialize the <span class="math inline">\(\delta\)</span> difference and <span class="math inline">\(k\)</span> counter in lines 3-4. The <code>while</code> loop in lines 5-13 then updates the hub scores (to be the sum of the authority scores of each out-neighbor) in line 7 normalize them in line 8 and update the new authority scores to be the sum (across each in-neighbor) of these new hub scores, which are then themselves normalized in line 10.</p>
<p>So at each step <span class="math inline">\(t\)</span>, the authority and hub scores are calculated like this:</p>
<p><span class="math display">\[  
   x^h_i(t) = \sum_j a_{ij} x^a_j(t-1)
\]</span></p>
<p><span class="math display">\[
   x^a_i(t) = \sum_j a^T_{ij} x^h_j(t)
\]</span></p>
<p>Where <span class="math inline">\(a^T_{ij}\)</span> is the corresponding entry in the <em>transpose</em> of the adjacency matrix (<code>t(w)</code> in line 9 of the above function).</p>
<p>As you may have guessed this is just an implementation of the “HITS” algorithm developed by <span class="citation" data-cites="kleinberg99">Kleinberg (<a href="#ref-kleinberg99" role="doc-biblioref">1999</a>)</span>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>The results for the Krackhardt advice network are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   <span class="fu">library</span>(networkdata)</span>
<span id="cb2-2"><a href="#cb2-2"></a>   <span class="fu">library</span>(igraph)</span>
<span id="cb2-3"><a href="#cb2-3"></a>   g <span class="ot">&lt;-</span> ht_advice</span>
<span id="cb2-4"><a href="#cb2-4"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb2-5"><a href="#cb2-5"></a>   hits.res1 <span class="ot">&lt;-</span> <span class="fu">status2</span>(A)</span>
<span id="cb2-6"><a href="#cb2-6"></a>   <span class="fu">round</span>(hits.res1<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res1<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   <span class="fu">round</span>(hits.res1<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res1<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Which are equivalent to using the <code>igraph</code> function <code>hits_scores</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   ha <span class="ot">&lt;-</span> <span class="fu">hits_scores</span>(g, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>   <span class="fu">round</span>(ha<span class="sc">$</span>authority, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>   <span class="fu">round</span>(ha<span class="sc">$</span>hub, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Note that the just like the <code>status2</code> function, the <code>igraph</code> function <code>hits_scores</code> returns the two sets of scores as elements of a <code>list</code>, so we need to access them using the <code>$</code> operator on the object that we store the results in (in this case <code>ha</code>). We also set the <code>scale</code> argument to <code>TRUE</code> so that the scores are normalized by the maximum.</p>
<section id="hubs-authorities-and-eigenvectors" class="level2">
<h2 class="anchored" data-anchor-id="hubs-authorities-and-eigenvectors">Hubs, Authorities and Eigenvectors</h2>
<p>Recall that both the <a href="./prestige.html">eigenvector</a> and <a href="./pagerank.html">PageRank</a> status scores computed via the network status distribution game routine ended up being equivalent to the leading eigenvector of a network proximity matrix (the adjacency matrix <span class="math inline">\(\mathbf{A}\)</span> and the probability matrix <span class="math inline">\(\mathbf{P}\)</span> respectively). It would be surprising if the same wasn’t true of the hub and authority status scores.</p>
<p>Let’s find out which ones!</p>
<p>Consider the matrices:</p>
<p><span class="math display">\[
\mathbf{M}_h = \mathbf{A}\mathbf{A}^T
\]</span></p>
<p><span class="math display">\[
\mathbf{M}_a = \mathbf{A}^T\mathbf{A}
\]</span></p>
<p>Let’s see what they look like in the Krackhardt manager’s network:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>   M.h <span class="ot">=</span> A <span class="sc">%*%</span> <span class="fu">t</span>(A)</span>
<span id="cb10-2"><a href="#cb10-2"></a>   M.a <span class="ot">=</span> <span class="fu">t</span>(A) <span class="sc">%*%</span> A</span>
<span id="cb10-3"><a href="#cb10-3"></a>   M.h[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    6    1    5    5    5    1    3    4    5     5
 [2,]    1    3    3    2    3    1    2    3    3     0
 [3,]    5    3   15   11   12    1    8    8   12     8
 [4,]    5    2   11   12   11    1    7    6   11     8
 [5,]    5    3   12   11   15    1    7    7   12    10
 [6,]    1    1    1    1    1    1    1    1    1     0
 [7,]    3    2    8    7    7    1    8    5    8     4
 [8,]    4    3    8    6    7    1    5    8    7     4
 [9,]    5    3   12   11   12    1    8    7   13     7
[10,]    5    0    8    8   10    0    4    4    7    14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>   M.a[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]   13   13    4    5    5    6    8    8    4     8
 [2,]   13   18    5    8    5    9   11   10    4     9
 [3,]    4    5    5    4    4    2    4    4    2     3
 [4,]    5    8    4    8    3    4    6    6    3     4
 [5,]    5    5    4    3    5    1    3    3    3     3
 [6,]    6    9    2    4    1   10    7    7    2     6
 [7,]    8   11    4    6    3    7   13    6    3     7
 [8,]    8   10    4    6    3    7    6   10    3     6
 [9,]    4    4    2    3    3    2    3    3    4     3
[10,]    8    9    3    4    3    6    7    6    3     9</code></pre>
</div>
</div>
<p>What’s in these matrices? Well let’s look at <span class="math inline">\(\mathbf{M}_h\)</span>. The diagonals will look familiar because they happen to be the <strong>outdegree</strong> of each node:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>   <span class="fu">degree</span>(g, <span class="at">mode =</span> <span class="st">"out"</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6  3 15 12 15  1  8  8 13 14</code></pre>
</div>
</div>
<p>You may have guessed that the diagonals of matrix <span class="math inline">\(\mathbf{M}_a\)</span> contain the <strong>indegrees</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>   <span class="fu">degree</span>(g, <span class="at">mode =</span> <span class="st">"in"</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 13 18  5  8  5 10 13 10  4  9</code></pre>
</div>
</div>
<p>Which means that the <em>off-diagonals</em> cells of each matrix <span class="math inline">\(m_{ij}\)</span> and <span class="math inline">\(n_{ij}\)</span>, contain the <strong>common out-neighbors</strong> and <strong>common in-neighbors</strong> shared by nodes <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> in the graph, respectively.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-sub" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hits_files/figure-html/fig-sub-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Subgraph from Krackhardt’s Managers Network.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>In information science, <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices have special interpretations. Consider the subgraph shown in <a href="#fig-sub">Figure&nbsp;1</a>, which contains nodes 2 and 11 from the Krackhardt advice network and their respective neighbors:</p>
<p>If these nodes where papers, then we would say that both 2 and 11 point to a common third node 1. In an information network, the papers that other papers point to are their common references. Therefore the number of <em>common out-neighbors</em> of two nodes is is called the <strong>bibliographic coupling</strong> score between the two papers. In the same way, we can see that 2 and 11 are pointed to by a common third neighbor 21. The number of <em>common in-neighbors</em> between two-papers is called their <strong>co-citation</strong> score.</p>
<p>Both the bibliographic coupling and the co-citation scores get at two ways that nodes can be similar in a directed graph. In the social context of advice seeking, for instance, two people can be similar if they seek advice from the same others, or two people can be similar if they are sought after for advice by the same others.</p>
<p>The <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices, therefore are two (unweighted) similarity matrices between the nodes in a directed graph. As you may also be suspecting, the hub and authorities scores are the leading eigenvectors of the <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices <span class="citation" data-cites="kleinberg99">(<a href="#ref-kleinberg99" role="doc-biblioref">Kleinberg 1999</a>)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>   a <span class="ot">&lt;-</span> <span class="fu">eigen</span>(M.a)<span class="sc">$</span>vector[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>   h <span class="ot">&lt;-</span> <span class="fu">eigen</span>(M.h)<span class="sc">$</span>vector[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>   <span class="fu">round</span>(a<span class="sc">/</span><span class="fu">max</span>(a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>   <span class="fu">round</span>(h<span class="sc">/</span><span class="fu">max</span>(h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Given the connection to the HITS dual status ranking, sometimes the <span class="math inline">\(\mathbf{M}_h\)</span> is called the <strong>hub matrix</strong> and the <span class="math inline">\(\mathbf{M}_a\)</span> is called the <strong>authority matrix</strong> <span class="citation" data-cites="ding_etal02">(<a href="#ref-ding_etal02" role="doc-biblioref">Ding et al. 2002</a>)</span>.</p>
<p>Note that this also means we could have obtained the hub and authority scores using our old <code>status1</code> function, but we would have had to play the game twice, once for the matrix <span class="math inline">\(\mathbf{M}_a\)</span> and the other one for the matrix <span class="math inline">\(\mathbf{M}_h\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>   status1 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb22-2"><a href="#cb22-2"></a>      x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w)) <span class="co">#initial status vector set to all ones of length equal to the number of nodes</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>      d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initial delta</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>      k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>      <span class="cf">while</span> (d <span class="sc">&gt;</span> <span class="fl">1e-10</span>) {</span>
<span id="cb22-6"><a href="#cb22-6"></a>          o.x <span class="ot">&lt;-</span> x <span class="co">#old status scores</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>          x <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.x <span class="co">#new scores a function of old scores and adjacency matrix</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>          x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">norm</span>(x, <span class="at">type =</span> <span class="st">"E"</span>) <span class="co">#normalizing new status scores</span></span>
<span id="cb22-9"><a href="#cb22-9"></a>          d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(x) <span class="sc">-</span> <span class="fu">abs</span>(o.x))) <span class="co">#delta between new and old scores</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>          k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span> <span class="co">#incrementing while counter</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>      }</span>
<span id="cb22-12"><a href="#cb22-12"></a>   <span class="fu">return</span>(<span class="fu">as.vector</span>(x))</span>
<span id="cb22-13"><a href="#cb22-13"></a>   }</span>
<span id="cb22-14"><a href="#cb22-14"></a></span>
<span id="cb22-15"><a href="#cb22-15"></a>   a <span class="ot">&lt;-</span> <span class="fu">status1</span>(M.a)</span>
<span id="cb22-16"><a href="#cb22-16"></a>   <span class="fu">round</span>(a<span class="sc">/</span><span class="fu">max</span>(a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>   h <span class="ot">&lt;-</span> <span class="fu">status1</span>(M.h)</span>
<span id="cb24-2"><a href="#cb24-2"></a>   <span class="fu">round</span>(h<span class="sc">/</span><span class="fu">max</span>(h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>This link once again demonstrates the equivalence between the eigenvectors of the hub and authority matrices, as similarity matrices between nodes in the network, and our prismatic status distribution game!</p>
</section>
<section id="combining-pagerank-and-hits-salsa" class="level2">
<h2 class="anchored" data-anchor-id="combining-pagerank-and-hits-salsa">Combining PageRank and HITS: SALSA</h2>
<p><span class="citation" data-cites="lempel_moran01">Lempel and Moran (<a href="#ref-lempel_moran01" role="doc-biblioref">2001</a>)</span> show that we can combine the logic of PageRank and HITS. Their basic idea is to use the same mutually reinforcing approach as in HITS but with degree-normalized (stochastic) versions of the adjacency matrix (like in PageRank).<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Let’s see how it works.</p>
<p>Recall that <a href="./pagerank.html">PageRank</a> works on the <span class="math inline">\(\mathbf{P}\)</span> matrix, which is defined like this:</p>
<p><span class="math display">\[
\mathbf{P}_{a} = \mathbf{D}_{out}^{-1}\mathbf{A}
\]</span></p>
<p>In <code>R</code> we compute it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>   D.o <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span>
<span id="cb26-2"><a href="#cb26-2"></a>   P.a <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This matrix is row-stochastic, because each row is divided by the row total (the outdegrees of each node), meaning its rows sum to one, like we saw before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>   <span class="fu">rowSums</span>(P.a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>It is also possible to compute the <strong>indegree normalized</strong> version of the <span class="math inline">\(\mathbf{P}\)</span> matrix, defined like this:</p>
<p><span class="math display">\[
\mathbf{P}_{h} = \mathbf{D}_{in}^{-1} \mathbf{A}^T
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{D}_{in}^{-1}\)</span> is a matrix containing the inverse of the indegrees along the diagonals (and zeroes elsewhere) and <span class="math inline">\(\mathbf{A}^T\)</span> is the transpose of the adjacency matrix. Each non-zero entry of is thus equal to one divided by that row node’s indegree.</p>
<p>In <code>R</code> we compute it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>   D.i <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">colSums</span>(A))</span>
<span id="cb29-2"><a href="#cb29-2"></a>   P.h <span class="ot">&lt;-</span> D.i <span class="sc">%*%</span> <span class="fu">t</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Like the <span class="math inline">\(\mathbf{P}_{a}\)</span> matrix, the <span class="math inline">\(\mathbf{P}_{a}\)</span> matrix is row-stochastic, meaning its rows sum to 1.0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>   <span class="fu">rowSums</span>(P.h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>To get the SALSA version of the hub and authority scores, we can just play our status game over newly defined versions of the hub and authority matrices <span class="citation" data-cites="langville_meyer05">(<a href="#ref-langville_meyer05" role="doc-biblioref">Langville and Meyer 2005, 156</a>)</span>.</p>
<p>The SALSA hub matrix is defined like this:</p>
<p><span class="math display">\[
\mathbf{Q}_h = \mathbf{P}_a\mathbf{P}_h
\]</span></p>
<p>And the SALSA authority matrix like this:</p>
<p><span class="math display">\[
\mathbf{Q}_a = \mathbf{P}_h\mathbf{P}_a
\]</span></p>
<p>Which in <code>R</code> looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>   Q.h <span class="ot">&lt;-</span> P.a <span class="sc">%*%</span> P.h</span>
<span id="cb32-2"><a href="#cb32-2"></a>   Q.a <span class="ot">&lt;-</span> P.h <span class="sc">%*%</span> P.a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Each of these matrices are row stochastic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>   <span class="fu">rowSums</span>(Q.h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>   <span class="fu">rowSums</span>(Q.a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>Which means that inequalities will be defined according to differences in the in-degrees of each node just like PageRank.</p>
<p>And now to obtain our SALSA hub and authority scores, we simply play our <code>status1</code> game on (the transpose of) these matrices, just like we did for PageRank:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>   salsa.h <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(Q.h)) </span>
<span id="cb37-2"><a href="#cb37-2"></a>   <span class="fu">round</span>(salsa.h<span class="sc">/</span><span class="fu">sum</span>(salsa.h), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.03 0.02 0.08 0.06 0.08 0.01 0.04 0.04 0.07 0.07 0.02 0.01 0.03 0.02 0.11
[16] 0.02 0.03 0.09 0.06 0.06 0.06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>   salsa.a <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(Q.a)) </span>
<span id="cb39-2"><a href="#cb39-2"></a>   <span class="fu">round</span>(salsa.a<span class="sc">/</span><span class="fu">sum</span>(salsa.a), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.07 0.09 0.03 0.04 0.03 0.05 0.07 0.05 0.02 0.05 0.06 0.04 0.02 0.05 0.02
[16] 0.04 0.05 0.08 0.02 0.04 0.08</code></pre>
</div>
</div>
<p>What are these numbers? Well, it turns out that they are equivalent to the out and indegrees of each node, divided by the total number of edges in the network <span class="citation" data-cites="fouss_etal04">(<a href="#ref-fouss_etal04" role="doc-biblioref">Fouss, Renders, and Saerens 2004, 451</a>)</span>.</p>
<p>So the SALSA hub and authority scores can also be obtained like this, without having to play our status game over any matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>   <span class="fu">round</span>(<span class="fu">rowSums</span>(A)<span class="sc">/</span><span class="fu">sum</span>(A), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.03 0.02 0.08 0.06 0.08 0.01 0.04 0.04 0.07 0.07 0.02 0.01 0.03 0.02 0.11
[16] 0.02 0.03 0.09 0.06 0.06 0.06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>   <span class="fu">round</span>(<span class="fu">colSums</span>(A)<span class="sc">/</span><span class="fu">sum</span>(A), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.07 0.09 0.03 0.04 0.03 0.05 0.07 0.05 0.02 0.05 0.06 0.04 0.02 0.05 0.02
[16] 0.04 0.05 0.08 0.02 0.04 0.08</code></pre>
</div>
</div>
<p>Note that for the SALSA scores we use a different normalization compared to before. Instead of dividing by the maximum, we divide by the sum, so that the vector of SALSA hub and authority scores sum to 1.0.</p>
<p>The reason for this is that, as <span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> explain, these numbers have a straightforward interpretation in terms of the <em>probability</em> that a <a href="./pagerank.html">random walker</a> in the network will find itself in that particular node, when the walker goes from hub -&gt; authority -&gt; hub -&gt; authority (e.g., never going from hub to hub or authority to authority) using the entries in the <code>P.a</code> and <code>P.h</code> matrices to determine the probability of jumping from hub <span class="math inline">\(i\)</span> to authority <span class="math inline">\(j\)</span> and vice versa. Thus, the higher the probability the more “central” the specific hub or authority is, just like the random walk interpretation of the PageRank scores.</p>
<!--We could, of course, create "Google" versions of these matrices and compute our SALSA version of the hub and authorities scores by incorporating a damping factor, teleportation, and all the rest [@rafiei_mendelzon00]. -->
</section>
<section id="hits-versus-principal-components-analysis" class="level2">
<h2 class="anchored" data-anchor-id="hits-versus-principal-components-analysis">HITS versus Principal Components Analysis</h2>
<p><span class="citation" data-cites="saerens_fouss05">Saerens and Fouss (<a href="#ref-saerens_fouss05" role="doc-biblioref">2005</a>)</span> argue that there is an intimate relationship between the HITS dual ranking scores and one of the most widely used multivariate analysis techniques, Principal Components Analysis (PCA).</p>
<p>In fact, they argue that HITS is just PCA on an <em>uncentered data matrix</em> (which in the this case is the network’s adjacency matrix). Technically we could also just argue that PCA is just HITS on a <strong>centered adjacency matrix</strong>, as we will see in just a bit.</p>
<p>Let’s see how this works. First, let’s create a <em>centered</em> version of the network adjacency matrix. To center a typical data matrix (e.g., of individuals in the rows by variables in the columns) we subtract the column mean (the average score of all individuals on that variable) from each individual’s score.</p>
<p>So to get the centered network adjacency matrix, we first need to compute the corresponding <strong>column means</strong> of the matrix. Note that this will be equivalent to each individual’s <strong>indegree</strong> (the sum of the columns) divided by the total number of nodes in the network (<span class="math inline">\(k^{in}/n\)</span>), which is kind of a normalized degree centrality score, except the usual normalization is to divide by <span class="math inline">\(n-1\)</span> (so as to have a maximum of 1.0) as we saw in our discussion of <a href="./centrality.html">centrality</a>.</p>
<p>First, let’s compute the column means vector, using the native <code>R</code> function <code>colMeans</code> which takes a matrix as input and returns a vector of column means:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>   cm <span class="ot">&lt;-</span> <span class="fu">colMeans</span>(A)</span>
<span id="cb45-2"><a href="#cb45-2"></a>   <span class="fu">round</span>(cm, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.62 0.86 0.24 0.38 0.24 0.48 0.62 0.48 0.19 0.43 0.52 0.33 0.19 0.48 0.19
[16] 0.38 0.43 0.71 0.19 0.38 0.71</code></pre>
</div>
</div>
<p>Now that we have this vector of column means, all we need to do is subtract it from each column of the adjacency matrix, to create the centered adjacency matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>   A.c <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">t</span>(A) <span class="sc">-</span> cm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that to subtract the column mean vector from each column of the adjacency matrix we first transpose it, do the subtraction, and “untranspose” back to the original (by taking the transpose of the transpose). We can use the <code>colMeans</code> function to check that the column means of the centered adjacency matrix are indeed zero:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>   <span class="fu">round</span>(<span class="fu">colMeans</span>(A.c), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</code></pre>
</div>
</div>
<p>Now all we need to do is play our HITS status game on the centered adjacency matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>   hits.res <span class="ot">&lt;-</span> <span class="fu">status2</span>(A.c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We then use the function below to normalize each status score to be within the minus one to plus one interval and have mean zero:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>   norm.v <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb51-2"><a href="#cb51-2"></a>      x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">min</span>(x)</span>
<span id="cb51-3"><a href="#cb51-3"></a>      x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">max</span>(x)</span>
<span id="cb51-4"><a href="#cb51-4"></a>      x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">mean</span>(x)</span>
<span id="cb51-5"><a href="#cb51-5"></a>      <span class="fu">return</span>(x)</span>
<span id="cb51-6"><a href="#cb51-6"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first thing the function does (line 2) is subtract the minimum value from the vector (which becomes zero), in line 3 we divided by the maximum (which becomes one), and in line 4 we subtract the mean from each value.</p>
<p>The following code applies the normalization to the results from our status game on the centered adjacency matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>   h2 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">norm.v</span>(hits.res<span class="sc">$</span>h), <span class="dv">3</span>)</span>
<span id="cb52-2"><a href="#cb52-2"></a>   a2 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">norm.v</span>(hits.res<span class="sc">$</span>a), <span class="dv">3</span>)</span>
<span id="cb52-3"><a href="#cb52-3"></a>   <span class="fu">names</span>(h2) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span>
<span id="cb52-4"><a href="#cb52-4"></a>   <span class="fu">names</span>(a2) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the resulting normalized hub and authority scores for each node in the Krackhardt managers advice network are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>   <span class="fu">round</span>(h2, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
-0.162 -0.374  0.318  0.241  0.364 -0.429 -0.027 -0.117  0.239  0.334 -0.335 
    12     13     14     15     16     17     18     19     20     21 
-0.421 -0.160 -0.339  0.571 -0.240 -0.295  0.385  0.105  0.206  0.134 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>   <span class="fu">round</span>(a2, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.052 -0.155 -0.031 -0.177 -0.150 -0.020 -0.555  0.415 -0.199  0.106  0.411 
    12     13     14     15     16     17     18     19     20     21 
 0.031  0.020  0.215 -0.233  0.232  0.314 -0.056  0.020  0.343 -0.585 </code></pre>
</div>
</div>
<p><span class="citation" data-cites="saerens_fouss05">Saerens and Fouss (<a href="#ref-saerens_fouss05" role="doc-biblioref">2005</a>)</span> show that these are the same scores we would obtain from a simple PCA of the regular old adjacency matrix. To see this, let’s do the PCA analysis using the <code>PCA</code> function from the package <code>FactorMineR</code>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>   <span class="fu">library</span>(FactoMineR)</span>
<span id="cb57-2"><a href="#cb57-2"></a>   pca.res <span class="ot">&lt;-</span> <span class="fu">PCA</span>(A, <span class="at">graph =</span> <span class="cn">FALSE</span>, <span class="at">scale.unit =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that we set the argument <code>scale.unit</code> to <code>FALSE</code> so that the PCA is conducted on the centered adjacency matrix and not a standardized (to unit variance) version of it.</p>
<p>The <code>PCA</code> function stores the corresponding scores for the rows and columns of the matrix in these objects:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>   pca.h <span class="ot">&lt;-</span> pca.res<span class="sc">$</span>ind<span class="sc">$</span>coord[, <span class="dv">1</span>]</span>
<span id="cb58-2"><a href="#cb58-2"></a>   pca.a <span class="ot">&lt;-</span> pca.res<span class="sc">$</span>var<span class="sc">$</span>coord[, <span class="dv">1</span>]</span>
<span id="cb58-3"><a href="#cb58-3"></a>   <span class="fu">names</span>(pca.a) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And now, for the big reveal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(pca.h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
-0.162 -0.374  0.318  0.241  0.364 -0.429 -0.027 -0.117  0.239  0.334 -0.335 
    12     13     14     15     16     17     18     19     20     21 
-0.421 -0.160 -0.339  0.571 -0.240 -0.295  0.385  0.105  0.206  0.134 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(pca.a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.052 -0.155 -0.031 -0.177 -0.150 -0.020 -0.555  0.415 -0.199  0.106  0.411 
    12     13     14     15     16     17     18     19     20     21 
 0.031  0.020  0.215 -0.233  0.232  0.314 -0.056  0.020  0.343 -0.585 </code></pre>
</div>
</div>
<p>Which are indeed the same scores we obtained earlier when we played our status game on the centered adjacency matrix!</p>
<p>We will see one way to interpret these scores in the next section.</p>
</section>
<section id="hits-and-salsa-versus-correspondence-analysis" class="level2">
<h2 class="anchored" data-anchor-id="hits-and-salsa-versus-correspondence-analysis">HITS and SALSA versus Correspondence Analysis</h2>
<p><span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> also argue that there is a close link between a method to analyze two-way tables called <strong>correspondence analysis</strong>, and both Lempel and Moran’s SALSA and Kleinberg’s HITS algorithms.</p>
<p>They first ask: What if we play our status distribution game not on the <em>transpose</em> of the SALSA hub and authority matrices like we just did but just on the regular matrices without transposition?</p>
<p>Here’s what happens:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>   <span class="fu">round</span>(<span class="fu">status1</span>(Q.h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218
[13] 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>   <span class="fu">round</span>(<span class="fu">status1</span>(Q.a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218
[13] 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218 0.218</code></pre>
</div>
</div>
<p>OK, so that’s weird. All that we get is a vector with the same number repeated twenty one times (in this case, the number of nodes in the graph). What’s going on?</p>
<p>Recall from the previous that the <a href="./prestige.html">status game</a> computes the <a href="./eigen.html"><strong>leading eigenvector</strong> of the matrix</a> we play the game on, and spits that vector out as our status scores for that matrix. The leading eigenvector is that associated with the largest eigenvalue (if the matrix contains one).</p>
<p>So all that this is telling us is that the first eigenvector of the un-transposed versions of the SALSA hub and authority matrices is pretty useless because it assigns everyone the same status score.</p>
<p>But <span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> note, like we did at the beginning, that a <a href="./eigen.html">matrix has many eigenvector/eigenvalue pairs</a> and that perhaps the <em>second</em> leading eigenvector is not that useless; this is the eigenvector associated with the <em>second</em> largest eigenvalue.</p>
<p>How do we get that vector? Well, as always, there is a mathematical workaround. The trick is to create a new matrix that removes the influence of that first (useless) eigenvector and then play our status game on <em>that</em> matrix.</p>
<p>To do that, let’s create a matrix that is equal to the original useless eigenvector times its own transpose. In <code>R</code> this goes like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>   v1 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.h)</span>
<span id="cb67-2"><a href="#cb67-2"></a>   D <span class="ot">&lt;-</span> v1 <span class="sc">%*%</span> <span class="fu">t</span>(v1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What’s in this matrix? Let’s see the first ten rows and columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>   <span class="fu">round</span>(D[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]  [,9] [,10]
 [1,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [2,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [3,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [4,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [5,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [6,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [7,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [8,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [9,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
[10,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048</code></pre>
</div>
</div>
<p>So it’s just a matrix of the same dimension as the SALSA hub matrix with the same number over and over. In fact that number is equal to:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>   <span class="fu">round</span>(<span class="fl">0.2182179</span><span class="sc">^</span><span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.048</code></pre>
</div>
</div>
<p>Which is just the useless constant status score multiplied by itself (squared).</p>
<p>Now, we create new SALSA hub and authority matrices, which are equal to the original minus the constant <code>D</code> matrix above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>   Q.h2 <span class="ot">&lt;-</span> Q.h <span class="sc">-</span> D</span>
<span id="cb72-2"><a href="#cb72-2"></a>   Q.a2 <span class="ot">&lt;-</span> Q.a <span class="sc">-</span> D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And now we play our status game on these matrices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>   h3 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.h2)</span>
<span id="cb73-2"><a href="#cb73-2"></a>   a3 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.a2)</span>
<span id="cb73-3"><a href="#cb73-3"></a>   <span class="fu">names</span>(h3) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>   <span class="fu">names</span>(a3) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We then use the same function we used for the PCA scores to normalize each status score to be within the minus one to plus one interval and have mean zero:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>   h3 <span class="ot">&lt;-</span> <span class="fu">norm.v</span>(h3)</span>
<span id="cb74-2"><a href="#cb74-2"></a>   a3 <span class="ot">&lt;-</span> <span class="fu">norm.v</span>(a3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the resulting scores are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>   <span class="fu">round</span>(h3, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.007 -0.436  0.074  0.074  0.138 -0.626 -0.019 -0.098  0.023  0.374 -0.063 
    12     13     14     15     16     17     18     19     20     21 
-0.530  0.334 -0.243  0.212  0.119 -0.147  0.292  0.290  0.107  0.115 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>   <span class="fu">round</span>(a3, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
-0.008 -0.146  0.299 -0.106  0.414 -0.329 -0.455 -0.005  0.223 -0.049 -0.027 
    12     13     14     15     16     17     18     19     20     21 
-0.158  0.291  0.035  0.323  0.026 -0.057 -0.114  0.291  0.139 -0.586 </code></pre>
</div>
</div>
<p>Now, these scores don’t seem useless. They are different across each node; and like the PCA scores we obtained earlier, some are positive and some are negative.</p>
<p><span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> show that these are the same scores you would obtain from a correspondence analysis (CA) of the original affiliation matrix.</p>
<p>Let’s check that out in our case. The same package we used to compute the PCA of the adjacency matrix (<code>FactoMineR</code>) can be used to compute the correspondence analysis of any matrix in <code>R</code>, including a network adjacency matrix, using the function <code>CA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>   <span class="co">#library(FactoMineR)</span></span>
<span id="cb79-2"><a href="#cb79-2"></a>   ca.res <span class="ot">&lt;-</span> <span class="fu">CA</span>(A, <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb79-3"><a href="#cb79-3"></a>   ca.h <span class="ot">&lt;-</span> ca.res<span class="sc">$</span>row<span class="sc">$</span>coord[, <span class="dv">1</span>]</span>
<span id="cb79-4"><a href="#cb79-4"></a>   ca.a <span class="ot">&lt;-</span> ca.res<span class="sc">$</span>col<span class="sc">$</span>coord[, <span class="dv">1</span>]</span>
<span id="cb79-5"><a href="#cb79-5"></a>   <span class="fu">names</span>(ca.a) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In line 2 we store the <code>CA</code> results in the object <code>ca.res</code>. We then grab the <code>CA</code> scores associated with the columns of the adjacency matrix and put them in the object <code>ca.h</code> in line 3 and the scores associated with the rows of the adjacency matrix and put them in the object <code>ca.a</code> inline 4.</p>
<p>Now for the big reveal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(ca.h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.007 -0.436  0.074  0.074  0.138 -0.626 -0.019 -0.098  0.023  0.374 -0.063 
    12     13     14     15     16     17     18     19     20     21 
-0.530  0.334 -0.243  0.212  0.119 -0.147  0.292  0.290  0.107  0.115 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(ca.a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
-0.008 -0.146  0.299 -0.106  0.414 -0.329 -0.455 -0.005  0.223 -0.049 -0.027 
    12     13     14     15     16     17     18     19     20     21 
-0.158  0.291  0.035  0.323  0.026 -0.057 -0.114  0.291  0.139 -0.586 </code></pre>
</div>
</div>
<p>Which shows that indeed the CA scores are the same ones as we obtain from playing our status game on the corrected versions of the un-transposed SALSA hub and authorities matrices!</p>
<p>But what are the CA (and PCA) scores supposed to capture? Let’s look at them side-by-side next to the SALSA hub and authority scores, as shown in <a href="#tbl-ha">Table&nbsp;1</a> which has nodes rank ordered by their SALSA hub score.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-ha" class="anchored">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;"><caption>Table&nbsp;1:  Hubs and Authorties Scores for Krackhardt’s managers advice network </caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> salsa.h </th>
   <th style="text-align:center;"> salsa.a </th>
   <th style="text-align:center;"> pca.hub </th>
   <th style="text-align:center;"> pca.auth </th>
   <th style="text-align:center;"> ca.hub </th>
   <th style="text-align:center;"> ca.auth </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 0.416 </td>
   <td style="text-align:center;"> 0.088 </td>
   <td style="text-align:center;"> 0.571 </td>
   <td style="text-align:center;"> -0.233 </td>
   <td style="text-align:center;"> 0.212 </td>
   <td style="text-align:center;"> 0.323 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.353 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.385 </td>
   <td style="text-align:center;"> -0.056 </td>
   <td style="text-align:center;"> 0.292 </td>
   <td style="text-align:center;"> -0.114 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.312 </td>
   <td style="text-align:center;"> 0.110 </td>
   <td style="text-align:center;"> 0.318 </td>
   <td style="text-align:center;"> -0.031 </td>
   <td style="text-align:center;"> 0.074 </td>
   <td style="text-align:center;"> 0.299 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.312 </td>
   <td style="text-align:center;"> 0.110 </td>
   <td style="text-align:center;"> 0.364 </td>
   <td style="text-align:center;"> -0.150 </td>
   <td style="text-align:center;"> 0.138 </td>
   <td style="text-align:center;"> 0.414 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.291 </td>
   <td style="text-align:center;"> 0.199 </td>
   <td style="text-align:center;"> 0.334 </td>
   <td style="text-align:center;"> 0.106 </td>
   <td style="text-align:center;"> 0.374 </td>
   <td style="text-align:center;"> -0.049 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.270 </td>
   <td style="text-align:center;"> 0.088 </td>
   <td style="text-align:center;"> 0.239 </td>
   <td style="text-align:center;"> -0.199 </td>
   <td style="text-align:center;"> 0.023 </td>
   <td style="text-align:center;"> 0.223 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.249 </td>
   <td style="text-align:center;"> 0.177 </td>
   <td style="text-align:center;"> 0.241 </td>
   <td style="text-align:center;"> -0.177 </td>
   <td style="text-align:center;"> 0.074 </td>
   <td style="text-align:center;"> -0.106 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 20 </td>
   <td style="text-align:center;"> 0.249 </td>
   <td style="text-align:center;"> 0.177 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.343 </td>
   <td style="text-align:center;"> 0.107 </td>
   <td style="text-align:center;"> 0.139 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 19 </td>
   <td style="text-align:center;"> 0.229 </td>
   <td style="text-align:center;"> 0.088 </td>
   <td style="text-align:center;"> 0.105 </td>
   <td style="text-align:center;"> 0.020 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.291 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 21 </td>
   <td style="text-align:center;"> 0.229 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.134 </td>
   <td style="text-align:center;"> -0.585 </td>
   <td style="text-align:center;"> 0.115 </td>
   <td style="text-align:center;"> -0.586 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.166 </td>
   <td style="text-align:center;"> 0.287 </td>
   <td style="text-align:center;"> -0.027 </td>
   <td style="text-align:center;"> -0.555 </td>
   <td style="text-align:center;"> -0.019 </td>
   <td style="text-align:center;"> -0.455 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.166 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> -0.117 </td>
   <td style="text-align:center;"> 0.415 </td>
   <td style="text-align:center;"> -0.098 </td>
   <td style="text-align:center;"> -0.005 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.125 </td>
   <td style="text-align:center;"> 0.287 </td>
   <td style="text-align:center;"> -0.162 </td>
   <td style="text-align:center;"> 0.052 </td>
   <td style="text-align:center;"> 0.007 </td>
   <td style="text-align:center;"> -0.008 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.125 </td>
   <td style="text-align:center;"> 0.088 </td>
   <td style="text-align:center;"> -0.160 </td>
   <td style="text-align:center;"> 0.020 </td>
   <td style="text-align:center;"> 0.334 </td>
   <td style="text-align:center;"> 0.291 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.104 </td>
   <td style="text-align:center;"> 0.199 </td>
   <td style="text-align:center;"> -0.295 </td>
   <td style="text-align:center;"> 0.314 </td>
   <td style="text-align:center;"> -0.147 </td>
   <td style="text-align:center;"> -0.057 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.083 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> -0.339 </td>
   <td style="text-align:center;"> 0.215 </td>
   <td style="text-align:center;"> -0.243 </td>
   <td style="text-align:center;"> 0.035 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.083 </td>
   <td style="text-align:center;"> 0.177 </td>
   <td style="text-align:center;"> -0.240 </td>
   <td style="text-align:center;"> 0.232 </td>
   <td style="text-align:center;"> 0.119 </td>
   <td style="text-align:center;"> 0.026 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.062 </td>
   <td style="text-align:center;"> 0.398 </td>
   <td style="text-align:center;"> -0.374 </td>
   <td style="text-align:center;"> -0.155 </td>
   <td style="text-align:center;"> -0.436 </td>
   <td style="text-align:center;"> -0.146 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.062 </td>
   <td style="text-align:center;"> 0.243 </td>
   <td style="text-align:center;"> -0.335 </td>
   <td style="text-align:center;"> 0.411 </td>
   <td style="text-align:center;"> -0.063 </td>
   <td style="text-align:center;"> -0.027 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.042 </td>
   <td style="text-align:center;"> 0.155 </td>
   <td style="text-align:center;"> -0.421 </td>
   <td style="text-align:center;"> 0.031 </td>
   <td style="text-align:center;"> -0.530 </td>
   <td style="text-align:center;"> -0.158 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.021 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> -0.429 </td>
   <td style="text-align:center;"> -0.020 </td>
   <td style="text-align:center;"> -0.626 </td>
   <td style="text-align:center;"> -0.329 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Using information in <a href="#tbl-ha">Table&nbsp;1</a>, <a href="#fig-ca-1">Figure&nbsp;2 (a)</a> shows a point and line network plot but using the CA hub and authority scores to embed the nodes in a common two-dimensional space. In the plot nodes are colored by the <em>difference</em> between their SALSA hub and authority scores such that nodes with positive scores (hub score larger than their authority scores) appear in blue and nodes with negative scores (authority scores larger than their hub scores) appear in red.</p>
<div id="fig-ca" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-ca-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hits_files/figure-html/fig-ca-1.png" class="img-fluid figure-img" data-ref-parent="fig-ca" width="768"></p>
<p></p><figcaption class="figure-caption">(a) CA Coordinates</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-ca-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="hits_files/figure-html/fig-ca-2.png" class="img-fluid figure-img" data-ref-parent="fig-ca" width="768"></p>
<p></p><figcaption class="figure-caption">(b) PCA Coordinates</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Krackhardt’s managers advice network (top hubs in blue and top authorities in red)</figcaption><p></p>
</figure>
</div>
<p>We can see that the CA hub score places the “hubbiest” of hubs (blue nodes) in the lower-right quadrant of the diagram, with positive CA hub scores and negative CA authority scores (this last multiplied by minus one from the ones shown above). Note from <a href="#tbl-ha">Table&nbsp;1</a>, that the nodes in this region (e.g.&nbsp;{15, 5, 3, 19, 9, 13}) all have large SALSA hub scores and very low SALSA authority scores.</p>
<p>In the same way, the most authoritative of authorities (red nodes) appear in the upper-left side, with negative CA hub scores and positive CA authority scores. Note that nodes in this region have very large SALSA authority scores and very low SALSA hub scores.</p>
<p>Finally, note that nodes in the upper-right quadrant of the diagram (e.g.&nbsp;{21, 7, 4, 18, 10}) are “ambidextrous” nodes, showcasing relatively large scores as both hubs and authorities according to SALSA.</p>
<p>Thus what the CA scores seem to be doing is separating out the purest examples of hubs and authorities in the network from those who play both roles.</p>
<p>Note that as shown in <a href="#fig-ca-2">Figure&nbsp;2 (b)</a>, we get an even stronger separation between hubs and authorities when using the PCA scores to place nodes in a common space, with all the authorities (except nodes 7 and 21) to the upper left, and the hubs on the right-hand side of the plot. So the PCA scores reflect the same distinction between hub and authority status as the CA scores.</p>
</section>
<section id="a-hybrid-pagerankhits-approach" class="level2">
<h2 class="anchored" data-anchor-id="a-hybrid-pagerankhits-approach">A Hybrid PageRank/HITS Approach</h2>
<p><span class="citation" data-cites="borodin_etal05">Borodin et al. (<a href="#ref-borodin_etal05" role="doc-biblioref">2005</a>)</span> argue that perhaps a better approach to combining PageRank and HITS is to normalize only <em>one</em> of the scores by degree while leaving the other score alone.</p>
<section id="picky-hubs" class="level3">
<h3 class="anchored" data-anchor-id="picky-hubs">Picky Hubs</h3>
<p>For instance, in some settings, it might make more sense to assign more authority to nodes that are pointed to by <em>picky hubs</em> (e.g., people who seek advice from a few select others), and discount the authority scores of nodes that are pointed to by <em>indiscriminate</em> hubs (people who seek advice from everyone).</p>
<p>We can do this by changing the way we compute the hub score of each node. Instead of just summing the authority scores of all the nodes they point to (like in regular HITS) we instead take the <em>average</em> of the authority scores of all nodes they point to. We then feed this average back to the authority score calculation.</p>
<p>This entails slightly modifying the HITS status game as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>   status3 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb84-2"><a href="#cb84-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb84-3"><a href="#cb84-3"></a>     d.o <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(w) <span class="co">#outdegree of each node</span></span>
<span id="cb84-4"><a href="#cb84-4"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb84-5"><a href="#cb84-5"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb84-6"><a href="#cb84-6"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb84-7"><a href="#cb84-7"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb84-8"><a href="#cb84-8"></a>         h <span class="ot">&lt;-</span> (w <span class="sc">%*%</span> o.a) <span class="sc">*</span> <span class="dv">1</span><span class="sc">/</span>d.o <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb84-9"><a href="#cb84-9"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb84-10"><a href="#cb84-10"></a>         a <span class="ot">&lt;-</span> <span class="fu">t</span>(w) <span class="sc">%*%</span> h <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb84-11"><a href="#cb84-11"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb84-12"><a href="#cb84-12"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb84-13"><a href="#cb84-13"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb84-14"><a href="#cb84-14"></a>         }</span>
<span id="cb84-15"><a href="#cb84-15"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb84-16"><a href="#cb84-16"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that the only modification is the addition of the multiplication by the inverse of the outdegrees in line 8, which divides the standard HITS hub score by the outdegree of each hub.</p>
<p>The resulting hubs and authorities scores are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>   hits.res2 <span class="ot">&lt;-</span> <span class="fu">status3</span>(A)</span>
<span id="cb85-2"><a href="#cb85-2"></a>   <span class="fu">round</span>(hits.res2<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res2<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.693 1.000 0.221 0.414 0.223 0.538 0.759 0.494 0.187 0.470 0.552 0.361
[13] 0.174 0.498 0.180 0.395 0.451 0.817 0.174 0.375 0.893</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>   <span class="fu">round</span>(hits.res2<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res2<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.749 0.818 0.635 0.657 0.619 1.000 0.716 0.762 0.683 0.493 0.916 0.925
[13] 0.639 0.972 0.543 0.835 0.842 0.508 0.590 0.642 0.604</code></pre>
</div>
</div>
<p>This is an implementation of the “HubAvg” algorithm described by <span class="citation" data-cites="borodin_etal05">Borodin et al. (<a href="#ref-borodin_etal05" role="doc-biblioref">2005, 238–39</a>)</span>.</p>
</section>
<section id="exclusive-authorities" class="level3">
<h3 class="anchored" data-anchor-id="exclusive-authorities">Exclusive Authorities</h3>
<p>In the same way, depending on the application, it might make more sense to assign a larger hub score to hubs that point to <em>exclusive authorities</em> (authorities that are sought after by a few select others) and discount the “hubness” of hubs that point to <em>popular authorities</em> (those who are sought after by everyone).</p>
<p>We can implement this approach—let’s call it the “AuthAvg” algorithm—with a slight modification of the <code>status2</code> function similar to the one we used to create <code>status3</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>   status4 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb89-2"><a href="#cb89-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb89-3"><a href="#cb89-3"></a>     d.i <span class="ot">&lt;-</span> <span class="fu">colSums</span>(w) <span class="co">#indegree of each node</span></span>
<span id="cb89-4"><a href="#cb89-4"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb89-5"><a href="#cb89-5"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb89-6"><a href="#cb89-6"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb89-7"><a href="#cb89-7"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb89-8"><a href="#cb89-8"></a>         h <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.a <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb89-9"><a href="#cb89-9"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb89-10"><a href="#cb89-10"></a>         a <span class="ot">&lt;-</span> (<span class="fu">t</span>(w) <span class="sc">%*%</span> h) <span class="sc">*</span> <span class="dv">1</span><span class="sc">/</span>d.i <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb89-11"><a href="#cb89-11"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb89-12"><a href="#cb89-12"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb89-13"><a href="#cb89-13"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb89-14"><a href="#cb89-14"></a>         }</span>
<span id="cb89-15"><a href="#cb89-15"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb89-16"><a href="#cb89-16"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the resulting hubs and authorities scores are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>   hits.res3 <span class="ot">&lt;-</span> <span class="fu">status4</span>(A)</span>
<span id="cb90-2"><a href="#cb90-2"></a>   <span class="fu">round</span>(hits.res3<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res3<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.651 0.579 0.877 0.694 0.819 0.658 0.548 0.784 0.855 0.733 0.761 0.736
[13] 1.000 0.738 0.808 0.797 0.768 0.600 1.000 0.847 0.524</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>   <span class="fu">round</span>(hits.res3<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res3<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.266 0.116 0.700 0.564 0.734 0.035 0.358 0.341 0.593 0.734 0.119 0.072
[13] 0.283 0.150 1.000 0.171 0.200 0.869 0.532 0.561 0.523</code></pre>
</div>
</div>

<!--
## A Final Ranking of Prestige Scores

Like before, we can treat the the Regular Hub, and Authority Scores, their SALSA versions, and their hub and authority averaged versions as "centralities" defined over nodes in the graph. In that case we might be interested in how different nodes in Krackhardt's High Tech Managers network stack up according to the different status criteria:


::: {.cell}
::: {.cell-output-display}

`````{=html}
<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Prestige Scores Ordered by Indegree.</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Node.ID </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Aut </th>
   <th style="text-align:center;"> Hub.Salsa </th>
   <th style="text-align:center;"> Aut.Salsa </th>
   <th style="text-align:center;"> Hub.Avg1 </th>
   <th style="text-align:center;"> Aut.Avg1 </th>
   <th style="text-align:center;"> Hub.Avg2 </th>
   <th style="text-align:center;"> Aut.Avg2 </th>
   <th style="text-align:center;"> Indegree </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.818 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.116 </td>
   <td style="text-align:center;"> 0.579 </td>
   <td style="text-align:center;"> 18 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.508 </td>
   <td style="text-align:center;"> 0.817 </td>
   <td style="text-align:center;"> 0.869 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 21 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.604 </td>
   <td style="text-align:center;"> 0.893 </td>
   <td style="text-align:center;"> 0.523 </td>
   <td style="text-align:center;"> 0.524 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.749 </td>
   <td style="text-align:center;"> 0.693 </td>
   <td style="text-align:center;"> 0.266 </td>
   <td style="text-align:center;"> 0.651 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.716 </td>
   <td style="text-align:center;"> 0.759 </td>
   <td style="text-align:center;"> 0.358 </td>
   <td style="text-align:center;"> 0.548 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.916 </td>
   <td style="text-align:center;"> 0.552 </td>
   <td style="text-align:center;"> 0.119 </td>
   <td style="text-align:center;"> 0.761 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.538 </td>
   <td style="text-align:center;"> 0.035 </td>
   <td style="text-align:center;"> 0.658 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.762 </td>
   <td style="text-align:center;"> 0.494 </td>
   <td style="text-align:center;"> 0.341 </td>
   <td style="text-align:center;"> 0.784 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.972 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.150 </td>
   <td style="text-align:center;"> 0.738 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.493 </td>
   <td style="text-align:center;"> 0.470 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.733 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.842 </td>
   <td style="text-align:center;"> 0.451 </td>
   <td style="text-align:center;"> 0.200 </td>
   <td style="text-align:center;"> 0.768 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.657 </td>
   <td style="text-align:center;"> 0.414 </td>
   <td style="text-align:center;"> 0.564 </td>
   <td style="text-align:center;"> 0.694 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.395 </td>
   <td style="text-align:center;"> 0.171 </td>
   <td style="text-align:center;"> 0.797 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 20 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.642 </td>
   <td style="text-align:center;"> 0.375 </td>
   <td style="text-align:center;"> 0.561 </td>
   <td style="text-align:center;"> 0.847 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.925 </td>
   <td style="text-align:center;"> 0.361 </td>
   <td style="text-align:center;"> 0.072 </td>
   <td style="text-align:center;"> 0.736 </td>
   <td style="text-align:center;"> 7 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.635 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> 0.700 </td>
   <td style="text-align:center;"> 0.877 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.619 </td>
   <td style="text-align:center;"> 0.223 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.819 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.683 </td>
   <td style="text-align:center;"> 0.187 </td>
   <td style="text-align:center;"> 0.593 </td>
   <td style="text-align:center;"> 0.855 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.639 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.283 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 0.543 </td>
   <td style="text-align:center;"> 0.180 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.808 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 19 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.590 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.532 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
</tbody>
</table>

`````

:::

::: {.cell-output-display}

`````{=html}
<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Prestige Scores Ordered by Outdegree</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Node.ID </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Aut </th>
   <th style="text-align:center;"> Hub.Salsa </th>
   <th style="text-align:center;"> Aut.Salsa </th>
   <th style="text-align:center;"> Hub.Avg1 </th>
   <th style="text-align:center;"> Aut.Avg1 </th>
   <th style="text-align:center;"> Hub.Avg2 </th>
   <th style="text-align:center;"> Aut.Avg2 </th>
   <th style="text-align:center;"> Outdegree </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 0.543 </td>
   <td style="text-align:center;"> 0.180 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.808 </td>
   <td style="text-align:center;"> 20 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.508 </td>
   <td style="text-align:center;"> 0.817 </td>
   <td style="text-align:center;"> 0.869 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 17 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.635 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> 0.700 </td>
   <td style="text-align:center;"> 0.877 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.619 </td>
   <td style="text-align:center;"> 0.223 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.819 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.493 </td>
   <td style="text-align:center;"> 0.470 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.733 </td>
   <td style="text-align:center;"> 14 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.683 </td>
   <td style="text-align:center;"> 0.187 </td>
   <td style="text-align:center;"> 0.593 </td>
   <td style="text-align:center;"> 0.855 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.657 </td>
   <td style="text-align:center;"> 0.414 </td>
   <td style="text-align:center;"> 0.564 </td>
   <td style="text-align:center;"> 0.694 </td>
   <td style="text-align:center;"> 12 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 20 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.642 </td>
   <td style="text-align:center;"> 0.375 </td>
   <td style="text-align:center;"> 0.561 </td>
   <td style="text-align:center;"> 0.847 </td>
   <td style="text-align:center;"> 12 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 19 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.590 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.532 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 21 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.604 </td>
   <td style="text-align:center;"> 0.893 </td>
   <td style="text-align:center;"> 0.523 </td>
   <td style="text-align:center;"> 0.524 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.716 </td>
   <td style="text-align:center;"> 0.759 </td>
   <td style="text-align:center;"> 0.358 </td>
   <td style="text-align:center;"> 0.548 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.762 </td>
   <td style="text-align:center;"> 0.494 </td>
   <td style="text-align:center;"> 0.341 </td>
   <td style="text-align:center;"> 0.784 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.749 </td>
   <td style="text-align:center;"> 0.693 </td>
   <td style="text-align:center;"> 0.266 </td>
   <td style="text-align:center;"> 0.651 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.639 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.283 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.842 </td>
   <td style="text-align:center;"> 0.451 </td>
   <td style="text-align:center;"> 0.200 </td>
   <td style="text-align:center;"> 0.768 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.972 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.150 </td>
   <td style="text-align:center;"> 0.738 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.395 </td>
   <td style="text-align:center;"> 0.171 </td>
   <td style="text-align:center;"> 0.797 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.818 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.116 </td>
   <td style="text-align:center;"> 0.579 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.916 </td>
   <td style="text-align:center;"> 0.552 </td>
   <td style="text-align:center;"> 0.119 </td>
   <td style="text-align:center;"> 0.761 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.925 </td>
   <td style="text-align:center;"> 0.361 </td>
   <td style="text-align:center;"> 0.072 </td>
   <td style="text-align:center;"> 0.736 </td>
   <td style="text-align:center;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.538 </td>
   <td style="text-align:center;"> 0.035 </td>
   <td style="text-align:center;"> 0.658 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
</tbody>
</table>

`````

:::
:::

-->



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-bonacich_lloyd01" class="csl-entry" role="doc-biblioentry">
Bonacich, Phillip, and Paulette Lloyd. 2001. <span>“Eigenvector-Like Measures of Centrality for Asymmetric Relations.”</span> <em>Social Networks</em> 23 (3): 191–201.
</div>
<div id="ref-borodin_etal05" class="csl-entry" role="doc-biblioentry">
Borodin, Allan, Gareth O Roberts, Jeffrey S Rosenthal, and Panayiotis Tsaparas. 2005. <span>“Link Analysis Ranking: Algorithms, Theory, and Experiments.”</span> <em>ACM Transactions on Internet Technology (TOIT)</em> 5 (1): 231–97.
</div>
<div id="ref-ding_etal02" class="csl-entry" role="doc-biblioentry">
Ding, Chris, Xiaofeng He, Parry Husbands, Hongyuan Zha, and Horst Simon. 2002. <span>“<span class="nocase">PageRank, HITS and a Unified Framework for Link Analysis</span>.”</span> Lawrence Berkeley National Laboratory, University of California, Berkeley.
</div>
<div id="ref-fouss_etal04" class="csl-entry" role="doc-biblioentry">
Fouss, François, Jean-Michel Renders, and Marco Saerens. 2004. <span>“Some Relationships Between Kleinberg’s Hubs and Authorities, Correspondence Analysis, and the Salsa Algorithm.”</span> In <em>International Conference on the Statistical Analysis of Textual Data (JADT 2004)</em>.
</div>
<div id="ref-kleinberg99" class="csl-entry" role="doc-biblioentry">
Kleinberg, Jon M. 1999. <span>“Authoritative Sources in a Hyperlinked Environment.”</span> <em>Journal of the ACM (JACM)</em> 46 (5): 604–32.
</div>
<div id="ref-langville_meyer05" class="csl-entry" role="doc-biblioentry">
Langville, Amy N, and Carl D Meyer. 2005. <span>“A Survey of Eigenvector Methods for Web Information Retrieval.”</span> <em>SIAM Review</em> 47 (1): 135–61.
</div>
<div id="ref-lempel_moran01" class="csl-entry" role="doc-biblioentry">
Lempel, Ronny, and Shlomo Moran. 2001. <span>“SALSA: The Stochastic Approach for Link-Structure Analysis.”</span> <em>ACM Transactions on Information Systems (TOIS)</em> 19 (2): 131–60.
</div>
<div id="ref-saerens_fouss05" class="csl-entry" role="doc-biblioentry">
Saerens, Marco, and Francois Fouss. 2005. <span>“HITS Is Principal Components Analysis.”</span> In <em>The 2005 IEEE/WIC/ACM International Conference on Web Intelligence (WI’05)</em>, 782–85. IEEE.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>HITS is an acronym for the unfortunate and impossible to remember name “Hypertext Induced Topic Selection” reflecting the origins the approach in web-based information science.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><span class="citation" data-cites="lempel_moran01">Lempel and Moran (<a href="#ref-lempel_moran01" role="doc-biblioref">2001</a>)</span> call this method the “Stochastic Approach for Link Structure Analysis” or SALSA (an actually clever and memorable acronym!).<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>See <a href="http://factominer.free.fr/">http://factominer.free.fr/</a> for all of the package’s capabilities.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>