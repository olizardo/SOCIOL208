<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - Role Similarity Across Graphs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - Role Similarity Across Graphs">
<meta property="og:description" content="Sometimes we may want to figure out how similar a given node’s position in one social network is to that of another node in a different network.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Role Similarity Across Graphs</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Handouts</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout1.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inoutdegdist.html" class="sidebar-item-text sidebar-link">Graph Degree Metrics in Directed Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout2.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout3.html" class="sidebar-item-text sidebar-link">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout4.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout5.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link active">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./handout6.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#computing-node-similarities-across-different-graphs" id="toc-computing-node-similarities-across-different-graphs" class="nav-link active" data-scroll-target="#computing-node-similarities-across-different-graphs">Computing Node Similarities Across Different Graphs</a></li>
  <li><a href="#equivalence-to-hits" id="toc-equivalence-to-hits" class="nav-link" data-scroll-target="#equivalence-to-hits">Equivalence to HITS</a></li>
  <li><a href="#computing-a-brokerage-score" id="toc-computing-a-brokerage-score" class="nav-link" data-scroll-target="#computing-a-brokerage-score">Computing a Brokerage Score</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/blondel.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Role Similarity Across Graphs</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Sometimes we may want to figure out how similar a given node’s position in one social network is to that of another node in a <em>different</em> network. This calls for a method that could allow us to compare how similar a node in one graph is to <em>other nodes</em> in <em>another graph</em>.</p>
<p>A particularly interesting version of this problem arises when we have information on the same set of nodes across different set of relations. In that case, we may be interested in answering the question as to whether nodes occupy similar or dissimilar positions across the networks defined by the different relations.</p>
<p><span class="citation" data-cites="blondel_etal04">Blondel et al. (<a href="#ref-blondel_etal04" role="doc-biblioref">2004</a>)</span> describe an approach that can help us make headway on this problem. They use a similar iterative procedure that we saw can be used to compute status scores from directed graphs (like PageRank and HITS) but this time to <em>compute similarity</em> scores between <em>pairs</em> of nodes <em>across</em> graphs.</p>
<p>The idea, just like with the status scores, is that the two set of nodes in each graph start with the same set of similarity scores, and then we update them as we traverse the connectivity structure of the two graphs.</p>
<p>So let’s say the adjacency matrix of the first graph is <span class="math inline">\(\mathbf{A}\)</span> and that of the second graph is <span class="math inline">\(\mathbf{B}\)</span>. The first graph has <span class="math inline">\(n_A\)</span> number of nodes and the corresponding quantity in the second graph is <span class="math inline">\(n_B\)</span> our target similarity matrix <span class="math inline">\(\mathbf{Z}\)</span>, comparing the node sets in the two graphs, will therefore be of dimensions <span class="math inline">\(n_A \times n_B\)</span>.</p>
<p>We initialize <span class="math inline">\(z_{ij}(0) = 1\)</span> for all <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>; that is, <span class="math inline">\(\mathbf{Z}(0)\)</span> is a matrix full of ones. At each time step subsequent to that, we fill up the <span class="math inline">\(\mathbf{Z}\)</span> matrix with new values according to:</p>
<p><span class="math display">\[
   \mathbf{Z}(t + 1) = \mathbf{B}\mathbf{Z(t)}\mathbf{A}^T + \mathbf{B}^T\mathbf{Z(t)}\mathbf{A}
\]</span></p>
<p>To ensure convergence, we then normalize the <span class="math inline">\(\mathbf{Z}\)</span> matrix after every update using our trusty Euclidean norm:</p>
<p><span class="math display">\[
\mathbf{Z}(t &gt; 0) = \frac{\mathbf{Z}}{||\mathbf{Z}||_2}
\]</span></p>
<section id="computing-node-similarities-across-different-graphs" class="level2">
<h2 class="anchored" data-anchor-id="computing-node-similarities-across-different-graphs">Computing Node Similarities Across Different Graphs</h2>
<p>Let us see how this would work with real data. We will compare two subgraphs of the larger <code>law_advice</code> network <span class="citation" data-cites="lazega01">(<a href="#ref-lazega01" role="doc-biblioref">Lazega 2001</a>)</span> from the <code>networkdata</code> package. This is a directed <em>advice-seeking</em> network so a node goes <em>from</em> advisee to adviser.</p>
<p>We create two subgraphs. One composed of older male partners (aged fifty or older) and the other composed of the women in the firm (both parterns and associates). They look lik this:</p>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="blondel_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="768"></p>
<p></p><figcaption class="figure-caption">Older Men Partners</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="blondel_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid figure-img" width="768"></p>
<p></p><figcaption class="figure-caption">Women Lawyers</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<p>A function to compute the <strong>Blondel similarity</strong> as described earlier can be written as:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   blondel.sim <span class="ot">&lt;-</span> <span class="cf">function</span>(A, B) {</span>
<span id="cb1-2"><a href="#cb1-2"></a>      K <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(B), <span class="fu">nrow</span>(A))</span>
<span id="cb1-3"><a href="#cb1-3"></a>      <span class="cf">if</span> (<span class="fu">is.null</span>(<span class="fu">rownames</span>(A)) <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb1-4"><a href="#cb1-4"></a>         <span class="fu">rownames</span>(A) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(A)</span>
<span id="cb1-5"><a href="#cb1-5"></a>         <span class="fu">colnames</span>(A) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(A)</span>
<span id="cb1-6"><a href="#cb1-6"></a>         }</span>
<span id="cb1-7"><a href="#cb1-7"></a>      <span class="cf">if</span> (<span class="fu">is.null</span>(<span class="fu">rownames</span>(B)) <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb1-8"><a href="#cb1-8"></a>         <span class="fu">rownames</span>(B) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(B)</span>
<span id="cb1-9"><a href="#cb1-9"></a>         <span class="fu">colnames</span>(B) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(B)</span>
<span id="cb1-10"><a href="#cb1-10"></a>         }</span>
<span id="cb1-11"><a href="#cb1-11"></a>      k <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>      diff <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>      old.diff <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>      <span class="cf">while</span> (diff <span class="sc">!=</span> old.diff <span class="sc">|</span> k <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb1-15"><a href="#cb1-15"></a>         old.diff <span class="ot">&lt;-</span> diff</span>
<span id="cb1-16"><a href="#cb1-16"></a>         K.old <span class="ot">&lt;-</span> K</span>
<span id="cb1-17"><a href="#cb1-17"></a>         K <span class="ot">&lt;-</span> (B <span class="sc">%*%</span> K.old <span class="sc">%*%</span> <span class="fu">t</span>(A)) <span class="sc">+</span> (<span class="fu">t</span>(B) <span class="sc">%*%</span> K.old <span class="sc">%*%</span> A)</span>
<span id="cb1-18"><a href="#cb1-18"></a>         K <span class="ot">&lt;-</span> K<span class="sc">/</span><span class="fu">norm</span>(K, <span class="at">type =</span> <span class="st">"F"</span>)</span>
<span id="cb1-19"><a href="#cb1-19"></a>         diff <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(K)) <span class="sc">-</span> <span class="fu">sum</span>(<span class="fu">abs</span>(K.old)))</span>
<span id="cb1-20"><a href="#cb1-20"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1-21"><a href="#cb1-21"></a>      }</span>
<span id="cb1-22"><a href="#cb1-22"></a>   <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(K)) {</span>
<span id="cb1-23"><a href="#cb1-23"></a>      K[, j] <span class="ot">&lt;-</span> K[, j]<span class="sc">/</span><span class="fu">max</span>(K[, j])</span>
<span id="cb1-24"><a href="#cb1-24"></a>      }</span>
<span id="cb1-25"><a href="#cb1-25"></a>   <span class="fu">rownames</span>(K) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(B)</span>
<span id="cb1-26"><a href="#cb1-26"></a>   <span class="fu">colnames</span>(K) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(A)</span>
<span id="cb1-27"><a href="#cb1-27"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">K =</span> K, <span class="at">k =</span> k, <span class="at">diff =</span> diff))</span>
<span id="cb1-28"><a href="#cb1-28"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Which is modeled after our status game function but instead of computing a vector of scores we are populating a whole matrix!</p>
<p>The basic task is to figure out which nodes from the first matrix are most similar to which nodes from the second. That is, given these two networks can be identify actors who play similar roles in each?</p>
<p>And here are the results presented in tabular form:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   <span class="fu">library</span>(kableExtra)</span>
<span id="cb2-2"><a href="#cb2-2"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g1))</span>
<span id="cb2-3"><a href="#cb2-3"></a>   B <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g2))</span>
<span id="cb2-4"><a href="#cb2-4"></a>   K <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">blondel.sim</span>(A, B)[[<span class="dv">1</span>]], <span class="dv">2</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a>   <span class="fu">kbl</span>(K, <span class="at">align =</span> <span class="st">"c"</span>, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">row.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-7"><a href="#cb2-7"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 1 </th>
   <th style="text-align:center;"> 2 </th>
   <th style="text-align:center;"> 3 </th>
   <th style="text-align:center;"> 4 </th>
   <th style="text-align:center;"> 5 </th>
   <th style="text-align:center;"> 6 </th>
   <th style="text-align:center;"> 7 </th>
   <th style="text-align:center;"> 8 </th>
   <th style="text-align:center;"> 9 </th>
   <th style="text-align:center;"> 10 </th>
   <th style="text-align:center;"> 11 </th>
   <th style="text-align:center;"> 12 </th>
   <th style="text-align:center;"> 13 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.25 </td>
   <td style="text-align:center;"> 0.22 </td>
   <td style="text-align:center;"> 0.41 </td>
   <td style="text-align:center;"> 0.48 </td>
   <td style="text-align:center;"> 0.45 </td>
   <td style="text-align:center;"> 0.11 </td>
   <td style="text-align:center;"> 0.47 </td>
   <td style="text-align:center;"> 0.24 </td>
   <td style="text-align:center;"> 0.20 </td>
   <td style="text-align:center;"> 0.30 </td>
   <td style="text-align:center;"> 0.47 </td>
   <td style="text-align:center;"> 0.25 </td>
   <td style="text-align:center;"> 0.36 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.39 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.27 </td>
   <td style="text-align:center;"> 0.16 </td>
   <td style="text-align:center;"> 0.37 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.36 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.34 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.64 </td>
   <td style="text-align:center;"> 0.63 </td>
   <td style="text-align:center;"> 0.54 </td>
   <td style="text-align:center;"> 0.33 </td>
   <td style="text-align:center;"> 0.09 </td>
   <td style="text-align:center;"> 0.67 </td>
   <td style="text-align:center;"> 0.10 </td>
   <td style="text-align:center;"> 0.63 </td>
   <td style="text-align:center;"> 0.56 </td>
   <td style="text-align:center;"> 0.58 </td>
   <td style="text-align:center;"> 0.51 </td>
   <td style="text-align:center;"> 0.55 </td>
   <td style="text-align:center;"> 0.51 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.65 </td>
   <td style="text-align:center;"> 0.66 </td>
   <td style="text-align:center;"> 0.52 </td>
   <td style="text-align:center;"> 0.26 </td>
   <td style="text-align:center;"> 0.00 </td>
   <td style="text-align:center;"> 0.71 </td>
   <td style="text-align:center;"> 0.00 </td>
   <td style="text-align:center;"> 0.63 </td>
   <td style="text-align:center;"> 0.60 </td>
   <td style="text-align:center;"> 0.59 </td>
   <td style="text-align:center;"> 0.46 </td>
   <td style="text-align:center;"> 0.58 </td>
   <td style="text-align:center;"> 0.50 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.99 </td>
   <td style="text-align:center;"> 0.73 </td>
   <td style="text-align:center;"> 0.28 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.66 </td>
   <td style="text-align:center;"> 0.67 </td>
   <td style="text-align:center;"> 0.56 </td>
   <td style="text-align:center;"> 0.33 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.71 </td>
   <td style="text-align:center;"> 0.06 </td>
   <td style="text-align:center;"> 0.65 </td>
   <td style="text-align:center;"> 0.64 </td>
   <td style="text-align:center;"> 0.62 </td>
   <td style="text-align:center;"> 0.53 </td>
   <td style="text-align:center;"> 0.62 </td>
   <td style="text-align:center;"> 0.57 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.05 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.12 </td>
   <td style="text-align:center;"> 0.14 </td>
   <td style="text-align:center;"> 0.16 </td>
   <td style="text-align:center;"> 0.00 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.08 </td>
   <td style="text-align:center;"> 0.12 </td>
   <td style="text-align:center;"> 0.05 </td>
   <td style="text-align:center;"> 0.09 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.32 </td>
   <td style="text-align:center;"> 0.31 </td>
   <td style="text-align:center;"> 0.37 </td>
   <td style="text-align:center;"> 0.32 </td>
   <td style="text-align:center;"> 0.24 </td>
   <td style="text-align:center;"> 0.26 </td>
   <td style="text-align:center;"> 0.24 </td>
   <td style="text-align:center;"> 0.30 </td>
   <td style="text-align:center;"> 0.29 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.37 </td>
   <td style="text-align:center;"> 0.31 </td>
   <td style="text-align:center;"> 0.34 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.49 </td>
   <td style="text-align:center;"> 0.44 </td>
   <td style="text-align:center;"> 0.88 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.20 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.47 </td>
   <td style="text-align:center;"> 0.40 </td>
   <td style="text-align:center;"> 0.63 </td>
   <td style="text-align:center;"> 0.96 </td>
   <td style="text-align:center;"> 0.50 </td>
   <td style="text-align:center;"> 0.71 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.31 </td>
   <td style="text-align:center;"> 0.28 </td>
   <td style="text-align:center;"> 0.73 </td>
   <td style="text-align:center;"> 0.89 </td>
   <td style="text-align:center;"> 0.89 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.91 </td>
   <td style="text-align:center;"> 0.29 </td>
   <td style="text-align:center;"> 0.30 </td>
   <td style="text-align:center;"> 0.47 </td>
   <td style="text-align:center;"> 0.82 </td>
   <td style="text-align:center;"> 0.39 </td>
   <td style="text-align:center;"> 0.60 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.86 </td>
   <td style="text-align:center;"> 0.86 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.82 </td>
   <td style="text-align:center;"> 0.58 </td>
   <td style="text-align:center;"> 0.76 </td>
   <td style="text-align:center;"> 0.57 </td>
   <td style="text-align:center;"> 0.86 </td>
   <td style="text-align:center;"> 0.79 </td>
   <td style="text-align:center;"> 0.92 </td>
   <td style="text-align:center;"> 0.97 </td>
   <td style="text-align:center;"> 0.82 </td>
   <td style="text-align:center;"> 0.86 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.18 </td>
   <td style="text-align:center;"> 0.16 </td>
   <td style="text-align:center;"> 0.04 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.08 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.20 </td>
   <td style="text-align:center;"> 0.17 </td>
   <td style="text-align:center;"> 0.21 </td>
   <td style="text-align:center;"> 0.20 </td>
   <td style="text-align:center;"> 0.23 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.42 </td>
   <td style="text-align:center;"> 0.37 </td>
   <td style="text-align:center;"> 0.26 </td>
   <td style="text-align:center;"> 0.29 </td>
   <td style="text-align:center;"> 0.28 </td>
   <td style="text-align:center;"> 0.33 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.43 </td>
   <td style="text-align:center;"> 0.36 </td>
   <td style="text-align:center;"> 0.40 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.18 </td>
   <td style="text-align:center;"> 0.17 </td>
   <td style="text-align:center;"> 0.32 </td>
   <td style="text-align:center;"> 0.35 </td>
   <td style="text-align:center;"> 0.33 </td>
   <td style="text-align:center;"> 0.09 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.17 </td>
   <td style="text-align:center;"> 0.16 </td>
   <td style="text-align:center;"> 0.23 </td>
   <td style="text-align:center;"> 0.35 </td>
   <td style="text-align:center;"> 0.19 </td>
   <td style="text-align:center;"> 0.27 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 0.40 </td>
   <td style="text-align:center;"> 0.41 </td>
   <td style="text-align:center;"> 0.41 </td>
   <td style="text-align:center;"> 0.28 </td>
   <td style="text-align:center;"> 0.16 </td>
   <td style="text-align:center;"> 0.39 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.40 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.41 </td>
   <td style="text-align:center;"> 0.37 </td>
   <td style="text-align:center;"> 0.38 </td>
   <td style="text-align:center;"> 0.36 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.53 </td>
   <td style="text-align:center;"> 0.51 </td>
   <td style="text-align:center;"> 0.92 </td>
   <td style="text-align:center;"> 0.99 </td>
   <td style="text-align:center;"> 0.87 </td>
   <td style="text-align:center;"> 0.29 </td>
   <td style="text-align:center;"> 0.91 </td>
   <td style="text-align:center;"> 0.52 </td>
   <td style="text-align:center;"> 0.54 </td>
   <td style="text-align:center;"> 0.69 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 0.61 </td>
   <td style="text-align:center;"> 0.80 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.46 </td>
   <td style="text-align:center;"> 0.44 </td>
   <td style="text-align:center;"> 0.70 </td>
   <td style="text-align:center;"> 0.74 </td>
   <td style="text-align:center;"> 0.49 </td>
   <td style="text-align:center;"> 0.33 </td>
   <td style="text-align:center;"> 0.58 </td>
   <td style="text-align:center;"> 0.46 </td>
   <td style="text-align:center;"> 0.53 </td>
   <td style="text-align:center;"> 0.55 </td>
   <td style="text-align:center;"> 0.81 </td>
   <td style="text-align:center;"> 0.57 </td>
   <td style="text-align:center;"> 0.71 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.31 </td>
   <td style="text-align:center;"> 0.67 </td>
   <td style="text-align:center;"> 0.81 </td>
   <td style="text-align:center;"> 0.63 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.72 </td>
   <td style="text-align:center;"> 0.34 </td>
   <td style="text-align:center;"> 0.41 </td>
   <td style="text-align:center;"> 0.46 </td>
   <td style="text-align:center;"> 0.82 </td>
   <td style="text-align:center;"> 0.47 </td>
   <td style="text-align:center;"> 0.67 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>In the table each column is normalized by its maximum, so a 1.0 in that column tells us that that node (from the first network) is maximally similar to the corresponding row node (from the second network).</p>
<p>For instance, node 5 in the women’s lawyers graph (a highly central node in terms of being an adviser) is most similar to node 1 in the older men partner’s graph (also a highly central node in terms of being an adviser).</p>
<p>Node 9 in the women lawyer’s graph, who’s mostly an advise-seeker, is most similar to node 5 in the older men partner graph who’s also an advise-seeker. So it looks like it works!</p>
</section>
<section id="equivalence-to-hits" class="level2">
<h2 class="anchored" data-anchor-id="equivalence-to-hits">Equivalence to HITS</h2>
<p>One neat thing that <span class="citation" data-cites="blondel_etal04">Blondel et al. (<a href="#ref-blondel_etal04" role="doc-biblioref">2004</a>)</span> show is that we can also take a network and compare it to ideal-typical small graphs and get scores for how much that node resembles each of the nodes in the ideal-typical structure.</p>
<p>More specifically, they show that if we can run their algorithm to compare any network to the following two-node graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>   g <span class="ot">&lt;-</span> <span class="fu">make_empty_graph</span>(<span class="dv">2</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>   g <span class="ot">&lt;-</span> <span class="fu">add_edges</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a>   <span class="fu">V</span>(g)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Hub"</span>, <span class="st">"Authority"</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>   <span class="fu">plot</span>(g, </span>
<span id="cb3-5"><a href="#cb3-5"></a>        <span class="at">edge.arrow.size=</span><span class="dv">1</span>, </span>
<span id="cb3-6"><a href="#cb3-6"></a>        <span class="at">vertex.color=</span><span class="st">"tan2"</span>, </span>
<span id="cb3-7"><a href="#cb3-7"></a>        <span class="at">vertex.size=</span><span class="dv">12</span>, <span class="at">vertex.frame.color=</span><span class="st">"lightgray"</span>, </span>
<span id="cb3-8"><a href="#cb3-8"></a>        <span class="at">vertex.label.color=</span><span class="st">"black"</span>, <span class="at">vertex.label.cex=</span><span class="fl">1.5</span>, </span>
<span id="cb3-9"><a href="#cb3-9"></a>        <span class="at">vertex.label.dist=</span><span class="sc">-</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="blondel_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In which case, the result “similarity” scores, will be equivalent to the Hub and Authority scores!</p>
<p>We can check that this is the case for the women’s lawyers advice graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb4-2"><a href="#cb4-2"></a>   B <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g2))</span>
<span id="cb4-3"><a href="#cb4-3"></a>   K <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">blondel.sim</span>(A, B)[[<span class="dv">1</span>]], <span class="dv">4</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>   tab <span class="ot">&lt;-</span> <span class="fu">cbind</span>(K, <span class="at">Hub.Score =</span> <span class="fu">round</span>(<span class="fu">hits_scores</span>(g2)<span class="sc">$</span>hub, <span class="dv">4</span>), </span>
<span id="cb4-5"><a href="#cb4-5"></a>         <span class="at">Auth.Score =</span> <span class="fu">round</span>(<span class="fu">hits_scores</span>(g2)<span class="sc">$</span>authority, <span class="dv">4</span>))</span>
<span id="cb4-6"><a href="#cb4-6"></a>   <span class="fu">kbl</span>(tab, <span class="at">align =</span> <span class="st">"c"</span>, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">row.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-7"><a href="#cb4-7"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-9"><a href="#cb4-9"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Authority </th>
   <th style="text-align:center;"> Hub.Score </th>
   <th style="text-align:center;"> Auth.Score </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.3810 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.3810 </td>
   <td style="text-align:center;"> 0.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.3415 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.3415 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.0813 </td>
   <td style="text-align:center;"> 0.6021 </td>
   <td style="text-align:center;"> 0.0813 </td>
   <td style="text-align:center;"> 0.6021 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.7826 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.7826 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.1654 </td>
   <td style="text-align:center;"> 1.0000 </td>
   <td style="text-align:center;"> 0.1654 </td>
   <td style="text-align:center;"> 1.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.7826 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.7826 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.2235 </td>
   <td style="text-align:center;"> 0.2858 </td>
   <td style="text-align:center;"> 0.2235 </td>
   <td style="text-align:center;"> 0.2858 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 1.0000 </td>
   <td style="text-align:center;"> 0.0386 </td>
   <td style="text-align:center;"> 1.0000 </td>
   <td style="text-align:center;"> 0.0386 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.8973 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.8973 </td>
   <td style="text-align:center;"> 0.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.6110 </td>
   <td style="text-align:center;"> 0.6559 </td>
   <td style="text-align:center;"> 0.6110 </td>
   <td style="text-align:center;"> 0.6559 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.2095 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.2095 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.2239 </td>
   <td style="text-align:center;"> 0.3364 </td>
   <td style="text-align:center;"> 0.2239 </td>
   <td style="text-align:center;"> 0.3364 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.3197 </td>
   <td style="text-align:center;"> 0.0523 </td>
   <td style="text-align:center;"> 0.3197 </td>
   <td style="text-align:center;"> 0.0523 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.4036 </td>
   <td style="text-align:center;"> 0.1434 </td>
   <td style="text-align:center;"> 0.4036 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.8432 </td>
   <td style="text-align:center;"> 0.2174 </td>
   <td style="text-align:center;"> 0.8432 </td>
   <td style="text-align:center;"> 0.2174 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.4089 </td>
   <td style="text-align:center;"> 0.3188 </td>
   <td style="text-align:center;"> 0.4089 </td>
   <td style="text-align:center;"> 0.3188 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.5222 </td>
   <td style="text-align:center;"> 0.0955 </td>
   <td style="text-align:center;"> 0.5222 </td>
   <td style="text-align:center;"> 0.0955 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>The first two columns are the scores using the function to compute the Blondel et al.&nbsp;similarity to each of the two nodes in the Hub/Authority micro-graph and the third and fourth columns are the scores we get from the <code>igraph</code> function <code>hits scores</code>, which as we can see, are identical.</p>
</section>
<section id="computing-a-brokerage-score" class="level2">
<h2 class="anchored" data-anchor-id="computing-a-brokerage-score">Computing a Brokerage Score</h2>
<p>Of course in a directed graph, there are more than two ideal typical “roles.” In addition to “sender” (Hub) or “receiver” (Authority) we may also have “intermediaries” or “pass along” nodes. We can thus get an “intermediary” score for each node by comparing any network to the following three-node graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>   g <span class="ot">&lt;-</span> <span class="fu">make_empty_graph</span>(<span class="dv">3</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a>   g <span class="ot">&lt;-</span> <span class="fu">add_edges</span>(g, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb5-3"><a href="#cb5-3"></a>   <span class="fu">V</span>(g)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Hub"</span>, <span class="st">"Broker"</span>, <span class="st">"Authority"</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a>   <span class="fu">plot</span>(g, </span>
<span id="cb5-5"><a href="#cb5-5"></a>        <span class="at">edge.arrow.size=</span><span class="dv">1</span>, </span>
<span id="cb5-6"><a href="#cb5-6"></a>        <span class="at">vertex.color=</span><span class="st">"tan2"</span>, </span>
<span id="cb5-7"><a href="#cb5-7"></a>        <span class="at">vertex.size=</span><span class="dv">12</span>, <span class="at">vertex.frame.color=</span><span class="st">"lightgray"</span>, </span>
<span id="cb5-8"><a href="#cb5-8"></a>        <span class="at">vertex.label.color=</span><span class="st">"black"</span>, <span class="at">vertex.label.cex=</span><span class="fl">1.5</span>, </span>
<span id="cb5-9"><a href="#cb5-9"></a>        <span class="at">vertex.label.dist=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="blondel_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here are the results for the women lawyers graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb6-2"><a href="#cb6-2"></a>   B <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g2))</span>
<span id="cb6-3"><a href="#cb6-3"></a>   K <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">blondel.sim</span>(A, B)[[<span class="dv">1</span>]], <span class="dv">4</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>   <span class="fu">kbl</span>(K, <span class="at">align =</span> <span class="st">"c"</span>, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">row.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-5"><a href="#cb6-5"></a>      <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-6"><a href="#cb6-6"></a>      <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-7"><a href="#cb6-7"></a>                     <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Broker </th>
   <th style="text-align:center;"> Authority </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.5190 </td>
   <td style="text-align:center;"> 0.3321 </td>
   <td style="text-align:center;"> 0.1135 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.1318 </td>
   <td style="text-align:center;"> 0.3472 </td>
   <td style="text-align:center;"> 0.3600 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.0998 </td>
   <td style="text-align:center;"> 0.4586 </td>
   <td style="text-align:center;"> 0.6923 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.0000 </td>
   <td style="text-align:center;"> 0.4888 </td>
   <td style="text-align:center;"> 0.7547 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.5241 </td>
   <td style="text-align:center;"> 0.8968 </td>
   <td style="text-align:center;"> 1.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.0954 </td>
   <td style="text-align:center;"> 0.5091 </td>
   <td style="text-align:center;"> 0.7547 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.1318 </td>
   <td style="text-align:center;"> 0.1234 </td>
   <td style="text-align:center;"> 0.0000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.2501 </td>
   <td style="text-align:center;"> 0.3584 </td>
   <td style="text-align:center;"> 0.2755 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 1.0000 </td>
   <td style="text-align:center;"> 0.8236 </td>
   <td style="text-align:center;"> 0.2000 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.9913 </td>
   <td style="text-align:center;"> 0.6859 </td>
   <td style="text-align:center;"> 0.0318 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.5445 </td>
   <td style="text-align:center;"> 1.0000 </td>
   <td style="text-align:center;"> 0.7371 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.1971 </td>
   <td style="text-align:center;"> 0.1427 </td>
   <td style="text-align:center;"> 0.1530 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.3175 </td>
   <td style="text-align:center;"> 0.4117 </td>
   <td style="text-align:center;"> 0.2970 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.3710 </td>
   <td style="text-align:center;"> 0.2875 </td>
   <td style="text-align:center;"> 0.0918 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 0.1318 </td>
   <td style="text-align:center;"> 0.4205 </td>
   <td style="text-align:center;"> 0.3780 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.9998 </td>
   <td style="text-align:center;"> 0.8747 </td>
   <td style="text-align:center;"> 0.2453 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.7783 </td>
   <td style="text-align:center;"> 0.5841 </td>
   <td style="text-align:center;"> 0.3102 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.9644 </td>
   <td style="text-align:center;"> 0.5162 </td>
   <td style="text-align:center;"> 0.1302 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Columns one and three gives us versions of the Hub and Authority scores (respectively), but column two now gives us a “score” for how much the row node resembles and intermediary (or broker) in the network. We can see that the “purest” broker in the women’s advice network is node 11.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-blondel_etal04" class="csl-entry" role="doc-biblioentry">
Blondel, Vincent D, Anahı́ Gajardo, Maureen Heymans, Pierre Senellart, and Paul Van Dooren. 2004. <span>“A Measure of Similarity Between Graph Vertices: Applications to Synonym Extraction and Web Searching.”</span> <em>SIAM Review</em> 46 (4): 647–66.
</div>
<div id="ref-lazega01" class="csl-entry" role="doc-biblioentry">
Lazega, Emmanuel. 2001. <em>The Collegial Phenomenon: The Social Mechanisms of Cooperation Among Peers in a Corporate Law Partnership</em>. Oxford University Press.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>