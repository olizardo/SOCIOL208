{
  "hash": "5be128d31a26fe272b9143390d5ef8b2",
  "result": {
    "markdown": "---\ntitle: \"Generalized Prestige Scoring in Two-Mode Networks\"\nexecute: \n  eval: true\n  echo: true\n  output: true\n  warning: false\n  message: false\nformat: \n  html:\n    code-line-numbers: true\n---\n\n\nIn the lecture note on [Status and Prestige in Two-Mode Netwoks](prestige-two-mode.qmd) we examine various ways of assigning scores to the row and column objects of the biadjacency matrix to derive status scores for the nodes of a two-mode network. \n\nThe dual scoring approach due to @bonacich91 (the dual \"Eigenvector Centrality\") serves as the standard here, with other approaches (e.g., PageRank-style scoring) serving as deviations and tweaks on the general formula. All can be modeled as the \"prismatic\" [@podolny01] distribution of status within a system, where nodes in one mode get status from the status of the nodes in each mode and vice versa. \n\nIn formuelese, the iterative two-mode network status scoring can formalized as follows. At each iteration $q$ the vector of status scores for the row nodes $\\mathbf{s}^R$ and the column nodes $\\mathbf{s}^C$ is given by: \n\n\\begin{equation}\n    s^R_i(q) = \\sum_j\\mathbf{A}_{ij}s^C_j(q-1)\n\\end{equation}\n\n\n\\begin{equation}\n    s^C_j(q) = \\sum_i\\mathbf{A}_{ij}s^R_i(q-1)\n\\end{equation}\n\nWith the restriction that at the initial step $\\mathbf{s}(0)^C = \\mathbf{1}$ where $\\mathbf{1}$ is the all ones vector of length equals to the number of columns of the biadjacency matrix. At iteration $q > 0$ we normalize both score vectors:\n\n\\begin{equation}\n    \\mathbf{s}^R(q) = \\frac{\\mathbf{s}^R(q)}{||\\mathbf{s}^R(q)||_2}\n\\end{equation}\n\n\\begin{equation}\n    \\mathbf{s}^C(q) = \\frac{\\mathbf{s}^C(q)}{||\\mathbf{s}^C(q)||_2}\n\\end{equation}\n\n\nWhere $||\\mathbf{s}||_2 = \\sqrt{\\sum_i s_i^2}$ is the Euclidean vector norm. \n\nAs [noted before](prestige-two-mode.qmd), one way to generalize the Bonacich scoring is by substituting some other matrix other than $\\mathbf{A}$ like the row-stochastic matrix $\\mathbf{P}$ into the above equations and let the process run until convergence. \n\nIn a technical paper, @pugliese_etal16 [p. 1909] hint at an alternative way to generalize the usual status scoring in two-mode networks that involves changing the status scores themselves while keeping the standard biadjacency matrix $\\mathbf{A}$ in place.\n\nTheir basic idea is that at each time step in the iteration we can substitute the following for the current status scores:\n\n\\begin{equation}\n    s^R_i(q) = \\left(\\sum_j\\mathbf{A}_{ij}\\left[s^C_j(q-1)\\right]^{-\\gamma}\\right)^{-\\frac{1}{\\gamma}}\n\\end{equation}\n\n\n\\begin{equation}\n    s^C_j(q) = \\left(\\sum_i\\mathbf{A}_{ij}\\left[s^R_i(q-1)\\right]^{-\\delta}\\right)^{-\\frac{1}{\\delta}}\n\\end{equation}\n\nThis generalization works like this: When the parameter $\\gamma = 1$ it has the effect of *inverting* the row object's status scores that go into the calculation of the column object's status (inside the parentheses), meaning that column objects that connect to *low status* row objects receive *more* status. However, the same parameter outside the parentheses reverses the first inversion, such that column objects receive more status when they connect almost exclusively to high-status row objects and shun the low status ones. \n\nThe $\\delta$ parameters work similarly. When $\\delta = 1$ the column object's status scores that go into the calculation of the focal row object's status are reversed, so that row objects receive *more* status when they connect to *low status* row objects (inside the parentheses). The same parameter (outside the parentheses) reverses this inversion, such that the status of a given row object increases when they connect to high status column objects and shun the low status ones. \n\nNote that when both parameters $\\{\\gamma, \\delta\\} = -1$ the equations above reduce to the usual Bonacich dual scoring. Different parameter value combinations $\\{\\gamma, \\delta\\}$ in the $\\{+1, -1\\}$ range instantiate different ways in which status operates in a given system. \n\nWhy would we want to generalize status scoring in this way? Recall that the basic principle of Bonacich scoring is based on the equation of status and *popularity*/*activity*. In the canonical case of persons and groups [@breiger74], an event receives status from being attended by high-status individuals and an individual receives status from being affiliated with a high status event; in each case, status from the point of view of the event means having highly active mebmers, and from the point of view of the individual it means being affiliated with popular events. \n\nBut status may not always work this way. Consider the world-economic network linking countries to the products they have a competitive advantage in producing. Analysts noticed that the most developed countries produce both \"complex\" products that other highly developed economies produce and also less \"complex\" (e.g., natural resources) products that the other less developed economics produce. That  means that the \"complexity\" of a product cannot be derived simply taking a summary of the status score of the countries that produce it, because high status countries engage in both high and low status forms of production. \n\nSo one approach is to set $\\delta = 1$ above so that a product's status is the sum of the inverse of the inverse of the status of the countries that produce it. This means that a product's status decreases non-linearly when it is produced by low status countries. We can of course apply the same reasoning to a country's status and set $\\gamma = 1$, which models a system in which a country's status decreases non-linearly when it produces low status products. A system in which *both* countries and product status decrease non-linearly when they are affiliated with low-status objects, would have *both* $\\delta = 1$ and  $\\gamma = 1$.\n\nSo the generalized status scoring model above allows us to consider different status distribution  regimes, which we can characterize as follows:\n\n|$\\gamma$|$\\delta$|Status Distribution Regime|\n|-------|--------|--------|--------|------|\n|-1|-1|Popularity Brings Status|\n|-1|1|Column Low-Status Contamination for Row Objects|\n|-1|1|Row Low-Status Contamination for Column Objects|\n|1|1|Generalized Low-Status Contamination|\n\nLet's see how this would work with real data. Let's load up the trusty Southern Women (SW) data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n   library(networkdata)\n   library(igraph)\n   g <- southern_women\n   A <- as.matrix(as_biadjacency_matrix(g))\n```\n:::\n\n\nAnd here's a function that modifies the status distribution game function to incorporate generalized status scores parameters:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n   tm.status <- function(w, a = 1, b = 1) {\n      y <- matrix(1, ncol(w), 1) #initial group status column vector set to a constant\n      z <- t(w)\n      delta <- 1 \n      k <- 0\n      while (delta > 1e-10) {\n         o.y <- y \n         x <- (w %*% (o.y^-a))^(1/-a) #generalized status scores for people\n         x <- x/norm(x, type = \"E\") #normalizing new people status scores \n         y <- (z %*% (x^-b))^(1/-b) #generalized status scores for groups\n         y <- y/norm(y, type = \"E\") #normalizing new group status scores \n         if (k > 1) {\n            delta <- abs(sum(abs(y) - abs(o.y))) \n            }\n         k <- k + 1\n         }\n   return(list(p.s = x, g.s = y, k = k))\n   }\n```\n:::\n\n\nWe then run the function for the four status distribution regimes:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n   s1 <- tm.status(A, -1, -1)\n   s2 <- tm.status(A, -1, 1)\n   s3 <- tm.status(A, 1, -1)\n   s4 <- tm.status(A, 1, 1)\n```\n:::\n\n\nNow we check out the different status orderings. For people, this looks like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n   s1.col <- data.frame(n = rownames(s1$p.s)[order(s1$p.s/max(s1$p.s), decreasing = TRUE)],\n                   s = round(sort(s1$p.s/max(s1$p.s), decreasing = TRUE), 2))\n   s2.col <- data.frame(n = rownames(s2$p.s)[order(s2$p.s/max(s2$p.s), decreasing = TRUE)],\n                   s = round(sort(s2$p.s/max(s2$p.s), decreasing = TRUE), 2))\n   s3.col <- data.frame(n = rownames(s3$p.s)[order(s3$p.s/max(s3$p.s), decreasing = TRUE)],\n                   s = round(sort(s3$p.s/max(s3$p.s), decreasing = TRUE), 2))\n   s4.col <- data.frame(n = rownames(s4$p.s)[order(s4$p.s/max(s4$p.s), decreasing = TRUE)],\n                   s = round(sort(s4$p.s/max(s4$p.s), decreasing = TRUE), 2))\n   s.tab <- cbind(s1.col, s2.col, s3.col, s4.col)\n   library(kableExtra)\n   kbl(s.tab, format = \"pipe\", \n       align = c(\"l\", \"c\", \"l\", \"c\", \"l\", \"c\", \"l\", \"c\"),\n       col.names = c(\"Name\", \"Bonacich\", \"Name\", \"Col. Contamination\", \"Name\", \"Row Contamination\", \"Name\", \"Double Contamination\")) %>% \n   kable_styling(bootstrap_options = c(\"hover\", \"condensed\", \"responsive\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-hover table-condensed table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Name </th>\n   <th style=\"text-align:center;\"> Bonacich </th>\n   <th style=\"text-align:left;\"> Name </th>\n   <th style=\"text-align:center;\"> Col. Contamination </th>\n   <th style=\"text-align:left;\"> Name </th>\n   <th style=\"text-align:center;\"> Row Contamination </th>\n   <th style=\"text-align:left;\"> Name </th>\n   <th style=\"text-align:center;\"> Double Contamination </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> THERESA </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n   <td style=\"text-align:left;\"> EVELYN </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n   <td style=\"text-align:left;\"> OLIVIA </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n   <td style=\"text-align:left;\"> OLIVIA </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> EVELYN </td>\n   <td style=\"text-align:center;\"> 0.90 </td>\n   <td style=\"text-align:left;\"> LAURA </td>\n   <td style=\"text-align:center;\"> 0.84 </td>\n   <td style=\"text-align:left;\"> FLORA </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n   <td style=\"text-align:left;\"> FLORA </td>\n   <td style=\"text-align:center;\"> 1.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BRENDA </td>\n   <td style=\"text-align:center;\"> 0.84 </td>\n   <td style=\"text-align:left;\"> NORA </td>\n   <td style=\"text-align:center;\"> 0.78 </td>\n   <td style=\"text-align:left;\"> DOROTHY </td>\n   <td style=\"text-align:center;\"> 0.85 </td>\n   <td style=\"text-align:left;\"> DOROTHY </td>\n   <td style=\"text-align:center;\"> 0.53 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LAURA </td>\n   <td style=\"text-align:center;\"> 0.83 </td>\n   <td style=\"text-align:left;\"> SYLVIA </td>\n   <td style=\"text-align:center;\"> 0.76 </td>\n   <td style=\"text-align:left;\"> PEARL </td>\n   <td style=\"text-align:center;\"> 0.23 </td>\n   <td style=\"text-align:left;\"> CHARLOTTE </td>\n   <td style=\"text-align:center;\"> 0.41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> SYLVIA </td>\n   <td style=\"text-align:center;\"> 0.75 </td>\n   <td style=\"text-align:left;\"> KATHERINE </td>\n   <td style=\"text-align:center;\"> 0.74 </td>\n   <td style=\"text-align:left;\"> RUTH </td>\n   <td style=\"text-align:center;\"> 0.12 </td>\n   <td style=\"text-align:left;\"> PEARL </td>\n   <td style=\"text-align:center;\"> 0.39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NORA </td>\n   <td style=\"text-align:center;\"> 0.71 </td>\n   <td style=\"text-align:left;\"> THERESA </td>\n   <td style=\"text-align:center;\"> 0.67 </td>\n   <td style=\"text-align:left;\"> VERNE </td>\n   <td style=\"text-align:center;\"> 0.11 </td>\n   <td style=\"text-align:left;\"> MYRNA </td>\n   <td style=\"text-align:center;\"> 0.37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> RUTH </td>\n   <td style=\"text-align:center;\"> 0.64 </td>\n   <td style=\"text-align:left;\"> BRENDA </td>\n   <td style=\"text-align:center;\"> 0.67 </td>\n   <td style=\"text-align:left;\"> ELEANOR </td>\n   <td style=\"text-align:center;\"> 0.09 </td>\n   <td style=\"text-align:left;\"> HELEN </td>\n   <td style=\"text-align:center;\"> 0.35 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ELEANOR </td>\n   <td style=\"text-align:center;\"> 0.62 </td>\n   <td style=\"text-align:left;\"> CHARLOTTE </td>\n   <td style=\"text-align:center;\"> 0.29 </td>\n   <td style=\"text-align:left;\"> MYRNA </td>\n   <td style=\"text-align:center;\"> 0.07 </td>\n   <td style=\"text-align:left;\"> FRANCES </td>\n   <td style=\"text-align:center;\"> 0.33 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> KATHERINE </td>\n   <td style=\"text-align:center;\"> 0.59 </td>\n   <td style=\"text-align:left;\"> FRANCES </td>\n   <td style=\"text-align:center;\"> 0.13 </td>\n   <td style=\"text-align:left;\"> HELEN </td>\n   <td style=\"text-align:center;\"> 0.05 </td>\n   <td style=\"text-align:left;\"> VERNE </td>\n   <td style=\"text-align:center;\"> 0.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> VERNE </td>\n   <td style=\"text-align:center;\"> 0.59 </td>\n   <td style=\"text-align:left;\"> HELEN </td>\n   <td style=\"text-align:center;\"> 0.11 </td>\n   <td style=\"text-align:left;\"> FRANCES </td>\n   <td style=\"text-align:center;\"> 0.05 </td>\n   <td style=\"text-align:left;\"> KATHERINE </td>\n   <td style=\"text-align:center;\"> 0.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> FRANCES </td>\n   <td style=\"text-align:center;\"> 0.56 </td>\n   <td style=\"text-align:left;\"> MYRNA </td>\n   <td style=\"text-align:center;\"> 0.09 </td>\n   <td style=\"text-align:left;\"> CHARLOTTE </td>\n   <td style=\"text-align:center;\"> 0.02 </td>\n   <td style=\"text-align:left;\"> ELEANOR </td>\n   <td style=\"text-align:center;\"> 0.30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> HELEN </td>\n   <td style=\"text-align:center;\"> 0.54 </td>\n   <td style=\"text-align:left;\"> ELEANOR </td>\n   <td style=\"text-align:center;\"> 0.07 </td>\n   <td style=\"text-align:left;\"> BRENDA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> RUTH </td>\n   <td style=\"text-align:center;\"> 0.29 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> MYRNA </td>\n   <td style=\"text-align:center;\"> 0.50 </td>\n   <td style=\"text-align:left;\"> VERNE </td>\n   <td style=\"text-align:center;\"> 0.06 </td>\n   <td style=\"text-align:left;\"> THERESA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> NORA </td>\n   <td style=\"text-align:center;\"> 0.26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PEARL </td>\n   <td style=\"text-align:center;\"> 0.49 </td>\n   <td style=\"text-align:left;\"> RUTH </td>\n   <td style=\"text-align:center;\"> 0.05 </td>\n   <td style=\"text-align:left;\"> KATHERINE </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> SYLVIA </td>\n   <td style=\"text-align:center;\"> 0.25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CHARLOTTE </td>\n   <td style=\"text-align:center;\"> 0.45 </td>\n   <td style=\"text-align:left;\"> PEARL </td>\n   <td style=\"text-align:center;\"> 0.03 </td>\n   <td style=\"text-align:left;\"> SYLVIA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> LAURA </td>\n   <td style=\"text-align:center;\"> 0.22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> DOROTHY </td>\n   <td style=\"text-align:center;\"> 0.35 </td>\n   <td style=\"text-align:left;\"> DOROTHY </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> NORA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> BRENDA </td>\n   <td style=\"text-align:center;\"> 0.22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> OLIVIA </td>\n   <td style=\"text-align:center;\"> 0.19 </td>\n   <td style=\"text-align:left;\"> OLIVIA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> LAURA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> EVELYN </td>\n   <td style=\"text-align:center;\"> 0.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> FLORA </td>\n   <td style=\"text-align:center;\"> 0.19 </td>\n   <td style=\"text-align:left;\"> FLORA </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> EVELYN </td>\n   <td style=\"text-align:center;\"> 0.01 </td>\n   <td style=\"text-align:left;\"> THERESA </td>\n   <td style=\"text-align:center;\"> 0.19 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}