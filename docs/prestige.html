<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>SOCIOL 208 - Status and Prestige</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="SOCIOL 208 - Status and Prestige">
<meta property="og:description" content="In the the centrality lecture notes, we saw how to compute the most popular centrality measures.">
<meta property="og:site-name" content="SOCIOL 208">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Status and Prestige</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SOCIOL 208</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">208A</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208A.html" class="sidebar-item-text sidebar-link">208A Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208A-F24.html" class="sidebar-item-text sidebar-link">SOCIOL 208A Reading Schedule (Fall 2024)</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Lecture Notes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">Basic Network Statistics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./centrality.html" class="sidebar-item-text sidebar-link">Centrality</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./two-mode.html" class="sidebar-item-text sidebar-link">Analyzing Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ego.html" class="sidebar-item-text sidebar-link">Analyzing Ego Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prestige.html" class="sidebar-item-text sidebar-link active">Status and Prestige</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structequiv.html" class="sidebar-item-text sidebar-link">Role Equivalence and Structural Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./similarity.html" class="sidebar-item-text sidebar-link">Vertex Similarity</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./community.html" class="sidebar-item-text sidebar-link">Community Structure</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Statistical Models</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat1.html" class="sidebar-item-text sidebar-link">Statistical Models of Networks I</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat2.html" class="sidebar-item-text sidebar-link">Statistical Models of Networks II</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat3.html" class="sidebar-item-text sidebar-link">Statistical Models of Networks III</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Handouts</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cube.html" class="sidebar-item-text sidebar-link">The Cube</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./blondel.html" class="sidebar-item-text sidebar-link">Role Similarity Across Graphs</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ahn.html" class="sidebar-item-text sidebar-link">Assigning Nodes to Multiple Communities</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ca.html" class="sidebar-item-text sidebar-link">Correspondence Analysis (CA) of Two-Mode Networks</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spectral.html" class="sidebar-item-text sidebar-link">Community Detection Using Spectral Clustering</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">208B</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-208B.html" class="sidebar-item-text sidebar-link">208B Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./schedule-208B-S24.html" class="sidebar-item-text sidebar-link">SOCIOL 208B Reading Schedule (Spring 2024)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#networks-as-prisms" id="toc-networks-as-prisms" class="nav-link active" data-scroll-target="#networks-as-prisms">Networks as Prisms</a></li>
  <li><a href="#eigenvalues-eigenvectors-oh-my" id="toc-eigenvalues-eigenvectors-oh-my" class="nav-link" data-scroll-target="#eigenvalues-eigenvectors-oh-my">Eigenvalues, Eigenvectors, Oh My!</a></li>
  <li><a href="#distributing-centrality-to-others" id="toc-distributing-centrality-to-others" class="nav-link" data-scroll-target="#distributing-centrality-to-others">Distributing Centrality to Others</a></li>
  <li><a href="#bonacich-prestige" id="toc-bonacich-prestige" class="nav-link" data-scroll-target="#bonacich-prestige">Bonacich Prestige</a></li>
  <li><a href="#a-degree-normalized-model-of-status-aka-pagerank" id="toc-a-degree-normalized-model-of-status-aka-pagerank" class="nav-link" data-scroll-target="#a-degree-normalized-model-of-status-aka-pagerank">A Degree-Normalized Model of Status (AKA PageRank)</a></li>
  <li><a href="#pagerank-with-damping-and-teleportation-in-directed-graphs" id="toc-pagerank-with-damping-and-teleportation-in-directed-graphs" class="nav-link" data-scroll-target="#pagerank-with-damping-and-teleportation-in-directed-graphs">PageRank with Damping and Teleportation in Directed Graphs</a></li>
  <li><a href="#hubs-and-authorities" id="toc-hubs-and-authorities" class="nav-link" data-scroll-target="#hubs-and-authorities">Hubs and Authorities</a></li>
  <li><a href="#hubs-authorities-and-eigenvectors" id="toc-hubs-authorities-and-eigenvectors" class="nav-link" data-scroll-target="#hubs-authorities-and-eigenvectors">Hubs, Authorities and Eigenvectors</a></li>
  <li><a href="#combining-pagerank-and-hits-salsa" id="toc-combining-pagerank-and-hits-salsa" class="nav-link" data-scroll-target="#combining-pagerank-and-hits-salsa">Combining PageRank and HITS: SALSA</a></li>
  <li><a href="#correspondence-analysis" id="toc-correspondence-analysis" class="nav-link" data-scroll-target="#correspondence-analysis">Correspondence Analysis</a></li>
  <li><a href="#hybrid-pagerankhits-approaches" id="toc-hybrid-pagerankhits-approaches" class="nav-link" data-scroll-target="#hybrid-pagerankhits-approaches">Hybrid PageRank/HITS Approaches</a>
  <ul class="collapse">
  <li><a href="#picky-hubs" id="toc-picky-hubs" class="nav-link" data-scroll-target="#picky-hubs">Picky Hubs</a></li>
  <li><a href="#exclusive-authorities" id="toc-exclusive-authorities" class="nav-link" data-scroll-target="#exclusive-authorities">Exclusive Authorities</a></li>
  </ul></li>
  <li><a href="#a-final-ranking-of-prestige-scores" id="toc-a-final-ranking-of-prestige-scores" class="nav-link" data-scroll-target="#a-final-ranking-of-prestige-scores">A Final Ranking of Prestige Scores</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/SOCIOL208/blob/main/prestige.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Status and Prestige</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In the <a href="./centrality.html">the centrality lecture notes</a>, we saw how to compute the most popular centrality measures. Freeman’s “big three” have strong graph-theoretic foundation and do a good job of formalizing and quantifying the idea that a node is central if it is “well-placed” in the network, where being well-placed resolves into either being able to <em>reach</em> others (directly as with degree or indirectly as with closeness) or being able to <em>intermediate</em> between others (as with betweenness).</p>
<section id="networks-as-prisms" class="level2">
<h2 class="anchored" data-anchor-id="networks-as-prisms">Networks as Prisms</h2>
<p>There is, however, another strong and well-motivated intuition as to what it means to be “well-placed” in a network. Here the ties in the network are seen less as “pipes” that transmit stuff and more like “prisms” that <em>reflect</em> on you <span class="citation" data-cites="podolny01">(<a href="#ref-podolny01" role="doc-biblioref">Podolny 2001</a>)</span>.</p>
<p>One way to think about this second version of well-placedness is that what is transmitted through the network is the <em>network itself</em>, or more accurately, the <em>importance</em>, <em>status</em>, and <em>prestige</em> of the people you are connected to, preferably flowing <em>from</em> them (high status people) to <em>you</em>.</p>
<p>Under this interpretation, actors get status and prestige in the network from being connected to prestigious and high status others. Those others, in turn, get their status from being connected to high status others, and so <em>ad infinitum</em>.</p>
<p>One way of quantifying this idea goes like this. If <span class="math inline">\(\mathbf{x}\)</span> is a vector containing the desired status scores, then the status of actor <span class="math inline">\(i\)</span> should be equal to:</p>
<p><span id="eq-status-sum"><span class="math display">\[
   x_i = \sum_{j} a_{ij}x_j
\tag{1}\]</span></span></p>
<p>Where <span class="math inline">\(a_{ij} = 1\)</span> if <span class="math inline">\(i\)</span> is adjacent to <span class="math inline">\(j\)</span> in the network. Note that this formula just sums up the status scores of all the others each actor is connected to.</p>
<p>In matrix notation, if <span class="math inline">\(\mathbf{x}\)</span> is a column vector of status scores then:</p>
<p><span class="math display">\[
   \mathbf{x} = A\mathbf{x}
\]</span></p>
<p>Because <span class="math inline">\(\mathbf{x}\)</span> is an <span class="math inline">\(n \times n\)</span> matrix and <span class="math inline">\(\mathbf{x}\)</span> is <span class="math inline">\(n \times 1\)</span> column vector, the multiplication <span class="math inline">\(A\mathbf{x}\)</span> will return another column vector of dimensions <span class="math inline">\(n \times 1\)</span>, in this case <span class="math inline">\(\mathbf{x}\)</span> itself!</p>
<p>Note the problem that this formulation poses: <span class="math inline">\(\mathbf{x}\)</span> appears on both sides of the equation, which means that in order to know the status of any one node we would need to know the status of the others, but calculating the status of the others depends on knowing the status of the focal node, and so on. There’s a chicken and the egg problem here.</p>
<p>Now, there is an obvious (to the math majors) <em>mathematical solution</em> to this problem, because there’s a class of solvable (under some mild conditions imposed on the matrix <span class="math inline">\(\mathbf{A}\)</span>) linear algebra problems that take the form:</p>
<p><span class="math display">\[
   \lambda\mathbf{x} = A\mathbf{x}
\]</span></p>
<p>Where <span class="math inline">\(\lambda\)</span> is just a plain old number (a scalar). Once again conditional of the aforementioned mild conditions being met, we can iteratively search for a value <span class="math inline">\(\lambda\)</span>, fix it, then fill up the <span class="math inline">\(\mathbf{x}\)</span> vector with another set of values, fix those, search for a new <span class="math inline">\(\lambda\)</span>, and continue until we have values of <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(\mathbf{x}\)</span> that make the above equality true.</p>
<p>When we do that successfully, we say that the value of <span class="math inline">\(\lambda\)</span> we hit upon is an <strong>eigenvalue</strong> of the matrix <span class="math inline">\(\mathbf{A}\)</span> and the values of the vector <span class="math inline">\(\mathbf{x}\)</span> we came up with are an <strong>eigenvector</strong> of the same matrix (technically in the above equation a right eigenvector).</p>
<p>Eigenvalues and eigenvectors, like Don Quixote and Sancho Panza, come in pairs, because you need a unique combination of both to solve the equation. Typically, a given matrix (like an adjacency matrix) will have multiple <span class="math inline">\(\lambda/\mathbf{x}\)</span> pairs that will solve the equation. Together the whole set <span class="math inline">\(\lambda/\mathbf{x}\)</span> pairs that make the equation true are the <strong>eigenvalues</strong> and <strong>eigenvectors</strong> of the matrix.</p>
</section>
<section id="eigenvalues-eigenvectors-oh-my" class="level2">
<h2 class="anchored" data-anchor-id="eigenvalues-eigenvectors-oh-my">Eigenvalues, Eigenvectors, Oh My!</h2>
<p>Note that all of this obscure talk about eigenvalues and eigenvectors is just matrix math stuff. It has nothing to do with networks and social structure.</p>
<p>In contrast, because the big three centrality measures have a direct foundation in graph theory, and graph theory is an isomorphic <strong>model</strong> of social structures (points map to actors/people and lines map to relations) the “math” we do with graph theory is <strong>directly</strong> meaningful as a model of networks (the counts of the number of edges incident to a node is the count of other actors they someone is directly connected to).</p>
<p>Eigenvalues and eigenvectors are not a model of social structure in the way graph theory is (their first scientific application was in Chemistry and Physics). They are just a mechanical math fix to a circular equation problem.</p>
<p>This is why it’s a mistake to introduce network measures of status and prestige by jumping directly to the machinery of linear algebra (or worse talk about the idea of <strong>eigenvector centrality</strong> which means nothing to most people, and combines two obscure terms into one even more obscure compound term).</p>
<p>A better approach is to see if we can <em>motivate</em> the use of measures like the ones above using the simple model of the distribution of status and prestige we started with earlier. We will see that we can, and that doing that leads us back to solutions that are the mathematical equivalent of all the eigenvector stuff.</p>
</section>
<section id="distributing-centrality-to-others" class="level2">
<h2 class="anchored" data-anchor-id="distributing-centrality-to-others">Distributing Centrality to Others</h2>
<p>Let’s start with the simplest model of how people can get their status from the status of others in a network. It is the simplest because it is based on degree.</p>
<p>Imagine everyone has the same “quantum” of status to begin with (this can be stored in a vector containing the same number of length equals to number of actors in the network). Then, at each step, people “send” the same amount of status to all their alters in the network. At the end of each step, we compute people’s status scores using <a href="#eq-status-sum">Equation&nbsp;1</a>. We stop doing this after the status scores of people stop changing across each iteration.</p>
<p>Let us see a real-life example at work.</p>
<p>We will use a data set collected by David Krackhardt on the friendships of 21 managers in a high tech company in the West coast (see the description <a href="https://rdrr.io/github/schochastics/networkdata/man/ht_friends.html">here</a>). The data are reported as directed ties (<span class="math inline">\(i\)</span> nominates <span class="math inline">\(j\)</span> as a friend) but we will constrain ties to be undirected:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>   <span class="fu">library</span>(networkdata)</span>
<span id="cb1-2"><a href="#cb1-2"></a>   <span class="fu">library</span>(igraph)</span>
<span id="cb1-3"><a href="#cb1-3"></a>   g <span class="ot">&lt;-</span> <span class="fu">as.undirected</span>(ht_friends, <span class="at">mode =</span> <span class="st">"collapse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is what the network looks like:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="prestige_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Krackhardt’s Manager Data.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We extract the adjacency matrix corresponding to this network:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And here’s a simple custom function using a <code>while</code> loop that exemplifies the process of status distribution through the network we talked about earlier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>   status1 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb3-2"><a href="#cb3-2"></a>      x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w)) <span class="co">#initial status vector set to all ones of length equal to the number of nodes</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>      d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initial delta</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>      k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>      <span class="cf">while</span> (d <span class="sc">&gt;</span> <span class="fl">1e-15</span>) {</span>
<span id="cb3-6"><a href="#cb3-6"></a>          o.x <span class="ot">&lt;-</span> x <span class="co">#old status scores</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>          x <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.x <span class="co">#new scores a function of old scores and adjacency matrix</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>          x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">norm</span>(x, <span class="at">type =</span> <span class="st">"E"</span>) <span class="co">#normalizing new status scores</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>          d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(x) <span class="sc">-</span> <span class="fu">abs</span>(o.x))) <span class="co">#delta between new and old scores</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>          k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span> <span class="co">#incrementing while counter</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>      }</span>
<span id="cb3-12"><a href="#cb3-12"></a>   <span class="fu">return</span>(<span class="fu">as.vector</span>(x))</span>
<span id="cb3-13"><a href="#cb3-13"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lines 2-4 initialize various quantities, most importantly the initial status vector for each node to just a series of ones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>   <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>Then lines 5-12 implement a little loop of how status is distributed through the network, with the most important piece of code being line 8 where the <em>current</em> status scores for each node are just the sum of the status scores of its neighbors computed one iteration earlier. The program stops when the difference between the old and the new scores is negligible (<span class="math inline">\(\delta &lt; 10^{10}\)</span>) as checked in line 9.</p>
<p>Note the normalization step on line 8, which is necessary to prevent the sum of status scores from getting bigger and bigger indefinitely (in mathese, this is referred to as the sum “diverging”). In base <code>R</code>, the <code>type = "E"</code> normalization implements the <strong>euclidean vector norm</strong> (also sometimes confusingly called the <strong>Frobenieus norm</strong>), by which we divide each value of the status scores by after each update.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>And here’s the resulting (row) vector of status scores for each node:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   s <span class="ot">&lt;-</span> <span class="fu">status1</span>(A)</span>
<span id="cb6-2"><a href="#cb6-2"></a>   s <span class="ot">&lt;-</span> s<span class="sc">/</span><span class="fu">max</span>(s) <span class="co">#normalizing by maximum</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>   <span class="fu">round</span>(s, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.619 0.635 0.446 0.489 0.629 0.430 0.205 0.380 0.444 0.468 0.814 0.549
[13] 0.162 0.401 0.613 0.360 1.000 0.247 0.680 0.360 0.392</code></pre>
</div>
</div>
<p>What if I told you that this vector is the same as that given by the leading (first) eigenvector of the adjacency matrix?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>   s.eig <span class="ot">&lt;-</span> <span class="fu">eigen</span>(A)<span class="sc">$</span>vector[, <span class="dv">1</span>] <span class="sc">*-</span><span class="dv">1</span><span class="co">#computing the first eigenvector</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>   s.eig <span class="ot">&lt;-</span> s.eig<span class="sc">/</span><span class="fu">max</span>(s.eig) <span class="co">#normalizing by maximum</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>   <span class="fu">round</span>(s.eig, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.619 0.635 0.446 0.489 0.629 0.430 0.205 0.380 0.444 0.468 0.814 0.549
[13] 0.162 0.401 0.613 0.360 1.000 0.247 0.680 0.360 0.392</code></pre>
</div>
</div>
<p>Which is of course what is computed by the <code>eigen_centrality</code> function in <code>igraph</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>   <span class="fu">round</span>(<span class="fu">eigen_centrality</span>(g)<span class="sc">$</span>vector, <span class="dv">3</span>) <span class="co">#igraph automatically normalizes the scores</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.619 0.635 0.446 0.489 0.629 0.430 0.205 0.380 0.444 0.468 0.814 0.549
[13] 0.162 0.401 0.613 0.360 1.000 0.247 0.680 0.360 0.392</code></pre>
</div>
</div>
<p>So, the “eigenvector centralities” are just the limit scores produced by the status distribution process implemented in the <code>status1</code> function!</p>
<p>When treated as a structural index of connectivity in a graph (i.e., a centrality measure) the eigenvector status scores induce an ordering of the nodes which we may be interested in looking at:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>   nodes <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(g)</span>
<span id="cb12-2"><a href="#cb12-2"></a>   eig.dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Nodes =</span> nodes, <span class="at">Eigen.Cent =</span> s, <span class="at">Deg.Cent =</span> <span class="fu">degree</span>(g))</span>
<span id="cb12-3"><a href="#cb12-3"></a>   eig.dat <span class="ot">&lt;-</span> eig.dat[<span class="fu">order</span>(eig.dat<span class="sc">$</span>Eigen.Cent, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb12-4"><a href="#cb12-4"></a>   <span class="fu">library</span>(kableExtra)</span>
<span id="cb12-5"><a href="#cb12-5"></a>   <span class="fu">kbl</span>(eig.dat[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ], </span>
<span id="cb12-6"><a href="#cb12-6"></a>       <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">align =</span> <span class="st">"c"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb12-7"><a href="#cb12-7"></a>       <span class="at">caption =</span> <span class="st">"Top Ten Eigenvector Scores."</span>,</span>
<span id="cb12-8"><a href="#cb12-8"></a>       <span class="at">digits =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span>    </span>
<span id="cb12-9"><a href="#cb12-9"></a>   <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> </span>
<span id="cb12-10"><a href="#cb12-10"></a>                    <span class="fu">c</span>(<span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Ten Eigenvector Scores.</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Nodes </th>
   <th style="text-align:center;"> Eigen.Cent </th>
   <th style="text-align:center;"> Deg.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 17 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 18 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 11 </td>
   <td style="text-align:center;"> 0.814 </td>
   <td style="text-align:center;"> 14 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 19 </td>
   <td style="text-align:center;"> 0.680 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.635 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 0.629 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.619 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;"> 0.613 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 12 </td>
   <td style="text-align:center;"> 0.549 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 0.489 </td>
   <td style="text-align:center;"> 7 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 0.468 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Most other measures of status in networks are constructed using similar principles. What changes is the <em>model</em> of how status is distributed in the system. That’s why scary and non-intuitive stuff about eigenvectors or whatever is misleading.</p>
<p>Other measures are designed such that they either change the quantum of status that is distributed through the network by making it dependent on some node characteristic (like degree) or differentiate between different routes of distribution in <strong>directed graphs</strong>, by for instance, differentiating status derived from outgoing links from that derived from incoming links.</p>
<p>Let’s see some examples of these alternative cases.</p>
</section>
<section id="bonacich-prestige" class="level2">
<h2 class="anchored" data-anchor-id="bonacich-prestige">Bonacich Prestige</h2>
<p>In a classic paper, Philip <span class="citation" data-cites="bonacich72">Bonacich (<a href="#ref-bonacich72" role="doc-biblioref">1972</a>)</span> noted the above connection between different ways people conceptualized status and prestige in networks and the leading eigenvector of the adjacency matrix. He then noted that we can extend similar ideas to the directed case.</p>
<p>Here, people get status from <em>receiving</em> nominations from high status others (i.e., those who receive a lot of nominations), whose partners also get status from receiving a lot of nominations from high status others, and so forth.</p>
<p>This means that in a directed system of relations, status distribution operates primarily via the <strong>indegree</strong> of each node, so that if <span class="math inline">\(\mathbf{A}\)</span> is the asymmetric adjacency matrix corresponding to the directed graph, then if we play our status game on the <em>transpose</em> of this matrix <span class="math inline">\(\mathbf{A}^T\)</span> we will get the scores we seek <span class="citation" data-cites="fouss_etal16">(<a href="#ref-fouss_etal16" role="doc-biblioref">Fouss, Saerens, and Shimbo 2016, 204</a>)</span>.</p>
<p>Recall that in transposing the matrix of a directed graph, we change it from being a <em>from/to</em> matrix (nodes in the rows send ties to nodes in the columns) to a <em>to/from</em> matrix: Nodes in the rows <em>receive</em> ties from nodes in the columns. So we want to play our status game in this matrix, because we want to rank nodes according to their receipt of ties from high-status others.</p>
<p>Let’s see a real-life example, this time using the <em>directed</em> version of the Krackhardt friendship nomination network among the high-tech managers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>   g <span class="ot">&lt;-</span> ht_friends</span>
<span id="cb13-2"><a href="#cb13-2"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb13-3"><a href="#cb13-3"></a>   s <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(A))</span>
<span id="cb13-4"><a href="#cb13-4"></a>   s <span class="ot">&lt;-</span> s<span class="sc">/</span><span class="fu">max</span>(s)</span>
<span id="cb13-5"><a href="#cb13-5"></a>   <span class="fu">round</span>(s, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.922 1.000 0.379 0.639 0.396 0.190 0.240 0.531 0.411 0.117 0.413 0.769
[13] 0.082 0.428 0.368 0.450 0.592 0.440 0.425 0.225 0.583</code></pre>
</div>
</div>
<p>Which are the same scores we would have gotten using the <code>eigen_centrality</code> function in <code>igraph</code> with the argument <code>directed</code> set to <code>TRUE</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>   <span class="fu">round</span>(<span class="fu">eigen_centrality</span>(g, <span class="at">directed =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>vector, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.922 1.000 0.379 0.639 0.396 0.190 0.240 0.531 0.411 0.117 0.413 0.769
[13] 0.082 0.428 0.368 0.450 0.592 0.440 0.425 0.225 0.583</code></pre>
</div>
</div>
<p>And, like before, we can treat these scores as centrality measures and rank the nodes in the graph according to them.</p>
<p>Here are the top ten nodes:</p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Ten Eigenvector Scores for a Directed Graph.</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Nodes </th>
   <th style="text-align:center;"> Eigen.Cent </th>
   <th style="text-align:center;"> In.Deg.Cent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.922 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 12 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 0.639 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 17 </td>
   <td style="text-align:center;"> 0.592 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 21 </td>
   <td style="text-align:center;"> 0.583 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 0.531 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 16 </td>
   <td style="text-align:center;"> 0.450 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 18 </td>
   <td style="text-align:center;"> 0.440 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 14 </td>
   <td style="text-align:center;"> 0.428 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>While the top indegree centrality node (2) also gets the top Eigenvector Centrality scores, we see many cases of nodes with equal indegree centrality that get substantively different Eigenvector scores. So <em>who</em> you are connected matters in addition to <em>how many</em> incoming connections you have.</p>
</section>
<section id="a-degree-normalized-model-of-status-aka-pagerank" class="level2">
<h2 class="anchored" data-anchor-id="a-degree-normalized-model-of-status-aka-pagerank">A Degree-Normalized Model of Status (AKA PageRank)</h2>
<p>Note that the model of status distribution implied by the Bonacich’s <strong>Eigenvector Centrality</strong> just reviewed implies that each actor distributes the same amount of status <em>independently</em> of the number of connections they have. Status just replicates indefinitely. Thus, a node with a 100 friends has 100 status units to distribute to each of them and a node with a 10 friends has 10 units.</p>
<p>This is why the eigenvector idea rewards nodes who are connected to popular others more. Even though everyone begins with a single unit of status, well-connected nodes by degree end up having more of it to distribute.</p>
<p>But what if status propagated in the network proportionately to the number of connections one had? For instance, if someone has 100 friends and they only had so much time or energy, they would only have a fraction of status to distribute to others than a person with 10 friends.</p>
<p>In that case, the node with a hundred friends would only have 1/100 of status units to distribute to each of their connections while the node with 10 friends would have 1/10 units. Under this formulation, being connected to <em>discerning</em> others, that is people who only connect to a few, is better than being connected to others who connect to everyone else indiscriminately.</p>
<p>How would we implement this model? First, let’s create a variation of the undirected friendship nomination adjacency matrix called the <span class="math inline">\(\mathbf{P}\)</span> matrix. It is defined like this:</p>
<p><span class="math display">\[
\mathbf{P} = \mathbf{D}_{out}^{-1}\mathbf{A}
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{A}\)</span> is our old friend the adjacency matrix, and <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> is a matrix containing the <em>inverse</em> of each node outdegree along the diagonals and zeroes in every other cell. In <code>R</code> we can create the <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> matrix using the native <code>diag</code> function like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>   g <span class="ot">&lt;-</span> <span class="fu">as.undirected</span>(ht_friends, <span class="at">mode =</span> <span class="st">"collapse"</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span>
<span id="cb17-3"><a href="#cb17-3"></a>   D.o <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Recalling that the function <code>rowSums</code> gives us the row sums of the adjacency matrix, which is the same as each node’s outdegree.</p>
<p>We can check out that the <span class="math inline">\(\mathbf{D}_{out}^{-1}\)</span> indeed contains the quantities we seek by looking at its first few rows and columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>   <span class="fu">round</span>(D.o[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 0.11  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [2,] 0.00  0.1 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [3,] 0.00  0.0 0.17 0.00  0.0 0.00 0.00  0.0 0.00  0.00
 [4,] 0.00  0.0 0.00 0.14  0.0 0.00 0.00  0.0 0.00  0.00
 [5,] 0.00  0.0 0.00 0.00  0.1 0.00 0.00  0.0 0.00  0.00
 [6,] 0.00  0.0 0.00 0.00  0.0 0.14 0.00  0.0 0.00  0.00
 [7,] 0.00  0.0 0.00 0.00  0.0 0.00 0.33  0.0 0.00  0.00
 [8,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.2 0.00  0.00
 [9,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.17  0.00
[10,] 0.00  0.0 0.00 0.00  0.0 0.00 0.00  0.0 0.00  0.12</code></pre>
</div>
</div>
<p>We can then create the <span class="math inline">\(\mathbf{P}\)</span> matrix corresponding to the undirected version of the Krackhardt friendship network using matrix multiplication like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>   P <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So this is the original adjacency matrix, in which each non-zero entry is equal to one divided by the outdegree of the corresponding node in each row.</p>
<p>Here are the first 10 rows and columns of the new matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>   <span class="fu">round</span>(P[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,] 0.00 0.11 0.00 0.11 0.00 0.00 0.00 0.11 0.00  0.00
 [2,] 0.10 0.00 0.00 0.10 0.10 0.10 0.00 0.00 0.00  0.00
 [3,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.17
 [4,] 0.14 0.14 0.00 0.00 0.00 0.00 0.00 0.14 0.00  0.00
 [5,] 0.00 0.10 0.00 0.00 0.00 0.00 0.00 0.00 0.10  0.10
 [6,] 0.00 0.14 0.00 0.00 0.00 0.00 0.14 0.00 0.14  0.00
 [7,] 0.00 0.00 0.00 0.00 0.00 0.33 0.00 0.00 0.00  0.00
 [8,] 0.20 0.00 0.00 0.20 0.00 0.00 0.00 0.00 0.00  0.20
 [9,] 0.00 0.00 0.00 0.00 0.17 0.17 0.00 0.00 0.00  0.17
[10,] 0.00 0.00 0.12 0.00 0.12 0.00 0.00 0.12 0.12  0.00</code></pre>
</div>
</div>
<p>Note that the entries are now numbers between zero and one and the matrix is <em>asymmetric</em> that is <span class="math inline">\(p_{ij}\)</span> is not necessarily equal to <span class="math inline">\(p_{ji}\)</span>. In fact <span class="math inline">\(p_{ij}\)</span> will only be equal to <span class="math inline">\(p_{ji}\)</span> when <span class="math inline">\(k_i = k_j\)</span> (nodes have the same degree).</p>
<p>Moreover the rows of <span class="math inline">\(\mathbf{P}\)</span> sum to one:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>   <span class="fu">rowSums</span>(P)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>Which means that the <span class="math inline">\(\mathbf{P}\)</span> matrix is <strong>row stochastic</strong>. That is the “outdegree” of each node in the matrix is forced to sum to a fixed number. Substantively this means that we are equalizing the total amount of prestige or status that each node can distribute in the system to a fixed quantity.</p>
<p>This means that nodes with a lot of out-neighbors will dissipate this quantity by distributing it across a larger number of recipients (hence their corresponding non-zero entries in the rows of <span class="math inline">\(\mathbf{P}\)</span>) will be a small number) and nodes with a few out-neighbors will have more to distribute.</p>
<p>Another thing to note is that while the sums of the <span class="math inline">\(\mathbf{P}\)</span> matrix sum to a fixed number (1.0) the sums of the <em>columns</em> of the same matrix do not:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>   <span class="fu">round</span>(<span class="fu">colSums</span>(P), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.11 1.34 0.63 0.86 1.56 1.06 0.37 0.51 0.61 1.21 2.33 0.92 0.17 0.87 1.08
[16] 0.53 2.73 0.54 1.21 0.60 0.77</code></pre>
</div>
</div>
<p>This means that inequalities in the system will be tied to the <em>indegree</em> of each node in the <span class="math inline">\(\mathbf{P}\)</span> matrix, which is given by either the column sums of the matrix (as we just saw) or the <em>row sums</em> of the <em>transpose</em> of the same matrix <span class="math inline">\(\mathbf{P}^T\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>   <span class="fu">round</span>(<span class="fu">rowSums</span>(<span class="fu">t</span>(P)), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.11 1.34 0.63 0.86 1.56 1.06 0.37 0.51 0.61 1.21 2.33 0.92 0.17 0.87 1.08
[16] 0.53 2.73 0.54 1.21 0.60 0.77</code></pre>
</div>
</div>
<p>This will come in handy in a second.</p>
<p>The <span class="math inline">\(\mathbf{P}\)</span> matrix has many interpretations, but here it just quantifies the idea that the amount of centrality each node can distribute is proportional to their degree, and that the larger the degree, the less there is to distribute (the smaller each cell <span class="math inline">\(p_{ij}\)</span> will be). Meanwhile, it is clear that nodes that are pointed to by many other nodes who themselves don’t point to many others have a larger indegree in <span class="math inline">\(\mathbf{P}\)</span>.</p>
<p>Now we can just adapt the the model of status distribution we used for eigenvector centrality but this time using the <span class="math inline">\(\mathbf{P}\)</span> rather than the <span class="math inline">\(\mathbf{A}\)</span> matrix. Note that because we are interested in the status that comes <strong>into</strong> each node we use the <em>transpose</em> of <span class="math inline">\(\mathbf{P}\)</span> rather than <span class="math inline">\(\mathbf{P}\)</span>.</p>
<p>So at each step the status of a node is equivalent to the sum of the status scores of their in-neighbors, with more discerning in-neighbors passing along more status than less discerning ones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>   s2 <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(P))</span>
<span id="cb29-2"><a href="#cb29-2"></a>   s2 <span class="ot">&lt;-</span> s2<span class="sc">/</span><span class="fu">max</span>(s2)</span>
<span id="cb29-3"><a href="#cb29-3"></a>   <span class="fu">round</span>(s2, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>What if I told you that these numbers are the same as the leading eigenvector of <span class="math inline">\(\mathbf{P}^T\)</span>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>   s2 <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">eigen</span>(<span class="fu">t</span>(P))<span class="sc">$</span>vector[, <span class="dv">1</span>])</span>
<span id="cb31-2"><a href="#cb31-2"></a>   s2 <span class="ot">&lt;-</span> s2<span class="sc">/</span><span class="fu">max</span>(s2)</span>
<span id="cb31-3"><a href="#cb31-3"></a>   <span class="fu">round</span>(s2, <span class="dv">3</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>And, of course, the (normalized) scores produced by this approach are identical to those computed by the <code>page_rank</code> function in <code>igraph</code> with “damping factor” (to be explained in a second) set to 1.0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>   pr <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(g, <span class="at">damping =</span> <span class="dv">1</span>, <span class="at">algo =</span> <span class="st">"arpack"</span>)<span class="sc">$</span>vector</span>
<span id="cb33-2"><a href="#cb33-2"></a>   <span class="fu">round</span>(pr<span class="sc">/</span><span class="fu">max</span>(pr), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.500 0.556 0.333 0.389 0.556 0.389 0.167 0.278 0.333 0.444 0.778 0.444
[13] 0.111 0.333 0.500 0.278 1.000 0.222 0.556 0.278 0.333</code></pre>
</div>
</div>
<p>So the distributional model of status is the same one implemented in the PageRank algorithm!</p>
</section>
<section id="pagerank-with-damping-and-teleportation-in-directed-graphs" class="level2">
<h2 class="anchored" data-anchor-id="pagerank-with-damping-and-teleportation-in-directed-graphs">PageRank with Damping and Teleportation in Directed Graphs</h2>
<p>PageRank of course was designed to deal with <strong>directed graphs</strong> (like the World Wide Web). So let’s load up the version of the Krackhardt’s Managers data that contains the <strong>advice network</strong> which is an unambiguously directed relation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>   g <span class="ot">&lt;-</span> ht_advice</span>
<span id="cb35-2"><a href="#cb35-2"></a>   A <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We then compute the <span class="math inline">\(\mathbf{P}\)</span> matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>   D.o <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">rowSums</span>(A))</span>
<span id="cb36-2"><a href="#cb36-2"></a>   P <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Remember how we said earlier that there are multiple ways of thinking about <span class="math inline">\(\mathbf{P}\)</span>? Another way of thinking about the <span class="math inline">\(\mathbf{P}\)</span> matrix is as characterizing the behavior of a <strong>random walker</strong> in the directed graph. At any time point <span class="math inline">\(t\)</span> the walker (a piece of information, a virus, or status itself) sits on a node and the with probability <span class="math inline">\(p_{ij}\)</span> it jumps to one of that node’s out-neighbors. The probabilities are stored in the matrix <span class="math inline">\(\mathbf{P}\)</span>.</p>
<p>One issue that arises is that there could be nodes with no out-neighbors (so-called sink nodes) or like node 6 above, who has just one out-neighbor (e.g., seeks advice from just one person), in which case the probability is 1.0 that if the random walker is at node 6 it will go to node 21.</p>
<p>To avoid this issue the original designers of the PageRank algorithm <span class="citation" data-cites="brin_page98">(<a href="#ref-brin_page98" role="doc-biblioref">Brin and Page 1998</a>)</span> added a “fudge” factor: That is, with probability <span class="math inline">\(\alpha\)</span> the random walker should hop from node to node following the directed links in the graph. But once in a while with probability <span class="math inline">\(1-\alpha\)</span> the walker should decide to “teleport” (with uniform probability) to <em>any</em> node in the graph whether it is an out-neighbor of the current node or not.</p>
<p>How do we do that? Well we need to “fix” the <span class="math inline">\(\mathbf{P}\)</span> matrix to allow for such behavior. So instead of <span class="math inline">\(\mathbf{P}\)</span> we estimate our distributive status model on the matrix <span class="math inline">\(\mathbf{G}\)</span> (yes, for <strong>G</strong>oogle):</p>
<p><span class="math display">\[
   \mathbf{G} = \alpha \mathbf{P} + (1 - \alpha) \mathbf{E}
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{E}\)</span> is a matrix of the same dimensions as <span class="math inline">\(\mathbf{P}\)</span> but containing <span class="math inline">\(1/n\)</span> in every cell indicating that every node has an equal chance of being “teleported” to.</p>
<p>So, fixing <span class="math inline">\(\alpha = 0.85\)</span> (the standard value chosen by <span class="citation" data-cites="brin_page98">Brin and Page (<a href="#ref-brin_page98" role="doc-biblioref">1998</a>)</span> in their original paper) our <span class="math inline">\(\mathbf{G}\)</span> matrix would be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>   n <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g)</span>
<span id="cb37-2"><a href="#cb37-2"></a>   E <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">/</span>n, n, n)</span>
<span id="cb37-3"><a href="#cb37-3"></a>   G <span class="ot">&lt;-</span> (<span class="fl">0.85</span> <span class="sc">*</span> P) <span class="sc">+</span> (<span class="fl">0.15</span> <span class="sc">*</span> E)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And then we just play our status distribution game on the transpose of <span class="math inline">\(\mathbf{G}\)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>   s3 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">status1</span>(<span class="fu">t</span>(G)), <span class="dv">3</span>)</span>
<span id="cb38-2"><a href="#cb38-2"></a>   <span class="fu">round</span>(s3<span class="sc">/</span><span class="fu">max</span>(s3), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.302 0.573 0.165 0.282 0.100 0.437 0.635 0.255 0.092 0.180 0.237 0.242
[13] 0.087 0.268 0.097 0.168 0.258 0.440 0.087 0.200 1.000</code></pre>
</div>
</div>
<p>Which is the same answer you would get from the <code>igraph</code> function <code>page_rank</code> by setting the “damping” parameter to 0.85:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>   pr <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(g, <span class="at">damping =</span> <span class="fl">0.85</span>, <span class="at">algo =</span> <span class="st">"arpack"</span>)<span class="sc">$</span>vector</span>
<span id="cb40-2"><a href="#cb40-2"></a>   <span class="fu">round</span>(pr<span class="sc">/</span><span class="fu">max</span>(pr), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.302 0.573 0.165 0.281 0.100 0.437 0.635 0.256 0.091 0.180 0.237 0.242
[13] 0.086 0.269 0.097 0.169 0.258 0.440 0.086 0.200 1.000</code></pre>
</div>
</div>
<p>We can see therefore that the damping parameter simply controls the extent to which the PageRank ranking is driven by the directed connectivity of the <span class="math inline">\(\mathbf{P}\)</span> matrix, versus a stochastic or random component.</p>
</section>
<section id="hubs-and-authorities" class="level2">
<h2 class="anchored" data-anchor-id="hubs-and-authorities">Hubs and Authorities</h2>
<p>Recall from previous discussions that everything doubles (sometimes quadruples like degree correlations) in directed graphs. The same goes for status as reflected in a distributive model through the network.</p>
<p>Consider two ways of showing your status in a system governed by directed relations (like advice). You can be highly sought after by others (be an “authority”), or you can be discerning in who you seek advice from, preferably seeking out people who are also sought after (e.g., be a “hub” pointing to high-quality others).</p>
<p>These two forms of status are mutually defining. The top authorities are those who are sought after by the top hubs, and the top hubs are the ones who seek the top authorities!</p>
<p>So this leads to a doubling of <a href="#eq-status-sum">Equation&nbsp;1</a>:</p>
<p><span class="math display">\[  
   x^h_i = \sum_j a_{ij} x^a_j
\]</span></p>
<p><span class="math display">\[
   x^a_i = \sum_i a_{ij} x^h_i
\]</span></p>
<p>Which says that the hub score <span class="math inline">\(x^h\)</span> of a node is the sum of the authority scores <span class="math inline">\(x^a\)</span> of the nodes they point to (sum over <span class="math inline">\(j\)</span>; the outdegree), and the authority score of a node is the sum of the hub scores of the nodes that point to it (sum over <span class="math inline">\(i\)</span>; the indegree).</p>
<p>So we need to make our status game a bit more complicated (but not too much) to account for this duality:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>   status2 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb42-2"><a href="#cb42-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb42-6"><a href="#cb42-6"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>         h <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.a <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb42-8"><a href="#cb42-8"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb42-9"><a href="#cb42-9"></a>         a <span class="ot">&lt;-</span> <span class="fu">t</span>(w) <span class="sc">%*%</span> h <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb42-10"><a href="#cb42-10"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb42-11"><a href="#cb42-11"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb42-12"><a href="#cb42-12"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb42-13"><a href="#cb42-13"></a>         }</span>
<span id="cb42-14"><a href="#cb42-14"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb42-15"><a href="#cb42-15"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Everything is like our previous <code>status1</code> function except now we are keeping track of two mutually defining scores <code>a</code> and <code>h</code>. We first initialize the authority scores by setting them to the value of <span class="math inline">\(1/n\)</span> (where <span class="math inline">\(n\)</span> is the number of nodes) in line 2. We then initialize the <span class="math inline">\(\delta\)</span> difference and <span class="math inline">\(k\)</span> counter in lines 3-4. The <code>while</code> loop in lines 5-13 then update the hub scores (to be the sum of the authority scores of each out-neighbor) in line 7 normalize them in line 8 and update the new authority scores to be the sum (across each in-neighbor) of these new hub scores.</p>
<p>So at each step <span class="math inline">\(t\)</span>, the authority and hub scores are calculated like this:</p>
<p><span class="math display">\[  
   x^h_i(t) = \sum_j a_{ij} x^a_j(t-1)
\]</span></p>
<p><span class="math display">\[
   x^a_i(t) = \sum_j a^T_{ij} x^h_j(t)
\]</span></p>
<p>Where <span class="math inline">\(a^T_{ij}\)</span> is the corresponding entry in the <em>transpose</em> of the adjacency matrix (<code>t(w)</code> in line 9 of the above function).</p>
<p>As you may have guessed this is just an implementation of the “HITS” algorithm developed by <span class="citation" data-cites="kleinberg99">Kleinberg (<a href="#ref-kleinberg99" role="doc-biblioref">1999</a>)</span>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>The results for the Krackhardt advice network are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>   hits.res1 <span class="ot">&lt;-</span> <span class="fu">status2</span>(A)</span>
<span id="cb43-2"><a href="#cb43-2"></a>   <span class="fu">round</span>(hits.res1<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res1<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>   <span class="fu">round</span>(hits.res1<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res1<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Which are equivalent to using the <code>igraph</code> function <code>hits_scores</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>   ha <span class="ot">&lt;-</span> <span class="fu">hits_scores</span>(g, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb47-2"><a href="#cb47-2"></a>   <span class="fu">round</span>(ha<span class="sc">$</span>authority, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>   <span class="fu">round</span>(ha<span class="sc">$</span>hub, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Note that the just like the <code>status2</code> function, the <code>igraph</code> function <code>hits_scores</code> returns the two sets of scores as elements of a <code>list</code>, so we need to access them using the <code>$</code> operator on the object that we store the results in (in this case <code>ha</code>). We also set the <code>scale</code> argument to <code>TRUE</code> so that the scores are normalized by the maximum.</p>
</section>
<section id="hubs-authorities-and-eigenvectors" class="level2">
<h2 class="anchored" data-anchor-id="hubs-authorities-and-eigenvectors">Hubs, Authorities and Eigenvectors</h2>
<p>Recall that both the eigenvector and PageRank status scores computed via the network status distribution game routine ended up being equivalent to the eigenvectors of a network proximity matrix (the adjacency matrix <span class="math inline">\(\mathbf{A}\)</span> and the probability matrix <span class="math inline">\(\mathbf{P}\)</span> respectively). It would be surprising if the same wasn’t true of the hub and authority status scores.</p>
<p>Let’s find out which ones!</p>
<p>Consider the matrices:</p>
<p><span class="math display">\[
\mathbf{M}_h = \mathbf{A}\mathbf{A}^T
\]</span></p>
<p><span class="math display">\[
\mathbf{M}_a = \mathbf{A}^T\mathbf{A}
\]</span></p>
<p>Let’s see what they look like in the Krackhardt manager’s network:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>   M.h <span class="ot">=</span> A <span class="sc">%*%</span> <span class="fu">t</span>(A)</span>
<span id="cb51-2"><a href="#cb51-2"></a>   M.a <span class="ot">=</span> <span class="fu">t</span>(A) <span class="sc">%*%</span> A</span>
<span id="cb51-3"><a href="#cb51-3"></a>   M.h[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    6    1    5    5    5    1    3    4    5     5
 [2,]    1    3    3    2    3    1    2    3    3     0
 [3,]    5    3   15   11   12    1    8    8   12     8
 [4,]    5    2   11   12   11    1    7    6   11     8
 [5,]    5    3   12   11   15    1    7    7   12    10
 [6,]    1    1    1    1    1    1    1    1    1     0
 [7,]    3    2    8    7    7    1    8    5    8     4
 [8,]    4    3    8    6    7    1    5    8    7     4
 [9,]    5    3   12   11   12    1    8    7   13     7
[10,]    5    0    8    8   10    0    4    4    7    14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>   M.a[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]   13   13    4    5    5    6    8    8    4     8
 [2,]   13   18    5    8    5    9   11   10    4     9
 [3,]    4    5    5    4    4    2    4    4    2     3
 [4,]    5    8    4    8    3    4    6    6    3     4
 [5,]    5    5    4    3    5    1    3    3    3     3
 [6,]    6    9    2    4    1   10    7    7    2     6
 [7,]    8   11    4    6    3    7   13    6    3     7
 [8,]    8   10    4    6    3    7    6   10    3     6
 [9,]    4    4    2    3    3    2    3    3    4     3
[10,]    8    9    3    4    3    6    7    6    3     9</code></pre>
</div>
</div>
<p>What’s in these matrices? Well let’s look at <span class="math inline">\(\mathbf{M}_h\)</span>. The diagonals will look familiar because they happen to be the <strong>outdegree</strong> of each node:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>   <span class="fu">degree</span>(g, <span class="at">mode =</span> <span class="st">"out"</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6  3 15 12 15  1  8  8 13 14</code></pre>
</div>
</div>
<p>You may have guessed that the diagonals of matrix <span class="math inline">\(\mathbf{M}_a\)</span> contain the <strong>indegrees</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>   <span class="fu">degree</span>(g, <span class="at">mode =</span> <span class="st">"in"</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 13 18  5  8  5 10 13 10  4  9</code></pre>
</div>
</div>
<p>Which means that the <em>off-diagonals</em> cells of each matrix <span class="math inline">\(m_{ij}\)</span> and <span class="math inline">\(n_{ij}\)</span>, contain the <strong>common out-neighbors</strong> and <strong>common in-neighbors</strong> shared by nodes <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> in the graph, respectively.</p>
<p>In information science, <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices have special interpretations. Consider the subgraph shown in <a href="#fig-sub">Figure&nbsp;1</a>, which contains nodes 2 and 11 from the Krackhardt advice network and their respective neighbors:</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-sub" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="prestige_files/figure-html/fig-sub-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Subgraph from Krackhardt’s Managers Network.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>If these nodes where papers, then we would say that both 2 and 11 point to a common third node 1. In an information network, the papers that other papers point to are their common references. Therefore the number of <em>common out-neighbors</em> of two nodes is is called the <strong>bibliographic coupling</strong> score between the two papers. In the same way, we can see that 2 and 11 are pointed to by a common third neighbor 21. The number of <em>common in-neighbors</em> between two-papers is called their <strong>co-citation</strong> score.</p>
<p>Both the bibliographic coupling and the co-citation scores get at two ways that nodes can be similar in a directed graph. In the social context of advice seeking, for instance, two people can be similar if they seek advice from the same others, or two people can be similar if they are sought after for advice by the same others.</p>
<p>The <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices, therefore are two (unweighted) similarity matrices between the nodes in a directed graph. As you may also be suspecting, the hub and authorities scores are the leading eigenvectors of the <span class="math inline">\(\mathbf{M}_h\)</span> and <span class="math inline">\(\mathbf{M}_a\)</span> matrices <span class="citation" data-cites="kleinberg99">(<a href="#ref-kleinberg99" role="doc-biblioref">Kleinberg 1999</a>)</span>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>   a <span class="ot">&lt;-</span> <span class="fu">eigen</span>(M.a)<span class="sc">$</span>vector[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>   h <span class="ot">&lt;-</span> <span class="fu">eigen</span>(M.h)<span class="sc">$</span>vector[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb59-3"><a href="#cb59-3"></a>   <span class="fu">round</span>(a<span class="sc">/</span><span class="fu">max</span>(a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>   <span class="fu">round</span>(h<span class="sc">/</span><span class="fu">max</span>(h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>Given the connection to the HITS dual status ranking, sometimes the <span class="math inline">\(\mathbf{M}_h\)</span> is called the <strong>hub matrix</strong> and the <span class="math inline">\(\mathbf{M}_a\)</span> is called the <strong>authority matrix</strong> <span class="citation" data-cites="ding_etal02">(<a href="#ref-ding_etal02" role="doc-biblioref">Ding et al. 2002</a>)</span>.</p>
<p>Note that this also means we could have obtained the hub and authority scores using our old <code>status1</code> function, but we would have had to play the game twice, once for the matrix <span class="math inline">\(\mathbf{M}_a\)</span> and the other one for the matrix <span class="math inline">\(\mathbf{M}_h\)</span>, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>   a <span class="ot">&lt;-</span> <span class="fu">status1</span>(M.a)</span>
<span id="cb63-2"><a href="#cb63-2"></a>   <span class="fu">round</span>(a<span class="sc">/</span><span class="fu">max</span>(a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.782 1.000 0.356 0.496 0.330 0.644 0.684 0.711 0.290 0.615 0.769 0.498
[13] 0.323 0.677 0.267 0.570 0.645 0.871 0.323 0.589 0.776</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>   h <span class="ot">&lt;-</span> <span class="fu">status1</span>(M.h)</span>
<span id="cb65-2"><a href="#cb65-2"></a>   <span class="fu">round</span>(h<span class="sc">/</span><span class="fu">max</span>(h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.370 0.176 0.841 0.709 0.835 0.065 0.492 0.490 0.773 0.672 0.206 0.122
[13] 0.331 0.279 1.000 0.274 0.313 0.800 0.581 0.687 0.600</code></pre>
</div>
</div>
<p>This link once again demonstrates the equivalence between the eigenvectors of the hub and authority matrices, as similarity matrices between nodes in the network, and our prismatic status distribution game!</p>
</section>
<section id="combining-pagerank-and-hits-salsa" class="level2">
<h2 class="anchored" data-anchor-id="combining-pagerank-and-hits-salsa">Combining PageRank and HITS: SALSA</h2>
<p><span class="citation" data-cites="lempel_moran01">Lempel and Moran (<a href="#ref-lempel_moran01" role="doc-biblioref">2001</a>)</span> show that we can combine the logic of PageRank and HITS. Their basic idea is to use the same mutually reinforcing approach as in HITS but with degree-normalized (stochastic) versions of the adjacency matrix (like in PageRank).<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>Let’s see how it works.</p>
<p>Recall that PageRank works on the <span class="math inline">\(\mathbf{P}\)</span> matrix, which is defined like this:</p>
<p><span class="math display">\[
\mathbf{P}_{h} = \mathbf{D}_{out}^{-1}\mathbf{A}
\]</span></p>
<p>In <code>R</code> we compute it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>   P.h <span class="ot">&lt;-</span> D.o <span class="sc">%*%</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This matrix is row-stochastic, because each row is divided by the row total (the outdegrees of each node), meaning its rows sum to one, like we saw before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>   <span class="fu">rowSums</span>(P.h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>It is also possible to compute the <strong>indegree normalized</strong> version of the <span class="math inline">\(\mathbf{P}\)</span> matrix, defined like this:</p>
<p><span class="math display">\[
\mathbf{P}_{a} = \mathbf{D}_{in}^{-1} \mathbf{A}^T
\]</span></p>
<p>Where <span class="math inline">\(\mathbf{D}_{in}^{-1}\)</span> is a matrix containing the inverse of the indegrees along the diagonals (and zeroes elsewhere) and <span class="math inline">\(\mathbf{A}^T\)</span> is the transpose of the adjacency matrix. Each non-zero entry of is thus equal to one divided by that row node’s indegree.</p>
<p>In <code>R</code> we compute it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>   D.i <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">colSums</span>(A))</span>
<span id="cb70-2"><a href="#cb70-2"></a>   P.a <span class="ot">&lt;-</span> D.i <span class="sc">%*%</span> <span class="fu">t</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Like <span class="math inline">\(\mathbf{P}_{h}\)</span> the <span class="math inline">\(\mathbf{P}_{a}\)</span> matrix is row-stochastic, meaning its rows sum to 1.0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>   <span class="fu">rowSums</span>(P.a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>To get the SALSA version of the hub and authority scores, we can just play our status game over newly defined versions of the hub and authority matrices <span class="citation" data-cites="langville_meyer05">(<a href="#ref-langville_meyer05" role="doc-biblioref">Langville and Meyer 2005, 156</a>)</span>.</p>
<p>The SALSA hub matrix is defined like this:</p>
<p><span class="math display">\[
\mathbf{Q}_h = \mathbf{P}_a\mathbf{P}_h
\]</span></p>
<p>And the SALSA authority matrix like this:</p>
<p><span class="math display">\[
\mathbf{Q}_a = \mathbf{P}_h\mathbf{P}_a
\]</span></p>
<p>Which in <code>R</code> looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>   Q.h <span class="ot">&lt;-</span> P.a <span class="sc">%*%</span> P.h</span>
<span id="cb73-2"><a href="#cb73-2"></a>   Q.a <span class="ot">&lt;-</span> P.h <span class="sc">%*%</span> P.a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Each of these matrices are row stochastic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>   <span class="fu">rowSums</span>(Q.h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>   <span class="fu">rowSums</span>(Q.a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>Which means that inequalities will be defined according to differences in the in-degrees of each node just like PageRank.</p>
<p>And now to obtain our SALSA hub and authority scores, we simply play our <code>status1</code> game on (the transpose of) these matrices, just like we did for PageRank:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>   salsa.h <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(Q.a)) </span>
<span id="cb78-2"><a href="#cb78-2"></a>   salsa.h<span class="sc">/</span><span class="fu">max</span>(salsa.h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.30 0.15 0.75 0.60 0.75 0.05 0.40 0.40 0.65 0.70 0.15 0.10 0.30 0.20 1.00
[16] 0.20 0.25 0.85 0.55 0.60 0.55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>   salsa.a <span class="ot">&lt;-</span> <span class="fu">status1</span>(<span class="fu">t</span>(Q.h)) </span>
<span id="cb80-2"><a href="#cb80-2"></a>   <span class="fu">round</span>(salsa.a<span class="sc">/</span><span class="fu">max</span>(salsa.a), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.72 1.00 0.28 0.44 0.28 0.56 0.72 0.56 0.22 0.50 0.61 0.39 0.22 0.56 0.22
[16] 0.44 0.50 0.83 0.22 0.44 0.83</code></pre>
</div>
</div>
<p>What are these numbers? Well, it turns out that they are equivalent to the out and indegrees of each node, divided by the total number of edges in the network <span class="citation" data-cites="fouss_etal04">(<a href="#ref-fouss_etal04" role="doc-biblioref">Fouss, Renders, and Saerens 2004, 451</a>)</span>.</p>
<p>So the SALSA hub and authority scores can also be obtained like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>   out.ratio <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(A)<span class="sc">/</span><span class="fu">sum</span>(A)</span>
<span id="cb82-2"><a href="#cb82-2"></a>   out.ratio<span class="sc">/</span><span class="fu">max</span>(out.ratio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.30 0.15 0.75 0.60 0.75 0.05 0.40 0.40 0.65 0.70 0.15 0.10 0.30 0.20 1.00
[16] 0.20 0.25 0.85 0.55 0.60 0.55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>   in.ratio <span class="ot">&lt;-</span> <span class="fu">colSums</span>(A)<span class="sc">/</span><span class="fu">sum</span>(A)</span>
<span id="cb84-2"><a href="#cb84-2"></a>   <span class="fu">round</span>(in.ratio<span class="sc">/</span><span class="fu">max</span>(in.ratio), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.72 1.00 0.28 0.44 0.28 0.56 0.72 0.56 0.22 0.50 0.61 0.39 0.22 0.56 0.22
[16] 0.44 0.50 0.83 0.22 0.44 0.83</code></pre>
</div>
</div>
<p>We could, of course, create “Google” versions of these matrices and compute our SALSA version of the hub and authorities scores by incorporating a damping factor, teleportation, and all the rest <span class="citation" data-cites="rafiei_mendelzon00">(<a href="#ref-rafiei_mendelzon00" role="doc-biblioref">Rafiei and Mendelzon 2000</a>)</span>.</p>
</section>
<section id="correspondence-analysis" class="level2">
<h2 class="anchored" data-anchor-id="correspondence-analysis">Correspondence Analysis</h2>
<p><span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> show that there is a link between a method to analyze two-way tables called <strong>correspondence analysis</strong>, and both Lempel and Moran’s SALSA and Kleinberg’s HITS algorithms.</p>
<p>They first ask: What if we play our status distribution game not on the <em>transpose</em> of the SALSA hub and authority matrices like we just did but just on the regular matrices without transposition?</p>
<p>Here’s what happens:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>   <span class="fu">status1</span>(Q.h) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179
 [8] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179
[15] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>   <span class="fu">status1</span>(Q.a) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179
 [8] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179
[15] 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179 0.2182179</code></pre>
</div>
</div>
<p>OK, so that’s weird. All that we get is a vector with the same number repeated twenty one times (in this case, the number of nodes in the graph). What’s going on?</p>
<p>Recall from the previous that the status game computes the <strong>leading eigenvector</strong> of the matrix we play the game on, and spits that vector out as our status scores for that matrix. The leading eigenvector is that associated with the largest eigenvalue (if the matrix contains one).</p>
<p>So all that this is telling us is that the first eigenvector of the un-transposed versions of the SALSA hub and authority matrices is pretty useless because it assigns everyone the same status score.</p>
<p>But <span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> note, like we did at the beginning, that a matrix has many eigenvector/eigenvalue pairs and that perhaps the <em>second</em> leading eigenvector is not that useless; this is the eigenvector associated with the <em>second</em> largest eigenvalue.</p>
<p>How do we get that vector? Well, as always, there is a mathematical workaround. The trick is to create a new matrix that removes the influence of that first (useless) eigenvector and then play our status game on <em>that</em> matrix.</p>
<p>To do that, let’s create a matrix that is equal to the original useless eigenvector times its own transpose. In <code>R</code> this goes like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>   v1 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.h)</span>
<span id="cb90-2"><a href="#cb90-2"></a>   D <span class="ot">&lt;-</span> v1 <span class="sc">%*%</span> <span class="fu">t</span>(v1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What’s in this matrix? Let’s see the first ten rows and columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>   <span class="fu">round</span>(D[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]  [,9] [,10]
 [1,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [2,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [3,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [4,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [5,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [6,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [7,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [8,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
 [9,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048
[10,] 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048 0.048</code></pre>
</div>
</div>
<p>So it’s just a matrix of the same dimension as the SALSA hub matrix with the same number over and over. In fact that number is equal to:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>   <span class="fu">round</span>(<span class="fl">0.2182179</span><span class="sc">^</span><span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.048</code></pre>
</div>
</div>
<p>Which is just the useless constant status score squared.</p>
<p>Now, we create new SALSA hub and authority matrices, which are equal to the original minus the constant <code>D</code> matrix above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>   Q.h2 <span class="ot">&lt;-</span> Q.h <span class="sc">-</span> D</span>
<span id="cb95-2"><a href="#cb95-2"></a>   Q.a2 <span class="ot">&lt;-</span> Q.a <span class="sc">-</span> D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And now we play our status game on these matrices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>   h2 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.h2)</span>
<span id="cb96-2"><a href="#cb96-2"></a>   a2 <span class="ot">&lt;-</span> <span class="fu">status1</span>(Q.a2)</span>
<span id="cb96-3"><a href="#cb96-3"></a>   <span class="fu">names</span>(h2) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span>
<span id="cb96-4"><a href="#cb96-4"></a>   <span class="fu">names</span>(a2) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We then use the function below to normalize each status score to be within the minus one to plus one interval and have mean zero:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>   norm.v <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb97-2"><a href="#cb97-2"></a>      x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">min</span>(x)</span>
<span id="cb97-3"><a href="#cb97-3"></a>      x <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">max</span>(x)</span>
<span id="cb97-4"><a href="#cb97-4"></a>      x <span class="ot">&lt;-</span> x <span class="sc">-</span> <span class="fu">mean</span>(x)</span>
<span id="cb97-5"><a href="#cb97-5"></a>      <span class="fu">return</span>(x)</span>
<span id="cb97-6"><a href="#cb97-6"></a>   }</span>
<span id="cb97-7"><a href="#cb97-7"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(h2), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
-0.008 -0.146  0.299 -0.106  0.414 -0.329 -0.455 -0.005  0.223 -0.049 -0.027 
    12     13     14     15     16     17     18     19     20     21 
-0.158  0.291  0.035  0.323  0.026 -0.057 -0.114  0.291  0.139 -0.586 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(a2), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.007 -0.436  0.074  0.074  0.138 -0.626 -0.019 -0.098  0.023  0.374 -0.063 
    12     13     14     15     16     17     18     19     20     21 
-0.530  0.334 -0.243  0.212  0.119 -0.147  0.292  0.290  0.107  0.115 </code></pre>
</div>
</div>
<p>Now, these scores don’t seem useless. They are different across each node; some are positive and some are negative.</p>
<p><span class="citation" data-cites="fouss_etal04">Fouss, Renders, and Saerens (<a href="#ref-fouss_etal04" role="doc-biblioref">2004</a>)</span> show that these are the same scores you would obtain from a correspondence analysis of the original affilaition matrix.</p>
<p>Let’s check that out in our case. First, we load the package <code>FactoMineR</code> which can be used to compute the correspondence analysis of any matrix in <code>R</code> using the function <code>CA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>   <span class="fu">library</span>(FactoMineR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the correspondence analysis scores—on the first dimension—fo the Krackhardt advice network can be obtained like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>   ca.res <span class="ot">&lt;-</span> <span class="fu">CA</span>(A, <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb102-2"><a href="#cb102-2"></a>   ca.h <span class="ot">&lt;-</span> ca.res<span class="sc">$</span>col<span class="sc">$</span>coord[, <span class="dv">1</span>]</span>
<span id="cb102-3"><a href="#cb102-3"></a>   ca.a <span class="ot">&lt;-</span> ca.res<span class="sc">$</span>row<span class="sc">$</span>coord[, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In line 1 we store the <code>CA</code> results in the object <code>ca.res</code>. We then grab the <code>CA</code> scores associated with the columns of the adjacency matrix and put them in the object <code>ca.h</code> in line 2 and the scores associated with the rows of the adjacency matrix and put them in the object <code>ca.a</code>.</p>
<p>Now for the big reveal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(ca.h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    V1     V2     V3     V4     V5     V6     V7     V8     V9    V10    V11 
-0.008 -0.146  0.299 -0.106  0.414 -0.329 -0.455 -0.005  0.223 -0.049 -0.027 
   V12    V13    V14    V15    V16    V17    V18    V19    V20    V21 
-0.158  0.291  0.035  0.323  0.026 -0.057 -0.114  0.291  0.139 -0.586 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>   <span class="fu">round</span>(<span class="fu">norm.v</span>(ca.a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10     11 
 0.007 -0.436  0.074  0.074  0.138 -0.626 -0.019 -0.098  0.023  0.374 -0.063 
    12     13     14     15     16     17     18     19     20     21 
-0.530  0.334 -0.243  0.212  0.119 -0.147  0.292  0.290  0.107  0.115 </code></pre>
</div>
</div>
<p>Which shows that indeed the CA scores are the same ones as we obtain from playing our status game on the corrected versions of the un-transposed SALSA hub and authorities matrices!</p>
</section>
<section id="hybrid-pagerankhits-approaches" class="level2">
<h2 class="anchored" data-anchor-id="hybrid-pagerankhits-approaches">Hybrid PageRank/HITS Approaches</h2>
<p><span class="citation" data-cites="borodin_etal05">Borodin et al. (<a href="#ref-borodin_etal05" role="doc-biblioref">2005</a>)</span> argue that perhaps a better approach to combining PageRank and HITS is to normalize only <em>one</em> of the scores by degree while leaving the other score alone.</p>
<section id="picky-hubs" class="level3">
<h3 class="anchored" data-anchor-id="picky-hubs">Picky Hubs</h3>
<p>For instance, in some settings, it might make more sense to assign more authority to nodes that are pointed to by <em>picky hubs</em> (e.g., people who seek advice from a few select others), and discount the authority scores of nodes that are pointed to by <em>indiscriminate</em> hubs (people who seek advice from everyone).</p>
<p>We can do this by taking the <em>average</em> of the authority scores of all nodes each hub points to rather than sum, and then feeding this number back to the authority score calculation. This entails slightly modifying the HITS status game as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>   status3 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb107-2"><a href="#cb107-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb107-3"><a href="#cb107-3"></a>     d.o <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(w) <span class="co">#outdegree of each node</span></span>
<span id="cb107-4"><a href="#cb107-4"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb107-5"><a href="#cb107-5"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb107-6"><a href="#cb107-6"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb107-7"><a href="#cb107-7"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb107-8"><a href="#cb107-8"></a>         h <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.a <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb107-9"><a href="#cb107-9"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span>d.o <span class="co">#averaging hub scores by number of out-neighbors</span></span>
<span id="cb107-10"><a href="#cb107-10"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb107-11"><a href="#cb107-11"></a>         a <span class="ot">&lt;-</span> <span class="fu">t</span>(w) <span class="sc">%*%</span> h <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb107-12"><a href="#cb107-12"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb107-13"><a href="#cb107-13"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb107-14"><a href="#cb107-14"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb107-15"><a href="#cb107-15"></a>         }</span>
<span id="cb107-16"><a href="#cb107-16"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb107-17"><a href="#cb107-17"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that the only modification is the addition of <code>h &lt;- h/d.o</code> in line 9, which divides the hub score by the outdegree of each hub.</p>
<p>The resulting hubs and authorities scores are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>   hits.res2 <span class="ot">&lt;-</span> <span class="fu">status3</span>(A)</span>
<span id="cb108-2"><a href="#cb108-2"></a>   <span class="fu">round</span>(hits.res2<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res2<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.693 1.000 0.221 0.414 0.223 0.538 0.759 0.494 0.187 0.470 0.552 0.361
[13] 0.174 0.498 0.180 0.395 0.451 0.817 0.174 0.375 0.893</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a>   <span class="fu">round</span>(hits.res2<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res2<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.749 0.818 0.635 0.657 0.619 1.000 0.716 0.762 0.683 0.493 0.916 0.925
[13] 0.639 0.972 0.543 0.835 0.842 0.508 0.590 0.642 0.604</code></pre>
</div>
</div>
<p>This is an implementation of the “HubAvg” algorithm described by <span class="citation" data-cites="borodin_etal05">Borodin et al. (<a href="#ref-borodin_etal05" role="doc-biblioref">2005, 238–39</a>)</span>.</p>
</section>
<section id="exclusive-authorities" class="level3">
<h3 class="anchored" data-anchor-id="exclusive-authorities">Exclusive Authorities</h3>
<p>In the same way, depending on the application, it might make more sense to assign a larger hub score to hubs that point to <em>exclusive authorities</em> (authorities that are sought after by a few select others) and discount the hubness of hubs that point to <em>popular authorities</em> (those who are sought after by everyone).</p>
<p>We can implement this approach, let’s call it the “AuthAvg” algorithm with a slight modification of the function above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>   status4 <span class="ot">&lt;-</span> <span class="cf">function</span>(w) {</span>
<span id="cb112-2"><a href="#cb112-2"></a>     a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(w))  <span class="co">#initializing authority scores</span></span>
<span id="cb112-3"><a href="#cb112-3"></a>     d.i <span class="ot">&lt;-</span> <span class="fu">colSums</span>(w) <span class="co">#indegree of each node</span></span>
<span id="cb112-4"><a href="#cb112-4"></a>     d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#initializing delta</span></span>
<span id="cb112-5"><a href="#cb112-5"></a>     k <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#initializing counter</span></span>
<span id="cb112-6"><a href="#cb112-6"></a>     <span class="cf">while</span> (d <span class="sc">&gt;=</span> <span class="fl">1e-10</span>) {</span>
<span id="cb112-7"><a href="#cb112-7"></a>         o.a <span class="ot">&lt;-</span> a <span class="co">#old authority scores</span></span>
<span id="cb112-8"><a href="#cb112-8"></a>         h <span class="ot">&lt;-</span> w <span class="sc">%*%</span> o.a <span class="co">#new hub scores a function of previous authority scores of their out-neighbors</span></span>
<span id="cb112-9"><a href="#cb112-9"></a>         h <span class="ot">&lt;-</span> h<span class="sc">/</span><span class="fu">norm</span>(h, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb112-10"><a href="#cb112-10"></a>         a <span class="ot">&lt;-</span> <span class="fu">t</span>(w) <span class="sc">%*%</span> h <span class="co">#new authority scores a function of current hub scores of their in-neighbors</span></span>
<span id="cb112-11"><a href="#cb112-11"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span>d.i <span class="co">#averaging authority score by number of in-neighbors</span></span>
<span id="cb112-12"><a href="#cb112-12"></a>         a <span class="ot">&lt;-</span> a<span class="sc">/</span><span class="fu">norm</span>(a, <span class="at">type =</span> <span class="st">"E"</span>)</span>
<span id="cb112-13"><a href="#cb112-13"></a>         d <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(o.a) <span class="sc">-</span> <span class="fu">abs</span>(a))) <span class="co">#delta between old and new authority scores</span></span>
<span id="cb112-14"><a href="#cb112-14"></a>         k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb112-15"><a href="#cb112-15"></a>         }</span>
<span id="cb112-16"><a href="#cb112-16"></a>   <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">h =</span> <span class="fu">as.vector</span>(h), <span class="at">a =</span> <span class="fu">as.vector</span>(a), <span class="at">k =</span> k))</span>
<span id="cb112-17"><a href="#cb112-17"></a>   }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And the resulting hubs and authorities scores are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>   hits.res3 <span class="ot">&lt;-</span> <span class="fu">status4</span>(A)</span>
<span id="cb113-2"><a href="#cb113-2"></a>   <span class="fu">round</span>(hits.res3<span class="sc">$</span>a<span class="sc">/</span><span class="fu">max</span>(hits.res3<span class="sc">$</span>a), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.651 0.579 0.877 0.694 0.819 0.658 0.548 0.784 0.855 0.733 0.761 0.736
[13] 1.000 0.738 0.808 0.797 0.768 0.600 1.000 0.847 0.524</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>   <span class="fu">round</span>(hits.res3<span class="sc">$</span>h<span class="sc">/</span><span class="fu">max</span>(hits.res3<span class="sc">$</span>h), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.266 0.116 0.700 0.564 0.734 0.035 0.358 0.341 0.593 0.734 0.119 0.072
[13] 0.283 0.150 1.000 0.171 0.200 0.869 0.532 0.561 0.523</code></pre>
</div>
</div>
</section>
</section>
<section id="a-final-ranking-of-prestige-scores" class="level2">
<h2 class="anchored" data-anchor-id="a-final-ranking-of-prestige-scores">A Final Ranking of Prestige Scores</h2>
<p>Like before, we can treat the the Regular Hub, and Authority Scores, their SALSA versions, and their hub and authority averaged versions as “centralities” defined over nodes in the graph. In that case we might be interested in how different nodes in Krackhardt’s High Tech Managers network stack up according to the different status criteria:</p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Prestige Scores Ordered by Indegree.</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Node.ID </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Aut </th>
   <th style="text-align:center;"> Hub.Salsa </th>
   <th style="text-align:center;"> Aut.Salsa </th>
   <th style="text-align:center;"> Hub.Avg1 </th>
   <th style="text-align:center;"> Aut.Avg1 </th>
   <th style="text-align:center;"> Hub.Avg2 </th>
   <th style="text-align:center;"> Aut.Avg2 </th>
   <th style="text-align:center;"> Indegree </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.818 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.116 </td>
   <td style="text-align:center;"> 0.579 </td>
   <td style="text-align:center;"> 18 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.508 </td>
   <td style="text-align:center;"> 0.817 </td>
   <td style="text-align:center;"> 0.869 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 21 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.604 </td>
   <td style="text-align:center;"> 0.893 </td>
   <td style="text-align:center;"> 0.523 </td>
   <td style="text-align:center;"> 0.524 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.749 </td>
   <td style="text-align:center;"> 0.693 </td>
   <td style="text-align:center;"> 0.266 </td>
   <td style="text-align:center;"> 0.651 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.716 </td>
   <td style="text-align:center;"> 0.759 </td>
   <td style="text-align:center;"> 0.358 </td>
   <td style="text-align:center;"> 0.548 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.916 </td>
   <td style="text-align:center;"> 0.552 </td>
   <td style="text-align:center;"> 0.119 </td>
   <td style="text-align:center;"> 0.761 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.538 </td>
   <td style="text-align:center;"> 0.035 </td>
   <td style="text-align:center;"> 0.658 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.762 </td>
   <td style="text-align:center;"> 0.494 </td>
   <td style="text-align:center;"> 0.341 </td>
   <td style="text-align:center;"> 0.784 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.972 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.150 </td>
   <td style="text-align:center;"> 0.738 </td>
   <td style="text-align:center;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.493 </td>
   <td style="text-align:center;"> 0.470 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.733 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.842 </td>
   <td style="text-align:center;"> 0.451 </td>
   <td style="text-align:center;"> 0.200 </td>
   <td style="text-align:center;"> 0.768 </td>
   <td style="text-align:center;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.657 </td>
   <td style="text-align:center;"> 0.414 </td>
   <td style="text-align:center;"> 0.564 </td>
   <td style="text-align:center;"> 0.694 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.395 </td>
   <td style="text-align:center;"> 0.171 </td>
   <td style="text-align:center;"> 0.797 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 20 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.642 </td>
   <td style="text-align:center;"> 0.375 </td>
   <td style="text-align:center;"> 0.561 </td>
   <td style="text-align:center;"> 0.847 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.925 </td>
   <td style="text-align:center;"> 0.361 </td>
   <td style="text-align:center;"> 0.072 </td>
   <td style="text-align:center;"> 0.736 </td>
   <td style="text-align:center;"> 7 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.635 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> 0.700 </td>
   <td style="text-align:center;"> 0.877 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.619 </td>
   <td style="text-align:center;"> 0.223 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.819 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.683 </td>
   <td style="text-align:center;"> 0.187 </td>
   <td style="text-align:center;"> 0.593 </td>
   <td style="text-align:center;"> 0.855 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.639 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.283 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 0.543 </td>
   <td style="text-align:center;"> 0.180 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.808 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 19 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.590 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.532 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
</tbody>
</table>

</div>
<div class="cell-output-display">

<table class="table table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Top Prestige Scores Ordered by Outdegree</caption>
 <thead>
  <tr>
   <th style="text-align:center;"> Node.ID </th>
   <th style="text-align:center;"> Hub </th>
   <th style="text-align:center;"> Aut </th>
   <th style="text-align:center;"> Hub.Salsa </th>
   <th style="text-align:center;"> Aut.Salsa </th>
   <th style="text-align:center;"> Hub.Avg1 </th>
   <th style="text-align:center;"> Aut.Avg1 </th>
   <th style="text-align:center;"> Hub.Avg2 </th>
   <th style="text-align:center;"> Aut.Avg2 </th>
   <th style="text-align:center;"> Outdegree </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 15 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.267 </td>
   <td style="text-align:center;"> 0.543 </td>
   <td style="text-align:center;"> 0.180 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.808 </td>
   <td style="text-align:center;"> 20 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 18 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.800 </td>
   <td style="text-align:center;"> 0.871 </td>
   <td style="text-align:center;"> 0.508 </td>
   <td style="text-align:center;"> 0.817 </td>
   <td style="text-align:center;"> 0.869 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 17 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 3 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.841 </td>
   <td style="text-align:center;"> 0.356 </td>
   <td style="text-align:center;"> 0.635 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> 0.700 </td>
   <td style="text-align:center;"> 0.877 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 5 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.330 </td>
   <td style="text-align:center;"> 0.619 </td>
   <td style="text-align:center;"> 0.223 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.819 </td>
   <td style="text-align:center;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 10 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.672 </td>
   <td style="text-align:center;"> 0.615 </td>
   <td style="text-align:center;"> 0.493 </td>
   <td style="text-align:center;"> 0.470 </td>
   <td style="text-align:center;"> 0.734 </td>
   <td style="text-align:center;"> 0.733 </td>
   <td style="text-align:center;"> 14 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 9 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.773 </td>
   <td style="text-align:center;"> 0.290 </td>
   <td style="text-align:center;"> 0.683 </td>
   <td style="text-align:center;"> 0.187 </td>
   <td style="text-align:center;"> 0.593 </td>
   <td style="text-align:center;"> 0.855 </td>
   <td style="text-align:center;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 4 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.709 </td>
   <td style="text-align:center;"> 0.496 </td>
   <td style="text-align:center;"> 0.657 </td>
   <td style="text-align:center;"> 0.414 </td>
   <td style="text-align:center;"> 0.564 </td>
   <td style="text-align:center;"> 0.694 </td>
   <td style="text-align:center;"> 12 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 20 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.687 </td>
   <td style="text-align:center;"> 0.589 </td>
   <td style="text-align:center;"> 0.642 </td>
   <td style="text-align:center;"> 0.375 </td>
   <td style="text-align:center;"> 0.561 </td>
   <td style="text-align:center;"> 0.847 </td>
   <td style="text-align:center;"> 12 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 19 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.581 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.590 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.532 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 21 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.600 </td>
   <td style="text-align:center;"> 0.776 </td>
   <td style="text-align:center;"> 0.604 </td>
   <td style="text-align:center;"> 0.893 </td>
   <td style="text-align:center;"> 0.523 </td>
   <td style="text-align:center;"> 0.524 </td>
   <td style="text-align:center;"> 11 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 7 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.492 </td>
   <td style="text-align:center;"> 0.684 </td>
   <td style="text-align:center;"> 0.716 </td>
   <td style="text-align:center;"> 0.759 </td>
   <td style="text-align:center;"> 0.358 </td>
   <td style="text-align:center;"> 0.548 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 8 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.490 </td>
   <td style="text-align:center;"> 0.711 </td>
   <td style="text-align:center;"> 0.762 </td>
   <td style="text-align:center;"> 0.494 </td>
   <td style="text-align:center;"> 0.341 </td>
   <td style="text-align:center;"> 0.784 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 1 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.370 </td>
   <td style="text-align:center;"> 0.782 </td>
   <td style="text-align:center;"> 0.749 </td>
   <td style="text-align:center;"> 0.693 </td>
   <td style="text-align:center;"> 0.266 </td>
   <td style="text-align:center;"> 0.651 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 13 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.331 </td>
   <td style="text-align:center;"> 0.323 </td>
   <td style="text-align:center;"> 0.639 </td>
   <td style="text-align:center;"> 0.174 </td>
   <td style="text-align:center;"> 0.283 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 17 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.313 </td>
   <td style="text-align:center;"> 0.645 </td>
   <td style="text-align:center;"> 0.842 </td>
   <td style="text-align:center;"> 0.451 </td>
   <td style="text-align:center;"> 0.200 </td>
   <td style="text-align:center;"> 0.768 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 14 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.279 </td>
   <td style="text-align:center;"> 0.677 </td>
   <td style="text-align:center;"> 0.972 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.150 </td>
   <td style="text-align:center;"> 0.738 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 16 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.274 </td>
   <td style="text-align:center;"> 0.570 </td>
   <td style="text-align:center;"> 0.835 </td>
   <td style="text-align:center;"> 0.395 </td>
   <td style="text-align:center;"> 0.171 </td>
   <td style="text-align:center;"> 0.797 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 2 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.176 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.818 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.116 </td>
   <td style="text-align:center;"> 0.579 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 11 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.206 </td>
   <td style="text-align:center;"> 0.769 </td>
   <td style="text-align:center;"> 0.916 </td>
   <td style="text-align:center;"> 0.552 </td>
   <td style="text-align:center;"> 0.119 </td>
   <td style="text-align:center;"> 0.761 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 12 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.122 </td>
   <td style="text-align:center;"> 0.498 </td>
   <td style="text-align:center;"> 0.925 </td>
   <td style="text-align:center;"> 0.361 </td>
   <td style="text-align:center;"> 0.072 </td>
   <td style="text-align:center;"> 0.736 </td>
   <td style="text-align:center;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:center;font-weight: bold;"> 6 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 0.065 </td>
   <td style="text-align:center;"> 0.644 </td>
   <td style="text-align:center;"> 1.000 </td>
   <td style="text-align:center;"> 0.538 </td>
   <td style="text-align:center;"> 0.035 </td>
   <td style="text-align:center;"> 0.658 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>

<!--
## Two-Mode Networks as Prisms

We can use the same "prismatic" mode of status distribution to rank nodes in two-mode networks that we used in the standard one-mode case. The difference is that in the one-mode case you gain status by connecting to entities of the same "type" as you (e.g., other people). In the two-mode case, your status reflects the status of the "other type" entities that you connect to. And vice versa. 

For instance, if the two entities are people and groups [@breiger74], then people gain status by connecting to high status groups and groups gain status by connecting to high-status people. In other words, people distribute status points to the groups they belong to and groups distribute status points to the people that belong to them. 

When it comes to **eigenvector**-style measures, the neat idea is that *people are central if they belong to central groups and groups and central if their members are central people* (with people centrality defined by membership in central groups) can be effectively captured by these metrics [@bonacich91].

For this reason, measures of status and prestige are particularly applicable to two-mode networks. The reason is that the *reflective* principle behind these measures interacts nicely with the *duality* principle. 

## Eigenvector Status in the Southern Women Data

Let's see an example using the classic Southern Women dataset. We can load it from the trusty `networkdata` package, and extract the bi-adjacency matrix from the `igraph` object:


::: {.cell}

```{.r .cell-code}
   library(networkdata)
   library(igraph)
   g <- southern_women
   A <- as.matrix(as_biadjacency_matrix(g))
```
:::


Below is a quick function that plays a two-mode version of the status distribution game that we described at the beginning, which is really just a modification of the one-mode HITS algorithm:


::: {.cell}

```{.r .cell-code}
   tm.status <- function(p, g, e = 1e-10, r = 4) {
      y <- matrix(1/ncol(p), ncol(p), 1) #initial group status column vector set to a constant
      d <- 1 
      k <- 0
      while (d > e) {
         o.y <- y #old group status scores
         x <- p %*% o.y #new people scores a function of people matrix and old group scores 
         x <- x/norm(x, type = "E") #normalizing new status scores
         y <- g %*% x #new group scores a function of group matrix and new people scores
         y <- y/norm(y, type = "E") #normalizing new status scores
         if (k > 1) {
            d <- abs(sum(abs(y) - abs(o.y))) #diff. between new and old group status scores
            }
         k <- k + 1
         }
      x <- x/max(x) #norming person scores by maximum
      y <- y/max(y) #norming group scores by maximum
      p.s <- round(as.vector(x), r)
      g.s <- round(as.vector(y), r)
      names(p.s) <- rownames(p)
      names(g.s) <- rownames(g)
   return(list(p.s = p.s, g.s = g.s, k = k))
   }
```
:::


Line 2 initializes the original status scores for each group, which are just set to $|G|^{-1}$ where $|G|$ is the number of groups (the number of columns of the bi-adjacency matrix $\mathbf{A}$). Line 3 initializes the $\delta$ value, which determines when the `while` loop stops. Then, inside the `while` loop, we assign status scores to the people equal to the sum of the status scores of the groups they belong to (line 7) which is just $\mathbf{A}$ post-multiplied by the group status vector $\mathbf{y}$, then we normalize the people status score vector in line 8 using the Euclidean norm. In line 9 we calculate the new group status vector, which, for each group, is given by the sum of the status scores of the people that belong them that we computed in line 7. Then we normalize the new  group status scores in line 10 and compute the difference between these new group scores and the old one. When the difference is small ($\delta = 10^{-10}$) the `while` loop stops. 

And now we can use the function to estimate the status scores for people and groups:


::: {.cell}

```{.r .cell-code}
   tm.hits <- tm.status(A, t(A))
```
:::


Here are the scores for the people:


::: {.cell}

```{.r .cell-code}
   tm.hits$p.s
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
   0.9033    0.8345    1.0000    0.8447    0.4539    0.5639    0.6162    0.4858 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
   0.6370    0.5894    0.5041    0.5945    0.7480    0.7122    0.5415    0.3547 
   OLIVIA     FLORA 
   0.1877    0.1877 
```
:::
:::


And for the groups:


::: {.cell}

```{.r .cell-code}
   tm.hits$g.s
```

::: {.cell-output .cell-output-stdout}
```
  6/27    3/2   4/12   9/26   2/25   5/19   3/15   9/16    4/8   6/10   2/23 
0.2802 0.2970 0.4991 0.3474 0.6350 0.6467 0.7570 1.0000 0.7490 0.3363 0.1767 
   4/7  11/21    8/3 
0.4003 0.2229 0.2229 
```
:::
:::


Here, we can see that Theresa is the top person (attending the most central events) closely followed by Evelyn, with Flora and Nora toward the bottom. The event held at 9/16 is the top event (attended by the most central people).

When we use the usual affiliation matrix `A` and its transpose `t(A)` as inputs, the `tm.status` function implements the biHITS algorithm described in @liao_etal14. One thing to note in this regard is that the biHITS algorithm is just a rediscovery of the dual status eigenvector centrality scoring described much earlier by @bonacich91. 

Interestingly as @bonacich91 noted in that paper, the eigenvector status scores can *also* be obtained by playing the one-mode version of the status game over the Breiger-style one-mode projections of the two-mode network. 

To see this, let's play the usual status game defined by the function `status1` over the one mode projections. For people this would be:


::: {.cell}

```{.r .cell-code}
   p.s <- status1(A %*% t(A))
   names(p.s) <- rownames(A)
   round(p.s, 3)
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.335     0.309     0.371     0.313     0.168     0.209     0.228     0.180 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.236     0.218     0.187     0.220     0.277     0.264     0.201     0.131 
   OLIVIA     FLORA 
    0.070     0.070 
```
:::
:::


And for groups:


::: {.cell}

```{.r .cell-code}
   g.s <- status1(t(A) %*% A)
   names(g.s) <- colnames(A)
   round(g.s, 3)
```

::: {.cell-output .cell-output-stdout}
```
 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
0.142 0.150 0.253 0.176 0.322 0.328 0.384 0.507 0.379 0.170 0.090 0.203 0.113 
  8/3 
0.113 
```
:::
:::


Lo and behold, these are the same status scores we obtained via the biHITS approach. 

Also like eigenvector style measures for two-mode networks, the iterative status game scores can be obtained as a solution to an linear algebra eigenvector problem involving the relevant matrices over which the game is played.

In the case of the two-mode eigenvector scores, as @bonacich91 also noted, it turns out they can be computed by figuring out the leading eigenvector (what our status game does for any matrix) of the Breiger projection matrices:

$$
\lambda x = (\mathbf{A}\mathbf{A}^T)x
$$

$$
\lambda y = (\mathbf{A}^T\mathbf{A})y
$$

In `R` we can do this using the `eigen` function:


::: {.cell}

```{.r .cell-code}
   eig.p <- eigen(A %*% t(A))
   eig.g <- eigen(t(A) %*% A)
   p.s <- eig.p$vector[, 1] * -1
   g.s <- eig.g$vector[, 1] * -1
   names(p.s) <- rownames(A)
   names(g.s) <- colnames(A)
   round(p.s, 3)
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    0.335     0.309     0.371     0.313     0.168     0.209     0.228     0.180 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.236     0.218     0.187     0.220     0.277     0.264     0.201     0.131 
   OLIVIA     FLORA 
    0.070     0.070 
```
:::

```{.r .cell-code}
   round(g.s, 3)
```

::: {.cell-output .cell-output-stdout}
```
 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
0.142 0.150 0.253 0.176 0.322 0.328 0.384 0.507 0.379 0.170 0.090 0.203 0.113 
  8/3 
0.113 
```
:::
:::


Neat! These are the same scores we obtained by playing our status game on the affiliation matrix (biHITS) using `tm.status` or in the one-mode projection (Bonacich) using the `status1` function. This becomes obvious once we normalized the eigenvecto scores by their maximum:


::: {.cell}

```{.r .cell-code}
   round(p.s/max(p.s), 4)
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
   0.9033    0.8345    1.0000    0.8447    0.4539    0.5639    0.6162    0.4858 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
   0.6370    0.5894    0.5041    0.5945    0.7480    0.7122    0.5415    0.3547 
   OLIVIA     FLORA 
   0.1877    0.1877 
```
:::

```{.r .cell-code}
   round(g.s/max(g.s), 4)
```

::: {.cell-output .cell-output-stdout}
```
  6/27    3/2   4/12   9/26   2/25   5/19   3/15   9/16    4/8   6/10   2/23 
0.2802 0.2970 0.4991 0.3474 0.6350 0.6467 0.7570 1.0000 0.7490 0.3363 0.1767 
   4/7  11/21    8/3 
0.4003 0.2229 0.2229 
```
:::
:::


The scores are also readily interpretable: The most central people belong to the most central (largest membership) groups and the most central groups are the ones that attract the most central (highest activity) members. 

## Duality and Eigenvector Two-Mode Status

Another way of thinking of the eigenvector status score of each node in this context is as a weighted sum^[Where the weight (for obscure technical reasons) is the inverse of the square root of the first eigenvalue obtained from the `eigen` analysis.] of the eigenvector centralities on the nodes in the other mode they are connected to [@faust97, p. 170].

So for any person, let's say {EVELYN}, their eigenvector centrality is equal to:


::: {.cell}

```{.r .cell-code}
   sum(A["EVELYN", ] * g.s) * 1/sqrt(eig.p$values[1])
```

::: {.cell-output .cell-output-stdout}
```
[1] 0.334734
```
:::
:::


Which is indeed Evelyn's Eigenvector score. 

The same goes for the eigenvector score of groups, which are just a weighted sum of the Eigenvector centralities of the people who belong to them:


::: {.cell}

```{.r .cell-code}
   sum(A[, "6/27"] * p.s) *1/sqrt(eig.p$values[1])
```

::: {.cell-output .cell-output-stdout}
```
[1] 0.1419431
```
:::
:::


Which is indeed the eigenvector score for the event held on 6/27. Duality at work!


## Two-Mode PageRank

Like in the case of the usual eigenvector approach to calculating status, the distribution game in the function `tm.status` assumes that persons and groups distribute the same amount of status regardless of their own degree (which you recall for people is the number of memberships and for groups is the number of members). 

But just like with regular PageRank for one-mode networks, we can change this assumption in the two-mode case by presuming that people get more status points to distribute when they belong to exclusive (smaller) groups, and groups get more status to distribute when their members are more selective in their affiliation behavior (they have a smaller number of memberships).

To do that, we create new versions of the affiliation matrix $\mathbf{A}$ and its transpose $\mathbf{A}^T$ normalized by the group and persons degrees (respectively). 

To do this, imagine that $\mathbf{D}_p$ is a matrix containing the *inverse* of the degrees of each person (number of memberships) along the diagonals. This matrix can be created in `R` as follows:


::: {.cell}

```{.r .cell-code}
   D.p <- diag(1/rowSums(A))
   round(D.p, 2)
```

::: {.cell-output .cell-output-stdout}
```
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,] 0.12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [2,] 0.00 0.14 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [3,] 0.00 0.00 0.12 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [4,] 0.00 0.00 0.00 0.14 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [5,] 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [6,] 0.00 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.00  0.00  0.00  0.00  0.00
 [7,] 0.00 0.00 0.00 0.00 0.00 0.00 0.25 0.00 0.00  0.00  0.00  0.00  0.00
 [8,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.33 0.00  0.00  0.00  0.00  0.00
 [9,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.25  0.00  0.00  0.00  0.00
[10,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.25  0.00  0.00  0.00
[11,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.25  0.00  0.00
[12,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.17  0.00
[13,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.14
[14,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
[15,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
[16,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
[17,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
[18,] 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0.00  0.00  0.00  0.00
      [,14] [,15] [,16] [,17] [,18]
 [1,]  0.00   0.0   0.0   0.0   0.0
 [2,]  0.00   0.0   0.0   0.0   0.0
 [3,]  0.00   0.0   0.0   0.0   0.0
 [4,]  0.00   0.0   0.0   0.0   0.0
 [5,]  0.00   0.0   0.0   0.0   0.0
 [6,]  0.00   0.0   0.0   0.0   0.0
 [7,]  0.00   0.0   0.0   0.0   0.0
 [8,]  0.00   0.0   0.0   0.0   0.0
 [9,]  0.00   0.0   0.0   0.0   0.0
[10,]  0.00   0.0   0.0   0.0   0.0
[11,]  0.00   0.0   0.0   0.0   0.0
[12,]  0.00   0.0   0.0   0.0   0.0
[13,]  0.00   0.0   0.0   0.0   0.0
[14,]  0.12   0.0   0.0   0.0   0.0
[15,]  0.00   0.2   0.0   0.0   0.0
[16,]  0.00   0.0   0.5   0.0   0.0
[17,]  0.00   0.0   0.0   0.5   0.0
[18,]  0.00   0.0   0.0   0.0   0.5
```
:::
:::


Recalling that the row sums of $\mathbf{A}$ give us the person degrees.

And then we do the same for groups by creating a matrix $\mathbf{D}_g$ containing the *inverse* of the degrees of each group (number of members) along the diagonals.


::: {.cell}

```{.r .cell-code}
   D.g <- diag(1/colSums(A))
   round(D.g, 2)
```

::: {.cell-output .cell-output-stdout}
```
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
 [1,] 0.33 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [2,] 0.00 0.33 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [3,] 0.00 0.00 0.17 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [4,] 0.00 0.00 0.00 0.25 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [5,] 0.00 0.00 0.00 0.00 0.12 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [6,] 0.00 0.00 0.00 0.00 0.00 0.12  0.0 0.00 0.00   0.0  0.00  0.00  0.00
 [7,] 0.00 0.00 0.00 0.00 0.00 0.00  0.1 0.00 0.00   0.0  0.00  0.00  0.00
 [8,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.07 0.00   0.0  0.00  0.00  0.00
 [9,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.08   0.0  0.00  0.00  0.00
[10,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.2  0.00  0.00  0.00
[11,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.25  0.00  0.00
[12,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.17  0.00
[13,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.33
[14,] 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.00   0.0  0.00  0.00  0.00
      [,14]
 [1,]  0.00
 [2,]  0.00
 [3,]  0.00
 [4,]  0.00
 [5,]  0.00
 [6,]  0.00
 [7,]  0.00
 [8,]  0.00
 [9,]  0.00
[10,]  0.00
[11,]  0.00
[12,]  0.00
[13,]  0.00
[14,]  0.33
```
:::
:::


Recalling that the column sums of $\mathbf{A}$ give us the group degrees.

Now we can construct degree-normalized versions of the original bi-adjacency matrix and its transpose like this:


::: {.cell}

```{.r .cell-code}
   P.n <- A %*% D.g 
   colnames(P.n) <- colnames(A)
   G.n <- t(A) %*% D.p
   colnames(G.n) <- rownames(A)
```
:::


Let's see what's in the matrix `P.n`:


::: {.cell}

```{.r .cell-code}
   round(P.n, 2)
```

::: {.cell-output .cell-output-stdout}
```
          6/27  3/2 4/12 9/26 2/25 5/19 3/15 9/16  4/8 6/10 2/23  4/7 11/21
EVELYN    0.33 0.33 0.17 0.25 0.12 0.12  0.0 0.07 0.08  0.0 0.00 0.00  0.00
LAURA     0.33 0.33 0.17 0.00 0.12 0.12  0.1 0.07 0.00  0.0 0.00 0.00  0.00
THERESA   0.00 0.33 0.17 0.25 0.12 0.12  0.1 0.07 0.08  0.0 0.00 0.00  0.00
BRENDA    0.33 0.00 0.17 0.25 0.12 0.12  0.1 0.07 0.00  0.0 0.00 0.00  0.00
CHARLOTTE 0.00 0.00 0.17 0.25 0.12 0.00  0.1 0.00 0.00  0.0 0.00 0.00  0.00
FRANCES   0.00 0.00 0.17 0.00 0.12 0.12  0.0 0.07 0.00  0.0 0.00 0.00  0.00
ELEANOR   0.00 0.00 0.00 0.00 0.12 0.12  0.1 0.07 0.00  0.0 0.00 0.00  0.00
PEARL     0.00 0.00 0.00 0.00 0.00 0.12  0.0 0.07 0.08  0.0 0.00 0.00  0.00
RUTH      0.00 0.00 0.00 0.00 0.12 0.00  0.1 0.07 0.08  0.0 0.00 0.00  0.00
VERNE     0.00 0.00 0.00 0.00 0.00 0.00  0.1 0.07 0.08  0.0 0.00 0.17  0.00
MYRNA     0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.07 0.08  0.2 0.00 0.17  0.00
KATHERINE 0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.07 0.08  0.2 0.00 0.17  0.33
SYLVIA    0.00 0.00 0.00 0.00 0.00 0.00  0.1 0.07 0.08  0.2 0.00 0.17  0.33
NORA      0.00 0.00 0.00 0.00 0.00 0.12  0.1 0.00 0.08  0.2 0.25 0.17  0.33
HELEN     0.00 0.00 0.00 0.00 0.00 0.00  0.1 0.07 0.00  0.2 0.25 0.17  0.00
DOROTHY   0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.07 0.08  0.0 0.00 0.00  0.00
OLIVIA    0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.08  0.0 0.25 0.00  0.00
FLORA     0.00 0.00 0.00 0.00 0.00 0.00  0.0 0.00 0.08  0.0 0.25 0.00  0.00
           8/3
EVELYN    0.00
LAURA     0.00
THERESA   0.00
BRENDA    0.00
CHARLOTTE 0.00
FRANCES   0.00
ELEANOR   0.00
PEARL     0.00
RUTH      0.00
VERNE     0.00
MYRNA     0.00
KATHERINE 0.33
SYLVIA    0.33
NORA      0.33
HELEN     0.00
DOROTHY   0.00
OLIVIA    0.00
FLORA     0.00
```
:::
:::


The `P.n` matrix is of the same dimensions as the original affiliation matrix `A`. However, the ${ij}^{th}$ cell is now equal to $1/k_j$ where $k_j$ is the number of members of group $j$. That means that if group $j$ has a lot of members then the ${ij}^{th}$ cell will contain a small number (as in column in the non-zero entries in the column corresponding to event `9-16`) but when the group is small, the ${ij}^{th}$ cell will contain a bigger number (as in the non-zero entries in the column corresponding to event `11-21`). This means the people who belong to smaller groups will have more centrality points to distribute. 

The same goes for groups, as we can see by checking out the `G.n` matrix:


::: {.cell}

```{.r .cell-code}
   round(G.n, 2)
```

::: {.cell-output .cell-output-stdout}
```
      EVELYN LAURA THERESA BRENDA CHARLOTTE FRANCES ELEANOR PEARL RUTH VERNE
6/27    0.12  0.14    0.00   0.14      0.00    0.00    0.00  0.00 0.00  0.00
3/2     0.12  0.14    0.12   0.00      0.00    0.00    0.00  0.00 0.00  0.00
4/12    0.12  0.14    0.12   0.14      0.25    0.25    0.00  0.00 0.00  0.00
9/26    0.12  0.00    0.12   0.14      0.25    0.00    0.00  0.00 0.00  0.00
2/25    0.12  0.14    0.12   0.14      0.25    0.25    0.25  0.00 0.25  0.00
5/19    0.12  0.14    0.12   0.14      0.00    0.25    0.25  0.33 0.00  0.00
3/15    0.00  0.14    0.12   0.14      0.25    0.00    0.25  0.00 0.25  0.25
9/16    0.12  0.14    0.12   0.14      0.00    0.25    0.25  0.33 0.25  0.25
4/8     0.12  0.00    0.12   0.00      0.00    0.00    0.00  0.33 0.25  0.25
6/10    0.00  0.00    0.00   0.00      0.00    0.00    0.00  0.00 0.00  0.00
2/23    0.00  0.00    0.00   0.00      0.00    0.00    0.00  0.00 0.00  0.00
4/7     0.00  0.00    0.00   0.00      0.00    0.00    0.00  0.00 0.00  0.25
11/21   0.00  0.00    0.00   0.00      0.00    0.00    0.00  0.00 0.00  0.00
8/3     0.00  0.00    0.00   0.00      0.00    0.00    0.00  0.00 0.00  0.00
      MYRNA KATHERINE SYLVIA NORA HELEN DOROTHY OLIVIA FLORA
6/27   0.00      0.00   0.00 0.00   0.0     0.0    0.0   0.0
3/2    0.00      0.00   0.00 0.00   0.0     0.0    0.0   0.0
4/12   0.00      0.00   0.00 0.00   0.0     0.0    0.0   0.0
9/26   0.00      0.00   0.00 0.00   0.0     0.0    0.0   0.0
2/25   0.00      0.00   0.00 0.00   0.0     0.0    0.0   0.0
5/19   0.00      0.00   0.00 0.12   0.0     0.0    0.0   0.0
3/15   0.00      0.00   0.14 0.12   0.2     0.0    0.0   0.0
9/16   0.25      0.17   0.14 0.00   0.2     0.5    0.0   0.0
4/8    0.25      0.17   0.14 0.12   0.0     0.5    0.5   0.5
6/10   0.25      0.17   0.14 0.12   0.2     0.0    0.0   0.0
2/23   0.00      0.00   0.00 0.12   0.2     0.0    0.5   0.5
4/7    0.25      0.17   0.14 0.12   0.2     0.0    0.0   0.0
11/21  0.00      0.17   0.14 0.12   0.0     0.0    0.0   0.0
8/3    0.00      0.17   0.14 0.12   0.0     0.0    0.0   0.0
```
:::
:::


Note that both matrices `P.n` and `G.n` are **column stochastic** which means that its columns sum to one. We can check for this property as follows:


::: {.cell}

```{.r .cell-code}
   colSums(P.n)
```

::: {.cell-output .cell-output-stdout}
```
 6/27   3/2  4/12  9/26  2/25  5/19  3/15  9/16   4/8  6/10  2/23   4/7 11/21 
    1     1     1     1     1     1     1     1     1     1     1     1     1 
  8/3 
    1 
```
:::

```{.r .cell-code}
   colSums(G.n)
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
        1         1         1         1         1         1         1         1 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
        1         1         1         1         1         1         1         1 
   OLIVIA     FLORA 
        1         1 
```
:::
:::


So now, to calculate the two-mode PageRank status score, we just play our two-mode status game on these matrices: 


::: {.cell}

```{.r .cell-code}
   tm.status(P.n, G.n)
```

::: {.cell-output .cell-output-stdout}
```
$p.s
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
    1.000     0.875     1.000     0.875     0.500     0.500     0.500     0.375 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
    0.500     0.500     0.500     0.750     0.875     1.000     0.625     0.250 
   OLIVIA     FLORA 
    0.250     0.250 

$g.s
  6/27    3/2   4/12   9/26   2/25   5/19   3/15   9/16    4/8   6/10   2/23 
0.2143 0.2143 0.4286 0.2857 0.5714 0.5714 0.7143 1.0000 0.8571 0.3571 0.2857 
   4/7  11/21    8/3 
0.4286 0.2143 0.2143 

$k
[1] 35
```
:::
:::


The resulting scores are the same ones returned by the "co-HITS" algorithm of @deng_etal09. On this ranking, Nora, Theresa, and Evelyn are tied at the top and Olivia and Flora are tied at the bottom. 

## Double Normalized Two-Mode PageRank

Recall that the main reason for using the PageRank normalization in the two-mode case (and preferring the PageRank scoring over the eigenvector scoring) is to give more status points to discerning people, so that people who belong to more exclusive clubs distribute more centrality in the system. So to do that we divided each person's centrality points according to the size of the group they belong to, so that evenly gets 0.33 centrality points for attending event 6/27 because that event was attended by only three people, which is more than she gets for attending event 4/8 which was attended by twelve people (and the same for events).

However, the PageRank centrality rankings can still be affected by the sheer *number* of events attended by a person (or the sheer number of members of a group) even if that person is not particularly selective. Thus, a person who attends a whole bunch of not-very selective (well-attended) events still contributes as much centrality to the system as a person who attends fewer but more selective events. 

To do that, it would be useful to come up with versions of `P.n` and `G.n` that normalize (for persons) by the exclusivity of the groups they attend *and* by the number of events they go to, so as not to give an advantage to those who attend a lot of events. In the same way, it would be also be useful normalize (for groups) by the discernment of the people who are its members *and* by their number of members they go to, so as not to give an advantage to well-attended events. 

We can do this by coming up with a double-normalized versio of the affiliation matrix $\mathbf{A}^*$ that adjusts for both group size and number of memberships as follows:

$$
\mathbf{A}^* = \mathbf{D}_p\mathbf{A}\mathbf{D}_g
$$

Where everything is as we defined it before. In `R` we can do this as follows:


::: {.cell}

```{.r .cell-code}
   A.n <- D.p %*% A %*% D.g
   rownames(A.n) <- rownames(A)
   colnames(A.n) <- colnames(A)
```
:::


Let's see what's inside the `A.n` matrix:


::: {.cell}

```{.r .cell-code}
   round(A.n, 2)
```

::: {.cell-output .cell-output-stdout}
```
          6/27  3/2 4/12 9/26 2/25 5/19 3/15 9/16  4/8 6/10 2/23  4/7 11/21
EVELYN    0.04 0.04 0.02 0.03 0.02 0.02 0.00 0.01 0.01 0.00 0.00 0.00  0.00
LAURA     0.05 0.05 0.02 0.00 0.02 0.02 0.01 0.01 0.00 0.00 0.00 0.00  0.00
THERESA   0.00 0.04 0.02 0.03 0.02 0.02 0.01 0.01 0.01 0.00 0.00 0.00  0.00
BRENDA    0.05 0.00 0.02 0.04 0.02 0.02 0.01 0.01 0.00 0.00 0.00 0.00  0.00
CHARLOTTE 0.00 0.00 0.04 0.06 0.03 0.00 0.03 0.00 0.00 0.00 0.00 0.00  0.00
FRANCES   0.00 0.00 0.04 0.00 0.03 0.03 0.00 0.02 0.00 0.00 0.00 0.00  0.00
ELEANOR   0.00 0.00 0.00 0.00 0.03 0.03 0.03 0.02 0.00 0.00 0.00 0.00  0.00
PEARL     0.00 0.00 0.00 0.00 0.00 0.04 0.00 0.02 0.03 0.00 0.00 0.00  0.00
RUTH      0.00 0.00 0.00 0.00 0.03 0.00 0.03 0.02 0.02 0.00 0.00 0.00  0.00
VERNE     0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.02 0.02 0.00 0.00 0.04  0.00
MYRNA     0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.02 0.02 0.05 0.00 0.04  0.00
KATHERINE 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.03 0.00 0.03  0.06
SYLVIA    0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.01 0.03 0.00 0.02  0.05
NORA      0.00 0.00 0.00 0.00 0.00 0.02 0.01 0.00 0.01 0.03 0.03 0.02  0.04
HELEN     0.00 0.00 0.00 0.00 0.00 0.00 0.02 0.01 0.00 0.04 0.05 0.03  0.00
DOROTHY   0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.04 0.04 0.00 0.00 0.00  0.00
OLIVIA    0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.04 0.00 0.12 0.00  0.00
FLORA     0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.04 0.00 0.12 0.00  0.00
           8/3
EVELYN    0.00
LAURA     0.00
THERESA   0.00
BRENDA    0.00
CHARLOTTE 0.00
FRANCES   0.00
ELEANOR   0.00
PEARL     0.00
RUTH      0.00
VERNE     0.00
MYRNA     0.00
KATHERINE 0.06
SYLVIA    0.05
NORA      0.04
HELEN     0.00
DOROTHY   0.00
OLIVIA    0.00
FLORA     0.00
```
:::
:::


We can see that now, people with lots of memberships (like Evelyn) get their centrality points reduced relative to people with not that many memberships like Charlotte. 

This is easy to see if we compare the row sums of the two matrices, which give us the total amount of centrality points each person has to distribute:


::: {.cell}

```{.r .cell-code}
   rowSums(P.n)
```

::: {.cell-output .cell-output-stdout}
```
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
1.4880952 1.2547619 1.2547619 1.1714286 0.6416667 0.4880952 0.4214286 0.2797619 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
0.3797619 0.4214286 0.5214286 1.1880952 1.2880952 1.5916667 0.7880952 0.1547619 
   OLIVIA     FLORA 
0.3333333 0.3333333 
```
:::

```{.r .cell-code}
   rowSums(A.n)
```

::: {.cell-output .cell-output-stdout}
```
    EVELYN      LAURA    THERESA     BRENDA  CHARLOTTE    FRANCES    ELEANOR 
0.18601190 0.17925170 0.15684524 0.16734694 0.16041667 0.12202381 0.10535714 
     PEARL       RUTH      VERNE      MYRNA  KATHERINE     SYLVIA       NORA 
0.09325397 0.09494048 0.10535714 0.13035714 0.19801587 0.18401361 0.19895833 
     HELEN    DOROTHY     OLIVIA      FLORA 
0.15761905 0.07738095 0.16666667 0.16666667 
```
:::
:::


Note that while in the `P.n` matrix Evelyn has way more centrality pointts to distribute than Charlotte (a ratio of 2.32), this discrepancy is much smaller in the `A.n` double-normalized matrix (a ratio of 1.16). 

Now to compute our double-normalized PageRank status scores, we just play the status game on the double-normalized matrix and its tranpose:


::: {.cell}

```{.r .cell-code}
   tm.status(A.n, t(A.n))
```

::: {.cell-output .cell-output-stdout}
```
$p.s
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
   0.0814    0.0607    0.0811    0.0587    0.0551    0.0497    0.0567    0.1161 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
   0.1001    0.1411    0.1877    0.2351    0.2118    0.4066    0.4713    0.1446 
   OLIVIA     FLORA 
   1.0000    1.0000 

$g.s
  6/27    3/2   4/12   9/26   2/25   5/19   3/15   9/16    4/8   6/10   2/23 
0.0317 0.0337 0.0370 0.0371 0.0449 0.0670 0.1016 0.1113 0.3955 0.1827 1.0000 
   4/7  11/21    8/3 
0.1728 0.1400 0.1400 

$k
[1] 47
```
:::
:::

::: {.cell}

```{.r .cell-code}
   D.p2 <- diag(1/sqrt(rowSums(A)))
   D.g2 <- diag(1/sqrt(colSums(A)))
   A.n2 <- D.p2 %*% A %*% D.g2
   rownames(A.n2) <- rownames(A)
   colnames(A.n2) <- colnames(A)
   tm.status(A.n2, t(A.n2))
```

::: {.cell-output .cell-output-stdout}
```
$p.s
   EVELYN     LAURA   THERESA    BRENDA CHARLOTTE   FRANCES   ELEANOR     PEARL 
   1.0000    0.9354    1.0000    0.9354    0.7071    0.7071    0.7071    0.6124 
     RUTH     VERNE     MYRNA KATHERINE    SYLVIA      NORA     HELEN   DOROTHY 
   0.7071    0.7071    0.7071    0.8660    0.9354    1.0000    0.7906    0.5000 
   OLIVIA     FLORA 
   0.5000    0.5000 

$g.s
  6/27    3/2   4/12   9/26   2/25   5/19   3/15   9/16    4/8   6/10   2/23 
0.4629 0.4629 0.6547 0.5345 0.7559 0.7559 0.8452 1.0000 0.9258 0.5976 0.5345 
   4/7  11/21    8/3 
0.6547 0.4629 0.4629 

$k
[1] 35
```
:::
:::

-->



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-bonacich72" class="csl-entry" role="doc-biblioentry">
Bonacich, Phillip. 1972. <span>“Factoring and Weighting Approaches to Status Scores and Clique Identification.”</span> <em>Journal of Mathematical Sociology</em> 2 (1): 113–20.
</div>
<div id="ref-borodin_etal05" class="csl-entry" role="doc-biblioentry">
Borodin, Allan, Gareth O Roberts, Jeffrey S Rosenthal, and Panayiotis Tsaparas. 2005. <span>“Link Analysis Ranking: Algorithms, Theory, and Experiments.”</span> <em>ACM Transactions on Internet Technology (TOIT)</em> 5 (1): 231–97.
</div>
<div id="ref-brin_page98" class="csl-entry" role="doc-biblioentry">
Brin, Sergey, and Lawrence Page. 1998. <span>“The Anatomy of a Large-Scale Hypertextual Web Search Engine.”</span> <em>Computer Networks and ISDN Systems</em> 30 (1-7): 107–17.
</div>
<div id="ref-ding_etal02" class="csl-entry" role="doc-biblioentry">
Ding, Chris, Xiaofeng He, Parry Husbands, Hongyuan Zha, and Horst Simon. 2002. <span>“<span class="nocase">PageRank, HITS and a Unified Framework for Link Analysis</span>.”</span> Lawrence Berkeley National Laboratory, University of California, Berkeley.
</div>
<div id="ref-fouss_etal04" class="csl-entry" role="doc-biblioentry">
Fouss, François, Jean-Michel Renders, and Marco Saerens. 2004. <span>“Some Relationships Between Kleinberg’s Hubs and Authorities, Correspondence Analysis, and the Salsa Algorithm.”</span> In <em>International Conference on the Statistical Analysis of Textual Data (JADT 2004)</em>.
</div>
<div id="ref-fouss_etal16" class="csl-entry" role="doc-biblioentry">
Fouss, François, Marco Saerens, and Masashi Shimbo. 2016. <em>Algorithms and Models for Network Data and Link Analysis</em>. Cambridge University Press.
</div>
<div id="ref-kleinberg99" class="csl-entry" role="doc-biblioentry">
Kleinberg, Jon M. 1999. <span>“Authoritative Sources in a Hyperlinked Environment.”</span> <em>Journal of the ACM (JACM)</em> 46 (5): 604–32.
</div>
<div id="ref-langville_meyer05" class="csl-entry" role="doc-biblioentry">
Langville, Amy N, and Carl D Meyer. 2005. <span>“A Survey of Eigenvector Methods for Web Information Retrieval.”</span> <em>SIAM Review</em> 47 (1): 135–61.
</div>
<div id="ref-lempel_moran01" class="csl-entry" role="doc-biblioentry">
Lempel, Ronny, and Shlomo Moran. 2001. <span>“SALSA: The Stochastic Approach for Link-Structure Analysis.”</span> <em>ACM Transactions on Information Systems (TOIS)</em> 19 (2): 131–60.
</div>
<div id="ref-podolny01" class="csl-entry" role="doc-biblioentry">
Podolny, Joel M. 2001. <span>“Networks as the Pipes and Prisms of the Market.”</span> <em>American Journal of Sociology</em> 107 (1): 33–60.
</div>
<div id="ref-rafiei_mendelzon00" class="csl-entry" role="doc-biblioentry">
Rafiei, Davood, and Alberto O Mendelzon. 2000. <span>“What Is This Page Known for? Computing Web Page Reputations.”</span> <em>Computer Networks</em> 33 (1-6): 823–35.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>For a vector of numbers <span class="math inline">\(\mathbf{x}\)</span> the euclidean vector norm <span class="math inline">\(||\mathbf{x}||_2\)</span> is given by: <span class="math inline">\(\sqrt{\sum x^2}\)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>HITS is an acronym for the unfortunate and impossible to remember name “Hypertext Induced Topic Selection” reflecting the origins the approach in web-based information science.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><span class="citation" data-cites="lempel_moran01">Lempel and Moran (<a href="#ref-lempel_moran01" role="doc-biblioref">2001</a>)</span> call this method the “Stochastic Approach for Link Structure Analysis” or SALSA (an actually clever and memorable acronym!).<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>